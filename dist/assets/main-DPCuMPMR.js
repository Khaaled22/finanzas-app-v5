var bp=Object.defineProperty;var wp=(t,e,n)=>e in t?bp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R=(t,e,n)=>wp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function _p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fh={exports:{}},xo={},mh={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),jp=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),Cp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Dp=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Ap(t){return t===null||typeof t!="object"?null:(t=Lc&&t[Lc]||t["@@iterator"],typeof t=="function"?t:null)}var ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,xh={};function ys(t,e,n){this.props=t,this.context=e,this.refs=xh,this.updater=n||ph}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yh(){}yh.prototype=ys.prototype;function jl(t,e,n){this.props=t,this.context=e,this.refs=xh,this.updater=n||ph}var Nl=jl.prototype=new yh;Nl.constructor=jl;gh(Nl,ys.prototype);Nl.isPureReactComponent=!0;var zc=Array.isArray,vh=Object.prototype.hasOwnProperty,Sl={current:null},bh={key:!0,ref:!0,__self:!0,__source:!0};function wh(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)vh.call(e,s)&&!bh.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Ti,type:t,key:r,ref:o,props:i,_owner:Sl.current}}function Fp(t,e){return{$$typeof:Ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ti}function Rp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bc=/\/+/g;function Oo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rp(""+t.key):e.toString(36)}function yr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ti:case jp:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Oo(o,0):s,zc(i)?(n="",t!=null&&(n=t.replace(Bc,"$&/")+"/"),yr(i,e,n,"",function(u){return u})):i!=null&&(kl(i)&&(i=Fp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",zc(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+Oo(r,a);o+=yr(r,e,n,c,i)}else if(c=Ap(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+Oo(r,a++),o+=yr(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(t,e,n){if(t==null)return t;var s=[],i=0;return yr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Op(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},vr={transition:null},Ip={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:vr,ReactCurrentOwner:Sl};function _h(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:zi,forEach:function(t,e,n){zi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zi(t,function(){e++}),e},toArray:function(t){return zi(t,function(e){return e})||[]},only:function(t){if(!kl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=ys;B.Fragment=Np;B.Profiler=kp;B.PureComponent=jl;B.StrictMode=Sp;B.Suspense=Ep;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ip;B.act=_h;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=gh({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Sl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)vh.call(e,c)&&!bh.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Ti,type:t.type,key:i,ref:r,props:s,_owner:o}};B.createContext=function(t){return t={$$typeof:Mp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cp,_context:t},t.Consumer=t};B.createElement=wh;B.createFactory=function(t){var e=wh.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Pp,render:t}};B.isValidElement=kl;B.lazy=function(t){return{$$typeof:Tp,_payload:{_status:-1,_result:t},_init:Op}};B.memo=function(t,e){return{$$typeof:Dp,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=vr.transition;vr.transition={};try{t()}finally{vr.transition=e}};B.unstable_act=_h;B.useCallback=function(t,e){return Te.current.useCallback(t,e)};B.useContext=function(t){return Te.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};B.useEffect=function(t,e){return Te.current.useEffect(t,e)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Te.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};B.useRef=function(t){return Te.current.useRef(t)};B.useState=function(t){return Te.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";mh.exports=B;var D=mh.exports;const Lp=_p(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=D,Bp=Symbol.for("react.element"),$p=Symbol.for("react.fragment"),Hp=Object.prototype.hasOwnProperty,Wp=zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vp={key:!0,ref:!0,__self:!0,__source:!0};function jh(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Hp.call(e,s)&&!Vp.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Bp,type:t,key:r,ref:o,props:i,_owner:Wp.current}}xo.Fragment=$p;xo.jsx=jh;xo.jsxs=jh;fh.exports=xo;var l=fh.exports,_a={},Nh={exports:{}},Ue={},Sh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,C){var I=k.length;k.push(C);e:for(;0<I;){var X=I-1>>>1,Q=k[X];if(0<i(Q,C))k[X]=C,k[I]=Q,I=X;else break e}}function n(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var C=k[0],I=k.pop();if(I!==C){k[0]=I;e:for(var X=0,Q=k.length,ft=Q>>>1;X<ft;){var Me=2*(X+1)-1,jt=k[Me],Pe=Me+1,Li=k[Pe];if(0>i(jt,I))Pe<Q&&0>i(Li,jt)?(k[X]=Li,k[Pe]=I,X=Pe):(k[X]=jt,k[Me]=I,X=Me);else if(Pe<Q&&0>i(Li,I))k[X]=Li,k[Pe]=I,X=Pe;else break e}}return C}function i(k,C){var I=k.sortIndex-C.sortIndex;return I!==0?I:k.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var C=n(u);C!==null;){if(C.callback===null)s(u);else if(C.startTime<=k)s(u),C.sortIndex=C.expirationTime,e(c,C);else break;C=n(u)}}function w(k){if(m=!1,b(k),!x)if(n(c)!==null)x=!0,T(_);else{var C=n(u);C!==null&&F(w,C.startTime-k)}}function _(k,C){x=!1,m&&(m=!1,g(N),N=-1),p=!0;var I=f;try{for(b(C),h=n(c);h!==null&&(!(h.expirationTime>C)||k&&!O());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var Q=X(h.expirationTime<=C);C=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(c)&&s(c),b(C)}else s(c);h=n(c)}if(h!==null)var ft=!0;else{var Me=n(u);Me!==null&&F(w,Me.startTime-C),ft=!1}return ft}finally{h=null,f=I,p=!1}}var S=!1,j=null,N=-1,P=5,E=-1;function O(){return!(t.unstable_now()-E<P)}function L(){if(j!==null){var k=t.unstable_now();E=k;var C=!0;try{C=j(!0,k)}finally{C?ee():(S=!1,j=null)}}else S=!1}var ee;if(typeof y=="function")ee=function(){y(L)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,W=ge.port2;ge.port1.onmessage=L,ee=function(){W.postMessage(null)}}else ee=function(){v(L,0)};function T(k){j=k,S||(S=!0,ee())}function F(k,C){N=v(function(){k(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,T(_))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var I=f;f=C;try{return k()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,C){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=f;f=k;try{return C()}finally{f=I}},t.unstable_scheduleCallback=function(k,C,I){var X=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,k={id:d++,callback:C,priorityLevel:k,startTime:I,expirationTime:Q,sortIndex:-1},I>X?(k.sortIndex=I,e(u,k),n(c)===null&&k===n(u)&&(m?(g(N),N=-1):m=!0,F(w,I-X))):(k.sortIndex=Q,e(c,k),x||p||(x=!0,T(_))),k},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(k){var C=f;return function(){var I=f;f=C;try{return k.apply(this,arguments)}finally{f=I}}}})(kh);Sh.exports=kh;var Up=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=D,Ve=Up;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ch=new Set,ai={};function On(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(ai[t]=e,t=0;t<e.length;t++)Ch.add(e[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,Gp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Hc={};function Xp(t){return ja.call(Hc,t)?!0:ja.call($c,t)?!1:Gp.test(t)?Hc[t]=!0:($c[t]=!0,!1)}function Kp(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qp(t,e,n,s){if(e===null||typeof e>"u"||Kp(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ae(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cl=/[\-:]([a-z])/g;function Ml(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cl,Ml);ve[e]=new Ae(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cl,Ml);ve[e]=new Ae(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cl,Ml);ve[e]=new Ae(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pl(t,e,n,s){var i=ve.hasOwnProperty(e)?ve[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qp(e,n,i,s)&&(n=null),s||i===null?Xp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Lt=Yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),Na=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),Dl=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),ka=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Eh=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=Wc&&t[Wc]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Io;function Ls(t){if(Io===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Io=e&&e[1]||""}return`
`+Io+t}var Lo=!1;function zo(t,e){if(!t||Lo)return"";Lo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Lo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ls(t):""}function qp(t){switch(t.tag){case 5:return Ls(t.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return t=zo(t.type,!1),t;case 11:return t=zo(t.type.render,!1),t;case 1:return t=zo(t.type,!0),t;default:return""}}function Ca(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vn:return"Fragment";case Wn:return"Portal";case Na:return"Profiler";case El:return"StrictMode";case Sa:return"Suspense";case ka:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ph:return(t.displayName||"Context")+".Consumer";case Mh:return(t._context.displayName||"Context")+".Provider";case Dl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tl:return e=t.displayName||null,e!==null?e:Ca(t.type)||"Memo";case Ht:e=t._payload,t=t._init;try{return Ca(t(e))}catch{}}return null}function Zp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ca(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jp(t){var e=Dh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $i(t){t._valueTracker||(t._valueTracker=Jp(t))}function Th(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Dh(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ma(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vc(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ah(t,e){e=e.checked,e!=null&&Pl(t,"checked",e,!1)}function Pa(t,e){Ah(t,e);var n=ln(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ea(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ea(t,e.type,ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ea(t,e,n){(e!=="number"||Or(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zs=Array.isArray;function ts(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Da(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(zs(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ln(n)}}function Fh(t,e){var n=ln(e.value),s=ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Gc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hi,Oh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function li(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eg=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(t){eg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xs[e]=Xs[t]})});function Ih(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xs.hasOwnProperty(t)&&Xs[t]?(""+e).trim():e+"px"}function Lh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Ih(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var tg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(t,e){if(e){if(tg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Fa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oa=null,ns=null,ss=null;function Xc(t){if(t=Ri(t)){if(typeof Oa!="function")throw Error(M(280));var e=t.stateNode;e&&(e=_o(e),Oa(t.stateNode,t.type,e))}}function zh(t){ns?ss?ss.push(t):ss=[t]:ns=t}function Bh(){if(ns){var t=ns,e=ss;if(ss=ns=null,Xc(t),e)for(t=0;t<e.length;t++)Xc(e[t])}}function $h(t,e){return t(e)}function Hh(){}var Bo=!1;function Wh(t,e,n){if(Bo)return t(e,n);Bo=!0;try{return $h(t,e,n)}finally{Bo=!1,(ns!==null||ss!==null)&&(Hh(),Bh())}}function ci(t,e){var n=t.stateNode;if(n===null)return null;var s=_o(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Ia=!1;if(Ft)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Ia=!1}function ng(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ks=!1,Ir=null,Lr=!1,La=null,sg={onError:function(t){Ks=!0,Ir=t}};function ig(t,e,n,s,i,r,o,a,c){Ks=!1,Ir=null,ng.apply(sg,arguments)}function rg(t,e,n,s,i,r,o,a,c){if(ig.apply(this,arguments),Ks){if(Ks){var u=Ir;Ks=!1,Ir=null}else throw Error(M(198));Lr||(Lr=!0,La=u)}}function In(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kc(t){if(In(t)!==t)throw Error(M(188))}function og(t){var e=t.alternate;if(!e){if(e=In(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Kc(i),t;if(r===s)return Kc(i),e;r=r.sibling}throw Error(M(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Uh(t){return t=og(t),t!==null?Yh(t):null}function Yh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yh(t);if(e!==null)return e;t=t.sibling}return null}var Gh=Ve.unstable_scheduleCallback,Qc=Ve.unstable_cancelCallback,ag=Ve.unstable_shouldYield,lg=Ve.unstable_requestPaint,ae=Ve.unstable_now,cg=Ve.unstable_getCurrentPriorityLevel,Fl=Ve.unstable_ImmediatePriority,Xh=Ve.unstable_UserBlockingPriority,zr=Ve.unstable_NormalPriority,ug=Ve.unstable_LowPriority,Kh=Ve.unstable_IdlePriority,yo=null,bt=null;function dg(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(yo,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:mg,hg=Math.log,fg=Math.LN2;function mg(t){return t>>>=0,t===0?32:31-(hg(t)/fg|0)|0}var Wi=64,Vi=4194304;function Bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Br(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=Bs(a):(r&=o,r!==0&&(s=Bs(r)))}else o=n&~i,o!==0?s=Bs(o):r!==0&&(s=Bs(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-ct(e),i=1<<n,s|=t[n],e&=~i;return s}function pg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gg(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-ct(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=pg(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function za(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qh(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function $o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ai(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=n}function xg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ct(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Rl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ct(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var G=0;function qh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zh,Ol,Jh,ef,tf,Ba=!1,Ui=[],Zt=null,Jt=null,en=null,ui=new Map,di=new Map,Vt=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(t,e){switch(t){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ui.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(e.pointerId)}}function Ss(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Ri(e),e!==null&&Ol(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vg(t,e,n,s,i){switch(e){case"focusin":return Zt=Ss(Zt,t,e,n,s,i),!0;case"dragenter":return Jt=Ss(Jt,t,e,n,s,i),!0;case"mouseover":return en=Ss(en,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return ui.set(r,Ss(ui.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,di.set(r,Ss(di.get(r)||null,t,e,n,s,i)),!0}return!1}function nf(t){var e=wn(t.target);if(e!==null){var n=In(e);if(n!==null){if(e=n.tag,e===13){if(e=Vh(n),e!==null){t.blockedOn=e,tf(t.priority,function(){Jh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function br(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$a(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ra=s,n.target.dispatchEvent(s),Ra=null}else return e=Ri(n),e!==null&&Ol(e),t.blockedOn=n,!1;e.shift()}return!0}function Zc(t,e,n){br(t)&&n.delete(e)}function bg(){Ba=!1,Zt!==null&&br(Zt)&&(Zt=null),Jt!==null&&br(Jt)&&(Jt=null),en!==null&&br(en)&&(en=null),ui.forEach(Zc),di.forEach(Zc)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Ba||(Ba=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,bg)))}function hi(t){function e(i){return ks(i,t)}if(0<Ui.length){ks(Ui[0],t);for(var n=1;n<Ui.length;n++){var s=Ui[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Zt!==null&&ks(Zt,t),Jt!==null&&ks(Jt,t),en!==null&&ks(en,t),ui.forEach(e),di.forEach(e),n=0;n<Vt.length;n++)s=Vt[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)nf(n),n.blockedOn===null&&Vt.shift()}var is=Lt.ReactCurrentBatchConfig,$r=!0;function wg(t,e,n,s){var i=G,r=is.transition;is.transition=null;try{G=1,Il(t,e,n,s)}finally{G=i,is.transition=r}}function _g(t,e,n,s){var i=G,r=is.transition;is.transition=null;try{G=4,Il(t,e,n,s)}finally{G=i,is.transition=r}}function Il(t,e,n,s){if($r){var i=$a(t,e,n,s);if(i===null)qo(t,e,s,Hr,n),qc(t,s);else if(vg(i,t,e,n,s))s.stopPropagation();else if(qc(t,s),e&4&&-1<yg.indexOf(t)){for(;i!==null;){var r=Ri(i);if(r!==null&&Zh(r),r=$a(t,e,n,s),r===null&&qo(t,e,s,Hr,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else qo(t,e,s,null,n)}}var Hr=null;function $a(t,e,n,s){if(Hr=null,t=Al(s),t=wn(t),t!==null)if(e=In(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hr=t,null}function sf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case Fl:return 1;case Xh:return 4;case zr:case ug:return 16;case Kh:return 536870912;default:return 16}default:return 16}}var Yt=null,Ll=null,wr=null;function rf(){if(wr)return wr;var t,e=Ll,n=e.length,s,i="value"in Yt?Yt.value:Yt.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return wr=i.slice(t,1<s?1-s:void 0)}function _r(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function Jc(){return!1}function Ye(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Yi:Jc,this.isPropagationStopped=Jc,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Ye(vs),Fi=ie({},vs,{view:0,detail:0}),jg=Ye(Fi),Ho,Wo,Cs,vo=ie({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cs&&(Cs&&t.type==="mousemove"?(Ho=t.screenX-Cs.screenX,Wo=t.screenY-Cs.screenY):Wo=Ho=0,Cs=t),Ho)},movementY:function(t){return"movementY"in t?t.movementY:Wo}}),eu=Ye(vo),Ng=ie({},vo,{dataTransfer:0}),Sg=Ye(Ng),kg=ie({},Fi,{relatedTarget:0}),Vo=Ye(kg),Cg=ie({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=Ye(Cg),Pg=ie({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eg=Ye(Pg),Dg=ie({},vs,{data:0}),tu=Ye(Dg),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fg[t])?!!e[t]:!1}function Bl(){return Rg}var Og=ie({},Fi,{key:function(t){if(t.key){var e=Tg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ag[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ig=Ye(Og),Lg=ie({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=Ye(Lg),zg=ie({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Bg=Ye(zg),$g=ie({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=Ye($g),Wg=ie({},vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=Ye(Wg),Ug=[9,13,27,32],$l=Ft&&"CompositionEvent"in window,Qs=null;Ft&&"documentMode"in document&&(Qs=document.documentMode);var Yg=Ft&&"TextEvent"in window&&!Qs,of=Ft&&(!$l||Qs&&8<Qs&&11>=Qs),su=" ",iu=!1;function af(t,e){switch(t){case"keyup":return Ug.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function Gg(t,e){switch(t){case"compositionend":return lf(e);case"keypress":return e.which!==32?null:(iu=!0,su);case"textInput":return t=e.data,t===su&&iu?null:t;default:return null}}function Xg(t,e){if(Un)return t==="compositionend"||!$l&&af(t,e)?(t=rf(),wr=Ll=Yt=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return of&&e.locale!=="ko"?null:e.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kg[t.type]:e==="textarea"}function cf(t,e,n,s){zh(s),e=Wr(e,"onChange"),0<e.length&&(n=new zl("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var qs=null,fi=null;function Qg(t){bf(t,0)}function bo(t){var e=Xn(t);if(Th(e))return t}function qg(t,e){if(t==="change")return e}var uf=!1;if(Ft){var Uo;if(Ft){var Yo="oninput"in document;if(!Yo){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),Yo=typeof ou.oninput=="function"}Uo=Yo}else Uo=!1;uf=Uo&&(!document.documentMode||9<document.documentMode)}function au(){qs&&(qs.detachEvent("onpropertychange",df),fi=qs=null)}function df(t){if(t.propertyName==="value"&&bo(fi)){var e=[];cf(e,fi,t,Al(t)),Wh(Qg,e)}}function Zg(t,e,n){t==="focusin"?(au(),qs=e,fi=n,qs.attachEvent("onpropertychange",df)):t==="focusout"&&au()}function Jg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(fi)}function e0(t,e){if(t==="click")return bo(e)}function t0(t,e){if(t==="input"||t==="change")return bo(e)}function n0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:n0;function mi(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!ja.call(e,i)||!dt(t[i],e[i]))return!1}return!0}function lu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cu(t,e){var n=lu(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lu(n)}}function hf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ff(){for(var t=window,e=Or();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Or(t.document)}return e}function Hl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s0(t){var e=ff(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hf(n.ownerDocument.documentElement,n)){if(s!==null&&Hl(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=cu(n,r);var o=cu(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i0=Ft&&"documentMode"in document&&11>=document.documentMode,Yn=null,Ha=null,Zs=null,Wa=!1;function uu(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wa||Yn==null||Yn!==Or(s)||(s=Yn,"selectionStart"in s&&Hl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zs&&mi(Zs,s)||(Zs=s,s=Wr(Ha,"onSelect"),0<s.length&&(e=new zl("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Yn)))}function Gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gn={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Go={},mf={};Ft&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function wo(t){if(Go[t])return Go[t];if(!Gn[t])return t;var e=Gn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mf)return Go[t]=e[n];return t}var pf=wo("animationend"),gf=wo("animationiteration"),xf=wo("animationstart"),yf=wo("transitionend"),vf=new Map,du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(t,e){vf.set(t,e),On(e,[t])}for(var Xo=0;Xo<du.length;Xo++){var Ko=du[Xo],r0=Ko.toLowerCase(),o0=Ko[0].toUpperCase()+Ko.slice(1);dn(r0,"on"+o0)}dn(pf,"onAnimationEnd");dn(gf,"onAnimationIteration");dn(xf,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(yf,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function hu(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,rg(s,e,void 0,t),t.currentTarget=null}function bf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;hu(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;hu(i,a,u),r=c}}}if(Lr)throw t=La,Lr=!1,La=null,t}function q(t,e){var n=e[Xa];n===void 0&&(n=e[Xa]=new Set);var s=t+"__bubble";n.has(s)||(wf(e,t,2,!1),n.add(s))}function Qo(t,e,n){var s=0;e&&(s|=4),wf(n,t,s,e)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function pi(t){if(!t[Xi]){t[Xi]=!0,Ch.forEach(function(n){n!=="selectionchange"&&(a0.has(n)||Qo(n,!1,t),Qo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xi]||(e[Xi]=!0,Qo("selectionchange",!1,e))}}function wf(t,e,n,s){switch(sf(e)){case 1:var i=wg;break;case 4:i=_g;break;default:i=Il}n=i.bind(null,e,n,t),i=void 0,!Ia||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qo(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wn(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Wh(function(){var u=r,d=Al(n),h=[];e:{var f=vf.get(t);if(f!==void 0){var p=zl,x=t;switch(t){case"keypress":if(_r(n)===0)break e;case"keydown":case"keyup":p=Ig;break;case"focusin":x="focus",p=Vo;break;case"focusout":x="blur",p=Vo;break;case"beforeblur":case"afterblur":p=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bg;break;case pf:case gf:case xf:p=Mg;break;case yf:p=Hg;break;case"scroll":p=jg;break;case"wheel":p=Vg;break;case"copy":case"cut":case"paste":p=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nu}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=ci(y,g),w!=null&&m.push(gi(y,w,b)))),v)break;y=y.return}0<m.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ra&&(x=n.relatedTarget||n.fromElement)&&(wn(x)||x[Rt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?wn(x):null,x!==null&&(v=In(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=eu,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=nu,w="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?f:Xn(p),b=x==null?f:Xn(x),f=new m(w,y+"leave",p,n,d),f.target=v,f.relatedTarget=b,w=null,wn(d)===u&&(m=new m(g,y+"enter",x,n,d),m.target=b,m.relatedTarget=v,w=m),v=w,p&&x)t:{for(m=p,g=x,y=0,b=m;b;b=zn(b))y++;for(b=0,w=g;w;w=zn(w))b++;for(;0<y-b;)m=zn(m),y--;for(;0<b-y;)g=zn(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=zn(m),g=zn(g)}m=null}else m=null;p!==null&&fu(h,f,p,m,!1),x!==null&&v!==null&&fu(h,v,x,m,!0)}}e:{if(f=u?Xn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=qg;else if(ru(f))if(uf)_=t0;else{_=Jg;var S=Zg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=e0);if(_&&(_=_(t,u))){cf(h,_,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ea(f,"number",f.value)}switch(S=u?Xn(u):window,t){case"focusin":(ru(S)||S.contentEditable==="true")&&(Yn=S,Ha=u,Zs=null);break;case"focusout":Zs=Ha=Yn=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,uu(h,n,d);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":uu(h,n,d)}var j;if($l)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Un?af(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(of&&n.locale!=="ko"&&(Un||N!=="onCompositionStart"?N==="onCompositionEnd"&&Un&&(j=rf()):(Yt=d,Ll="value"in Yt?Yt.value:Yt.textContent,Un=!0)),S=Wr(u,N),0<S.length&&(N=new tu(N,t,null,n,d),h.push({event:N,listeners:S}),j?N.data=j:(j=lf(n),j!==null&&(N.data=j)))),(j=Yg?Gg(t,n):Xg(t,n))&&(u=Wr(u,"onBeforeInput"),0<u.length&&(d=new tu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}bf(h,e)})}function gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wr(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ci(t,n),r!=null&&s.unshift(gi(t,r,i)),r=ci(t,e),r!=null&&s.push(gi(t,r,i))),t=t.return}return s}function zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fu(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=ci(n,r),c!=null&&o.unshift(gi(n,c,a))):i||(c=ci(n,r),c!=null&&o.push(gi(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l0=/\r\n?/g,c0=/\u0000|\uFFFD/g;function mu(t){return(typeof t=="string"?t:""+t).replace(l0,`
`).replace(c0,"")}function Ki(t,e,n){if(e=mu(e),mu(t)!==e&&n)throw Error(M(425))}function Vr(){}var Va=null,Ua=null;function Ya(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,u0=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,d0=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(t){return pu.resolve(null).then(t).catch(h0)}:Ga;function h0(t){setTimeout(function(){throw t})}function Zo(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),hi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);hi(e)}function tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),vt="__reactFiber$"+bs,xi="__reactProps$"+bs,Rt="__reactContainer$"+bs,Xa="__reactEvents$"+bs,f0="__reactListeners$"+bs,m0="__reactHandles$"+bs;function wn(t){var e=t[vt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rt]||n[vt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gu(t);t!==null;){if(n=t[vt])return n;t=gu(t)}return e}t=n,n=t.parentNode}return null}function Ri(t){return t=t[vt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function _o(t){return t[xi]||null}var Ka=[],Kn=-1;function hn(t){return{current:t}}function J(t){0>Kn||(t.current=Ka[Kn],Ka[Kn]=null,Kn--)}function K(t,e){Kn++,Ka[Kn]=t.current,t.current=e}var cn={},Ce=hn(cn),Le=hn(!1),Pn=cn;function us(t,e){var n=t.type.contextTypes;if(!n)return cn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ze(t){return t=t.childContextTypes,t!=null}function Ur(){J(Le),J(Ce)}function xu(t,e,n){if(Ce.current!==cn)throw Error(M(168));K(Ce,e),K(Le,n)}function _f(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(M(108,Zp(t)||"Unknown",i));return ie({},n,s)}function Yr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,Pn=Ce.current,K(Ce,t),K(Le,Le.current),!0}function yu(t,e,n){var s=t.stateNode;if(!s)throw Error(M(169));n?(t=_f(t,e,Pn),s.__reactInternalMemoizedMergedChildContext=t,J(Le),J(Ce),K(Ce,t)):J(Le),K(Le,n)}var Mt=null,jo=!1,Jo=!1;function jf(t){Mt===null?Mt=[t]:Mt.push(t)}function p0(t){jo=!0,jf(t)}function fn(){if(!Jo&&Mt!==null){Jo=!0;var t=0,e=G;try{var n=Mt;for(G=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Mt=null,jo=!1}catch(i){throw Mt!==null&&(Mt=Mt.slice(t+1)),Gh(Fl,fn),i}finally{G=e,Jo=!1}}return null}var Qn=[],qn=0,Gr=null,Xr=0,Ke=[],Qe=0,En=null,Et=1,Dt="";function xn(t,e){Qn[qn++]=Xr,Qn[qn++]=Gr,Gr=t,Xr=e}function Nf(t,e,n){Ke[Qe++]=Et,Ke[Qe++]=Dt,Ke[Qe++]=En,En=t;var s=Et;t=Dt;var i=32-ct(s)-1;s&=~(1<<i),n+=1;var r=32-ct(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Et=1<<32-ct(e)+i|n<<i|s,Dt=r+t}else Et=1<<r|n<<i|s,Dt=t}function Wl(t){t.return!==null&&(xn(t,1),Nf(t,1,0))}function Vl(t){for(;t===Gr;)Gr=Qn[--qn],Qn[qn]=null,Xr=Qn[--qn],Qn[qn]=null;for(;t===En;)En=Ke[--Qe],Ke[Qe]=null,Dt=Ke[--Qe],Ke[Qe]=null,Et=Ke[--Qe],Ke[Qe]=null}var We=null,He=null,te=!1,lt=null;function Sf(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,We=t,He=tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,We=t,He=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=En!==null?{id:Et,overflow:Dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,We=t,He=null,!0):!1;default:return!1}}function Qa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qa(t){if(te){var e=He;if(e){var n=e;if(!vu(t,e)){if(Qa(t))throw Error(M(418));e=tn(n.nextSibling);var s=We;e&&vu(t,e)?Sf(s,n):(t.flags=t.flags&-4097|2,te=!1,We=t)}}else{if(Qa(t))throw Error(M(418));t.flags=t.flags&-4097|2,te=!1,We=t}}}function bu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;We=t}function Qi(t){if(t!==We)return!1;if(!te)return bu(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ya(t.type,t.memoizedProps)),e&&(e=He)){if(Qa(t))throw kf(),Error(M(418));for(;e;)Sf(t,e),e=tn(e.nextSibling)}if(bu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){He=tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}He=null}}else He=We?tn(t.stateNode.nextSibling):null;return!0}function kf(){for(var t=He;t;)t=tn(t.nextSibling)}function ds(){He=We=null,te=!1}function Ul(t){lt===null?lt=[t]:lt.push(t)}var g0=Lt.ReactCurrentBatchConfig;function Ms(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function qi(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wu(t){var e=t._init;return e(t._payload)}function Cf(t){function e(g,y){if(t){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function s(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=on(g,y),g.index=0,g.sibling=null,g}function r(g,y,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,b,w){return y===null||y.tag!==6?(y=oa(b,g.mode,w),y.return=g,y):(y=i(y,b),y.return=g,y)}function c(g,y,b,w){var _=b.type;return _===Vn?d(g,y,b.props.children,w,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ht&&wu(_)===y.type)?(w=i(y,b.props),w.ref=Ms(g,y,b),w.return=g,w):(w=Pr(b.type,b.key,b.props,null,g.mode,w),w.ref=Ms(g,y,b),w.return=g,w)}function u(g,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=aa(b,g.mode,w),y.return=g,y):(y=i(y,b.children||[]),y.return=g,y)}function d(g,y,b,w,_){return y===null||y.tag!==7?(y=kn(b,g.mode,w,_),y.return=g,y):(y=i(y,b),y.return=g,y)}function h(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=oa(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bi:return b=Pr(y.type,y.key,y.props,null,g.mode,b),b.ref=Ms(g,null,y),b.return=g,b;case Wn:return y=aa(y,g.mode,b),y.return=g,y;case Ht:var w=y._init;return h(g,w(y._payload),b)}if(zs(y)||js(y))return y=kn(y,g.mode,b,null),y.return=g,y;qi(g,y)}return null}function f(g,y,b,w){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(g,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bi:return b.key===_?c(g,y,b,w):null;case Wn:return b.key===_?u(g,y,b,w):null;case Ht:return _=b._init,f(g,y,_(b._payload),w)}if(zs(b)||js(b))return _!==null?null:d(g,y,b,w,null);qi(g,b)}return null}function p(g,y,b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bi:return g=g.get(w.key===null?b:w.key)||null,c(y,g,w,_);case Wn:return g=g.get(w.key===null?b:w.key)||null,u(y,g,w,_);case Ht:var S=w._init;return p(g,y,b,S(w._payload),_)}if(zs(w)||js(w))return g=g.get(b)||null,d(y,g,w,_,null);qi(y,w)}return null}function x(g,y,b,w){for(var _=null,S=null,j=y,N=y=0,P=null;j!==null&&N<b.length;N++){j.index>N?(P=j,j=null):P=j.sibling;var E=f(g,j,b[N],w);if(E===null){j===null&&(j=P);break}t&&j&&E.alternate===null&&e(g,j),y=r(E,y,N),S===null?_=E:S.sibling=E,S=E,j=P}if(N===b.length)return n(g,j),te&&xn(g,N),_;if(j===null){for(;N<b.length;N++)j=h(g,b[N],w),j!==null&&(y=r(j,y,N),S===null?_=j:S.sibling=j,S=j);return te&&xn(g,N),_}for(j=s(g,j);N<b.length;N++)P=p(j,g,N,b[N],w),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?N:P.key),y=r(P,y,N),S===null?_=P:S.sibling=P,S=P);return t&&j.forEach(function(O){return e(g,O)}),te&&xn(g,N),_}function m(g,y,b,w){var _=js(b);if(typeof _!="function")throw Error(M(150));if(b=_.call(b),b==null)throw Error(M(151));for(var S=_=null,j=y,N=y=0,P=null,E=b.next();j!==null&&!E.done;N++,E=b.next()){j.index>N?(P=j,j=null):P=j.sibling;var O=f(g,j,E.value,w);if(O===null){j===null&&(j=P);break}t&&j&&O.alternate===null&&e(g,j),y=r(O,y,N),S===null?_=O:S.sibling=O,S=O,j=P}if(E.done)return n(g,j),te&&xn(g,N),_;if(j===null){for(;!E.done;N++,E=b.next())E=h(g,E.value,w),E!==null&&(y=r(E,y,N),S===null?_=E:S.sibling=E,S=E);return te&&xn(g,N),_}for(j=s(g,j);!E.done;N++,E=b.next())E=p(j,g,N,E.value,w),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?N:E.key),y=r(E,y,N),S===null?_=E:S.sibling=E,S=E);return t&&j.forEach(function(L){return e(g,L)}),te&&xn(g,N),_}function v(g,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Vn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bi:e:{for(var _=b.key,S=y;S!==null;){if(S.key===_){if(_=b.type,_===Vn){if(S.tag===7){n(g,S.sibling),y=i(S,b.props.children),y.return=g,g=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ht&&wu(_)===S.type){n(g,S.sibling),y=i(S,b.props),y.ref=Ms(g,S,b),y.return=g,g=y;break e}n(g,S);break}else e(g,S);S=S.sibling}b.type===Vn?(y=kn(b.props.children,g.mode,w,b.key),y.return=g,g=y):(w=Pr(b.type,b.key,b.props,null,g.mode,w),w.ref=Ms(g,y,b),w.return=g,g=w)}return o(g);case Wn:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(g,y.sibling),y=i(y,b.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=aa(b,g.mode,w),y.return=g,g=y}return o(g);case Ht:return S=b._init,v(g,y,S(b._payload),w)}if(zs(b))return x(g,y,b,w);if(js(b))return m(g,y,b,w);qi(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,b),y.return=g,g=y):(n(g,y),y=oa(b,g.mode,w),y.return=g,g=y),o(g)):n(g,y)}return v}var hs=Cf(!0),Mf=Cf(!1),Kr=hn(null),Qr=null,Zn=null,Yl=null;function Gl(){Yl=Zn=Qr=null}function Xl(t){var e=Kr.current;J(Kr),t._currentValue=e}function Za(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){Qr=t,Yl=Zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(Yl!==t)if(t={context:t,memoizedValue:e,next:null},Zn===null){if(Qr===null)throw Error(M(308));Zn=t,Qr.dependencies={lanes:0,firstContext:t}}else Zn=Zn.next=t;return e}var _n=null;function Kl(t){_n===null?_n=[t]:_n.push(t)}function Pf(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Kl(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ot(t,s)}function Ot(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wt=!1;function Ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function At(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,$&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Ot(t,n)}return i=s.interleaved,i===null?(e.next=e,Kl(s)):(e.next=i.next,i.next=e),s.interleaved=e,Ot(t,n)}function jr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Rl(t,n)}}function _u(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qr(t,e,n,s){var i=t.updateQueue;Wt=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,m=a;switch(f=e,p=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ie({},h,f);break e;case 2:Wt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Tn|=o,t.lanes=o,t.memoizedState=h}}function ju(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(M(191,i));i.call(s)}}}var Oi={},wt=hn(Oi),yi=hn(Oi),vi=hn(Oi);function jn(t){if(t===Oi)throw Error(M(174));return t}function ql(t,e){switch(K(vi,e),K(yi,t),K(wt,Oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ta(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ta(e,t)}J(wt),K(wt,e)}function fs(){J(wt),J(yi),J(vi)}function Df(t){jn(vi.current);var e=jn(wt.current),n=Ta(e,t.type);e!==n&&(K(yi,t),K(wt,n))}function Zl(t){yi.current===t&&(J(wt),J(yi))}var ne=hn(0);function Zr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ea=[];function Jl(){for(var t=0;t<ea.length;t++)ea[t]._workInProgressVersionPrimary=null;ea.length=0}var Nr=Lt.ReactCurrentDispatcher,ta=Lt.ReactCurrentBatchConfig,Dn=0,se=null,ue=null,me=null,Jr=!1,Js=!1,bi=0,x0=0;function we(){throw Error(M(321))}function ec(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0}function tc(t,e,n,s,i,r){if(Dn=r,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nr.current=t===null||t.memoizedState===null?w0:_0,t=n(s,i),Js){r=0;do{if(Js=!1,bi=0,25<=r)throw Error(M(301));r+=1,me=ue=null,e.updateQueue=null,Nr.current=j0,t=n(s,i)}while(Js)}if(Nr.current=eo,e=ue!==null&&ue.next!==null,Dn=0,me=ue=se=null,Jr=!1,e)throw Error(M(300));return t}function nc(){var t=bi!==0;return bi=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?se.memoizedState=me=t:me=me.next=t,me}function tt(){if(ue===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=me===null?se.memoizedState:me.next;if(e!==null)me=e,ue=t;else{if(t===null)throw Error(M(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},me===null?se.memoizedState=me=t:me=me.next=t}return me}function wi(t,e){return typeof e=="function"?e(t):e}function na(t){var e=tt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=ue,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((Dn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,se.lanes|=d,Tn|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,dt(s,e.memoizedState)||(Ie=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,se.lanes|=r,Tn|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sa(t){var e=tt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);dt(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Tf(){}function Af(t,e){var n=se,s=tt(),i=e(),r=!dt(s.memoizedState,i);if(r&&(s.memoizedState=i,Ie=!0),s=s.queue,sc(Of.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,_i(9,Rf.bind(null,n,s,i,e),void 0,null),pe===null)throw Error(M(349));Dn&30||Ff(n,e,i)}return i}function Ff(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rf(t,e,n,s){e.value=n,e.getSnapshot=s,If(e)&&Lf(t)}function Of(t,e,n){return n(function(){If(e)&&Lf(t)})}function If(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dt(t,n)}catch{return!0}}function Lf(t){var e=Ot(t,1);e!==null&&ut(e,t,1,-1)}function Nu(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},e.queue=t,t=t.dispatch=b0.bind(null,se,t),[e.memoizedState,t]}function _i(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function zf(){return tt().memoizedState}function Sr(t,e,n,s){var i=xt();se.flags|=t,i.memoizedState=_i(1|e,n,void 0,s===void 0?null:s)}function No(t,e,n,s){var i=tt();s=s===void 0?null:s;var r=void 0;if(ue!==null){var o=ue.memoizedState;if(r=o.destroy,s!==null&&ec(s,o.deps)){i.memoizedState=_i(e,n,r,s);return}}se.flags|=t,i.memoizedState=_i(1|e,n,r,s)}function Su(t,e){return Sr(8390656,8,t,e)}function sc(t,e){return No(2048,8,t,e)}function Bf(t,e){return No(4,2,t,e)}function $f(t,e){return No(4,4,t,e)}function Hf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wf(t,e,n){return n=n!=null?n.concat([t]):null,No(4,4,Hf.bind(null,e,t),n)}function ic(){}function Vf(t,e){var n=tt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&ec(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Uf(t,e){var n=tt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&ec(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Yf(t,e,n){return Dn&21?(dt(n,e)||(n=Qh(),se.lanes|=n,Tn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function y0(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var s=ta.transition;ta.transition={};try{t(!1),e()}finally{G=n,ta.transition=s}}function Gf(){return tt().memoizedState}function v0(t,e,n){var s=rn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Xf(t))Kf(e,n);else if(n=Pf(t,e,n,s),n!==null){var i=De();ut(n,t,s,i),Qf(n,e,s)}}function b0(t,e,n){var s=rn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xf(t))Kf(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,dt(a,o)){var c=e.interleaved;c===null?(i.next=i,Kl(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Pf(t,e,i,s),n!==null&&(i=De(),ut(n,t,s,i),Qf(n,e,s))}}function Xf(t){var e=t.alternate;return t===se||e!==null&&e===se}function Kf(t,e){Js=Jr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qf(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Rl(t,n)}}var eo={readContext:et,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},w0={readContext:et,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:Su,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sr(4194308,4,Hf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sr(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=xt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=v0.bind(null,se,t),[s.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:Nu,useDebugValue:ic,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=Nu(!1),e=t[0];return t=y0.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=se,i=xt();if(te){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),pe===null)throw Error(M(349));Dn&30||Ff(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Su(Of.bind(null,s,r,t),[t]),s.flags|=2048,_i(9,Rf.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=xt(),e=pe.identifierPrefix;if(te){var n=Dt,s=Et;n=(s&~(1<<32-ct(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=bi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_0={readContext:et,useCallback:Vf,useContext:et,useEffect:sc,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:$f,useMemo:Uf,useReducer:na,useRef:zf,useState:function(){return na(wi)},useDebugValue:ic,useDeferredValue:function(t){var e=tt();return Yf(e,ue.memoizedState,t)},useTransition:function(){var t=na(wi)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Tf,useSyncExternalStore:Af,useId:Gf,unstable_isNewReconciler:!1},j0={readContext:et,useCallback:Vf,useContext:et,useEffect:sc,useImperativeHandle:Wf,useInsertionEffect:Bf,useLayoutEffect:$f,useMemo:Uf,useReducer:sa,useRef:zf,useState:function(){return sa(wi)},useDebugValue:ic,useDeferredValue:function(t){var e=tt();return ue===null?e.memoizedState=t:Yf(e,ue.memoizedState,t)},useTransition:function(){var t=sa(wi)[0],e=tt().memoizedState;return[t,e]},useMutableSource:Tf,useSyncExternalStore:Af,useId:Gf,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ja(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var So={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=De(),i=rn(t),r=At(s,i);r.payload=e,n!=null&&(r.callback=n),e=nn(t,r,i),e!==null&&(ut(e,t,i,s),jr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=De(),i=rn(t),r=At(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=nn(t,r,i),e!==null&&(ut(e,t,i,s),jr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),s=rn(t),i=At(n,s);i.tag=2,e!=null&&(i.callback=e),e=nn(t,i,s),e!==null&&(ut(e,t,s,n),jr(e,t,s))}};function ku(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!mi(n,s)||!mi(i,r):!0}function qf(t,e,n){var s=!1,i=cn,r=e.contextType;return typeof r=="object"&&r!==null?r=et(r):(i=ze(e)?Pn:Ce.current,s=e.contextTypes,r=(s=s!=null)?us(t,i):cn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=So,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Cu(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&So.enqueueReplaceState(e,e.state,null)}function el(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ql(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=et(r):(r=ze(e)?Pn:Ce.current,i.context=us(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ja(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&So.enqueueReplaceState(i,i.state,null),qr(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",s=e;do n+=qp(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function ia(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N0=typeof WeakMap=="function"?WeakMap:Map;function Zf(t,e,n){n=At(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){no||(no=!0,dl=s),tl(t,e)},n}function Jf(t,e,n){n=At(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){tl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){tl(t,e),typeof s!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mu(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new N0;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=L0.bind(null,t,e,n),e.then(t,t))}function Pu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Eu(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=At(-1,1),e.tag=2,nn(n,e,1))),n.lanes|=1),t)}var S0=Lt.ReactCurrentOwner,Ie=!1;function Ee(t,e,n,s){e.child=t===null?Mf(e,null,n,s):hs(e,t.child,n,s)}function Du(t,e,n,s,i){n=n.render;var r=e.ref;return rs(e,i),s=tc(t,e,n,s,r,i),n=nc(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(te&&n&&Wl(e),e.flags|=1,Ee(t,e,s,i),e.child)}function Tu(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!hc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,em(t,e,r,s,i)):(t=Pr(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(o,s)&&t.ref===e.ref)return It(t,e,i)}return e.flags|=1,t=on(r,s),t.ref=e.ref,t.return=e,e.child=t}function em(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(mi(r,s)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,It(t,e,i)}return nl(t,e,n,s,i)}function tm(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(es,$e),$e|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(es,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,K(es,$e),$e|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,K(es,$e),$e|=s;return Ee(t,e,i,n),e.child}function nm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nl(t,e,n,s,i){var r=ze(n)?Pn:Ce.current;return r=us(e,r),rs(e,i),n=tc(t,e,n,s,r,i),s=nc(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(te&&s&&Wl(e),e.flags|=1,Ee(t,e,n,i),e.child)}function Au(t,e,n,s,i){if(ze(n)){var r=!0;Yr(e)}else r=!1;if(rs(e,i),e.stateNode===null)kr(t,e),qf(e,n,s),el(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=et(u):(u=ze(n)?Pn:Ce.current,u=us(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Cu(e,o,s,u),Wt=!1;var f=e.memoizedState;o.state=f,qr(e,s,o,i),c=e.memoizedState,a!==s||f!==c||Le.current||Wt?(typeof d=="function"&&(Ja(e,n,d,s),c=e.memoizedState),(a=Wt||ku(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Ef(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=et(c):(c=ze(n)?Pn:Ce.current,c=us(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Cu(e,o,s,c),Wt=!1,f=e.memoizedState,o.state=f,qr(e,s,o,i);var x=e.memoizedState;a!==h||f!==x||Le.current||Wt?(typeof p=="function"&&(Ja(e,n,p,s),x=e.memoizedState),(u=Wt||ku(e,n,u,s,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return sl(t,e,n,s,r,i)}function sl(t,e,n,s,i,r){nm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&yu(e,n,!1),It(t,e,r);s=e.stateNode,S0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,r),e.child=hs(e,null,a,r)):Ee(t,e,a,r),e.memoizedState=s.state,i&&yu(e,n,!0),e.child}function sm(t){var e=t.stateNode;e.pendingContext?xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xu(t,e.context,!1),ql(t,e.containerInfo)}function Fu(t,e,n,s,i){return ds(),Ul(i),e.flags|=256,Ee(t,e,n,s),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function rl(t){return{baseLanes:t,cachePool:null,transitions:null}}function im(t,e,n){var s=e.pendingProps,i=ne.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),K(ne,i&1),t===null)return qa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Mo(o,s,0,null),t=kn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=rl(n),e.memoizedState=il,t):rc(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k0(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=on(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=on(a,r):(r=kn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=il,s}return r=t.child,t=r.sibling,s=on(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function rc(t,e){return e=Mo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zi(t,e,n,s){return s!==null&&Ul(s),hs(e,t.child,null,n),t=rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k0(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=ia(Error(M(422))),Zi(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Mo({mode:"visible",children:s.children},i,0,null),r=kn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=rl(o),e.memoizedState=il,r);if(!(e.mode&1))return Zi(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(M(419)),s=ia(r,s,void 0),Zi(t,e,o,s)}if(a=(o&t.childLanes)!==0,Ie||a){if(s=pe,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Ot(t,i),ut(s,t,i,-1))}return dc(),s=ia(Error(M(421))),Zi(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z0.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,He=tn(i.nextSibling),We=e,te=!0,lt=null,t!==null&&(Ke[Qe++]=Et,Ke[Qe++]=Dt,Ke[Qe++]=En,Et=t.id,Dt=t.overflow,En=e),e=rc(e,s.children),e.flags|=4096,e)}function Ru(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Za(t.return,e,n)}function ra(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function rm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Ee(t,e,s.children,n),s=ne.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ru(t,n,e);else if(t.tag===19)Ru(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(K(ne,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zr(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ra(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zr(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ra(e,!0,n,null,r);break;case"together":ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=on(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=on(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C0(t,e,n){switch(e.tag){case 3:sm(e),ds();break;case 5:Df(e);break;case 1:ze(e.type)&&Yr(e);break;case 4:ql(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;K(Kr,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(K(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?im(t,e,n):(K(ne,ne.current&1),t=It(t,e,n),t!==null?t.sibling:null);K(ne,ne.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return rm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(ne,ne.current),s)break;return null;case 22:case 23:return e.lanes=0,tm(t,e,n)}return It(t,e,n)}var om,ol,am,lm;om=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ol=function(){};am=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,jn(wt.current);var r=null;switch(n){case"input":i=Ma(t,i),s=Ma(t,s),r=[];break;case"select":i=ie({},i,{value:void 0}),s=ie({},s,{value:void 0}),r=[];break;case"textarea":i=Da(t,i),s=Da(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Vr)}Aa(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ai.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ai.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&q("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};lm=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ps(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function M0(t,e,n){var s=e.pendingProps;switch(Vl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return ze(e.type)&&Ur(),_e(e),null;case 3:return s=e.stateNode,fs(),J(Le),J(Ce),Jl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(ml(lt),lt=null))),ol(t,e),_e(e),null;case 5:Zl(e);var i=jn(vi.current);if(n=e.type,t!==null&&e.stateNode!=null)am(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(M(166));return _e(e),null}if(t=jn(wt.current),Qi(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[vt]=e,s[xi]=r,t=(e.mode&1)!==0,n){case"dialog":q("cancel",s),q("close",s);break;case"iframe":case"object":case"embed":q("load",s);break;case"video":case"audio":for(i=0;i<$s.length;i++)q($s[i],s);break;case"source":q("error",s);break;case"img":case"image":case"link":q("error",s),q("load",s);break;case"details":q("toggle",s);break;case"input":Vc(s,r),q("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},q("invalid",s);break;case"textarea":Yc(s,r),q("invalid",s)}Aa(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Ki(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Ki(s.textContent,a,t),i=["children",""+a]):ai.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",s)}switch(n){case"input":$i(s),Uc(s,r,!0);break;case"textarea":$i(s),Gc(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Vr)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[vt]=e,t[xi]=s,om(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fa(n,s),n){case"dialog":q("cancel",t),q("close",t),i=s;break;case"iframe":case"object":case"embed":q("load",t),i=s;break;case"video":case"audio":for(i=0;i<$s.length;i++)q($s[i],t);i=s;break;case"source":q("error",t),i=s;break;case"img":case"image":case"link":q("error",t),q("load",t),i=s;break;case"details":q("toggle",t),i=s;break;case"input":Vc(t,s),i=Ma(t,s),q("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ie({},s,{value:void 0}),q("invalid",t);break;case"textarea":Yc(t,s),i=Da(t,s),q("invalid",t);break;default:i=s}Aa(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?Lh(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Oh(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&li(t,c):typeof c=="number"&&li(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ai.hasOwnProperty(r)?c!=null&&r==="onScroll"&&q("scroll",t):c!=null&&Pl(t,r,c,o))}switch(n){case"input":$i(t),Uc(t,s,!1);break;case"textarea":$i(t),Gc(t);break;case"option":s.value!=null&&t.setAttribute("value",""+ln(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?ts(t,!!s.multiple,r,!1):s.defaultValue!=null&&ts(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vr)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)lm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(M(166));if(n=jn(vi.current),jn(wt.current),Qi(e)){if(s=e.stateNode,n=e.memoizedProps,s[vt]=e,(r=s.nodeValue!==n)&&(t=We,t!==null))switch(t.tag){case 3:Ki(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ki(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[vt]=e,e.stateNode=s}return _e(e),null;case 13:if(J(ne),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&He!==null&&e.mode&1&&!(e.flags&128))kf(),ds(),e.flags|=98560,r=!1;else if(r=Qi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(M(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(M(317));r[vt]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),r=!1}else lt!==null&&(ml(lt),lt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?he===0&&(he=3):dc())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return fs(),ol(t,e),t===null&&pi(e.stateNode.containerInfo),_e(e),null;case 10:return Xl(e.type._context),_e(e),null;case 17:return ze(e.type)&&Ur(),_e(e),null;case 19:if(J(ne),r=e.memoizedState,r===null)return _e(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Ps(r,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zr(t),o!==null){for(e.flags|=128,Ps(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ne,ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&ae()>ps&&(e.flags|=128,s=!0,Ps(r,!1),e.lanes=4194304)}else{if(!s)if(t=Zr(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ps(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!te)return _e(e),null}else 2*ae()-r.renderingStartTime>ps&&n!==1073741824&&(e.flags|=128,s=!0,Ps(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ae(),e.sibling=null,n=ne.current,K(ne,s?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return uc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?$e&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function P0(t,e){switch(Vl(e),e.tag){case 1:return ze(e.type)&&Ur(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),J(Le),J(Ce),Jl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zl(e),null;case 13:if(J(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(ne),null;case 4:return fs(),null;case 10:return Xl(e.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Ji=!1,Ne=!1,E0=typeof WeakSet=="function"?WeakSet:Set,A=null;function Jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){re(t,e,s)}else n.current=null}function al(t,e,n){try{n()}catch(s){re(t,e,s)}}var Ou=!1;function D0(t,e){if(Va=$r,t=ff(),Hl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ua={focusedElem:t,selectionRange:n},$r=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,v=x.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:rt(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){re(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return x=Ou,Ou=!1,x}function ei(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&al(e,n,r)}i=i.next}while(i!==s)}}function ko(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ll(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cm(t){var e=t.alternate;e!==null&&(t.alternate=null,cm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[xi],delete e[Xa],delete e[f0],delete e[m0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function um(t){return t.tag===5||t.tag===3||t.tag===4}function Iu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cl(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vr));else if(s!==4&&(t=t.child,t!==null))for(cl(t,e,n),t=t.sibling;t!==null;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ul(t,e,n),t=t.sibling;t!==null;)ul(t,e,n),t=t.sibling}var xe=null,ot=!1;function zt(t,e,n){for(n=n.child;n!==null;)dm(t,e,n),n=n.sibling}function dm(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(yo,n)}catch{}switch(n.tag){case 5:Ne||Jn(n,e);case 6:var s=xe,i=ot;xe=null,zt(t,e,n),xe=s,ot=i,xe!==null&&(ot?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ot?(t=xe,n=n.stateNode,t.nodeType===8?Zo(t.parentNode,n):t.nodeType===1&&Zo(t,n),hi(t)):Zo(xe,n.stateNode));break;case 4:s=xe,i=ot,xe=n.stateNode.containerInfo,ot=!0,zt(t,e,n),xe=s,ot=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&al(n,e,o),i=i.next}while(i!==s)}zt(t,e,n);break;case 1:if(!Ne&&(Jn(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){re(n,e,a)}zt(t,e,n);break;case 21:zt(t,e,n);break;case 22:n.mode&1?(Ne=(s=Ne)||n.memoizedState!==null,zt(t,e,n),Ne=s):zt(t,e,n);break;default:zt(t,e,n)}}function Lu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E0),e.forEach(function(s){var i=B0.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function it(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ot=!1;break e;case 3:xe=a.stateNode.containerInfo,ot=!0;break e;case 4:xe=a.stateNode.containerInfo,ot=!0;break e}a=a.return}if(xe===null)throw Error(M(160));dm(r,o,i),xe=null,ot=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){re(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hm(e,t),e=e.sibling}function hm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),mt(t),s&4){try{ei(3,t,t.return),ko(3,t)}catch(m){re(t,t.return,m)}try{ei(5,t,t.return)}catch(m){re(t,t.return,m)}}break;case 1:it(e,t),mt(t),s&512&&n!==null&&Jn(n,n.return);break;case 5:if(it(e,t),mt(t),s&512&&n!==null&&Jn(n,n.return),t.flags&32){var i=t.stateNode;try{li(i,"")}catch(m){re(t,t.return,m)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Ah(i,r),Fa(a,o);var u=Fa(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Lh(i,h):d==="dangerouslySetInnerHTML"?Oh(i,h):d==="children"?li(i,h):Pl(i,d,h,u)}switch(a){case"input":Pa(i,r);break;case"textarea":Fh(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ts(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?ts(i,!!r.multiple,r.defaultValue,!0):ts(i,!!r.multiple,r.multiple?[]:"",!1))}i[xi]=r}catch(m){re(t,t.return,m)}}break;case 6:if(it(e,t),mt(t),s&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(m){re(t,t.return,m)}}break;case 3:if(it(e,t),mt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hi(e.containerInfo)}catch(m){re(t,t.return,m)}break;case 4:it(e,t),mt(t);break;case 13:it(e,t),mt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(lc=ae())),s&4&&Lu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ne=(u=Ne)||d,it(e,t),Ne=u):it(e,t),mt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,p=f.child,f.tag){case 0:case 11:case 14:case 15:ei(4,f,f.return);break;case 1:Jn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){re(s,n,m)}}break;case 5:Jn(f,f.return);break;case 22:if(f.memoizedState!==null){Bu(h);continue}}p!==null?(p.return=f,A=p):Bu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ih("display",o))}catch(m){re(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){re(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:it(e,t),mt(t),s&4&&Lu(t);break;case 21:break;default:it(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(um(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(li(i,""),s.flags&=-33);var r=Iu(t);ul(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Iu(t);cl(t,a,o);break;default:throw Error(M(161))}}catch(c){re(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T0(t,e,n){A=t,fm(t)}function fm(t,e,n){for(var s=(t.mode&1)!==0;A!==null;){var i=A,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ji;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ne;a=Ji;var u=Ne;if(Ji=o,(Ne=c)&&!u)for(A=i;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?$u(i):c!==null?(c.return=o,A=c):$u(i);for(;r!==null;)A=r,fm(r),r=r.sibling;A=i,Ji=a,Ne=u}zu(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,A=r):zu(t)}}function zu(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||ko(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ne)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&ju(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ju(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ne||e.flags&512&&ll(e)}catch(f){re(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Bu(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function $u(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ko(4,e)}catch(c){re(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){re(e,i,c)}}var r=e.return;try{ll(e)}catch(c){re(e,r,c)}break;case 5:var o=e.return;try{ll(e)}catch(c){re(e,o,c)}}}catch(c){re(e,e.return,c)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var A0=Math.ceil,to=Lt.ReactCurrentDispatcher,oc=Lt.ReactCurrentOwner,Je=Lt.ReactCurrentBatchConfig,$=0,pe=null,ce=null,ye=0,$e=0,es=hn(0),he=0,ji=null,Tn=0,Co=0,ac=0,ti=null,Re=null,lc=0,ps=1/0,Ct=null,no=!1,dl=null,sn=null,er=!1,Gt=null,so=0,ni=0,hl=null,Cr=-1,Mr=0;function De(){return $&6?ae():Cr!==-1?Cr:Cr=ae()}function rn(t){return t.mode&1?$&2&&ye!==0?ye&-ye:g0.transition!==null?(Mr===0&&(Mr=Qh()),Mr):(t=G,t!==0||(t=window.event,t=t===void 0?16:sf(t.type)),t):1}function ut(t,e,n,s){if(50<ni)throw ni=0,hl=null,Error(M(185));Ai(t,n,s),(!($&2)||t!==pe)&&(t===pe&&(!($&2)&&(Co|=n),he===4&&Ut(t,ye)),Be(t,s),n===1&&$===0&&!(e.mode&1)&&(ps=ae()+500,jo&&fn()))}function Be(t,e){var n=t.callbackNode;gg(t,e);var s=Br(t,t===pe?ye:0);if(s===0)n!==null&&Qc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Qc(n),e===1)t.tag===0?p0(Hu.bind(null,t)):jf(Hu.bind(null,t)),d0(function(){!($&6)&&fn()}),n=null;else{switch(qh(s)){case 1:n=Fl;break;case 4:n=Xh;break;case 16:n=zr;break;case 536870912:n=Kh;break;default:n=zr}n=wm(n,mm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mm(t,e){if(Cr=-1,Mr=0,$&6)throw Error(M(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var s=Br(t,t===pe?ye:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=io(t,s);else{e=s;var i=$;$|=2;var r=gm();(pe!==t||ye!==e)&&(Ct=null,ps=ae()+500,Sn(t,e));do try{O0();break}catch(a){pm(t,a)}while(!0);Gl(),to.current=r,$=i,ce!==null?e=0:(pe=null,ye=0,e=he)}if(e!==0){if(e===2&&(i=za(t),i!==0&&(s=i,e=fl(t,i))),e===1)throw n=ji,Sn(t,0),Ut(t,s),Be(t,ae()),n;if(e===6)Ut(t,s);else{if(i=t.current.alternate,!(s&30)&&!F0(i)&&(e=io(t,s),e===2&&(r=za(t),r!==0&&(s=r,e=fl(t,r))),e===1))throw n=ji,Sn(t,0),Ut(t,s),Be(t,ae()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(M(345));case 2:yn(t,Re,Ct);break;case 3:if(Ut(t,s),(s&130023424)===s&&(e=lc+500-ae(),10<e)){if(Br(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){De(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ga(yn.bind(null,t,Re,Ct),e);break}yn(t,Re,Ct);break;case 4:if(Ut(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-ct(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=ae()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*A0(s/1960))-s,10<s){t.timeoutHandle=Ga(yn.bind(null,t,Re,Ct),s);break}yn(t,Re,Ct);break;case 5:yn(t,Re,Ct);break;default:throw Error(M(329))}}}return Be(t,ae()),t.callbackNode===n?mm.bind(null,t):null}function fl(t,e){var n=ti;return t.current.memoizedState.isDehydrated&&(Sn(t,e).flags|=256),t=io(t,e),t!==2&&(e=Re,Re=n,e!==null&&ml(e)),t}function ml(t){Re===null?Re=t:Re.push.apply(Re,t)}function F0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!dt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ut(t,e){for(e&=~ac,e&=~Co,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ct(e),s=1<<n;t[n]=-1,e&=~s}}function Hu(t){if($&6)throw Error(M(327));os();var e=Br(t,0);if(!(e&1))return Be(t,ae()),null;var n=io(t,e);if(t.tag!==0&&n===2){var s=za(t);s!==0&&(e=s,n=fl(t,s))}if(n===1)throw n=ji,Sn(t,0),Ut(t,e),Be(t,ae()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,Re,Ct),Be(t,ae()),null}function cc(t,e){var n=$;$|=1;try{return t(e)}finally{$=n,$===0&&(ps=ae()+500,jo&&fn())}}function An(t){Gt!==null&&Gt.tag===0&&!($&6)&&os();var e=$;$|=1;var n=Je.transition,s=G;try{if(Je.transition=null,G=1,t)return t()}finally{G=s,Je.transition=n,$=e,!($&6)&&fn()}}function uc(){$e=es.current,J(es)}function Sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u0(n)),ce!==null)for(n=ce.return;n!==null;){var s=n;switch(Vl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ur();break;case 3:fs(),J(Le),J(Ce),Jl();break;case 5:Zl(s);break;case 4:fs();break;case 13:J(ne);break;case 19:J(ne);break;case 10:Xl(s.type._context);break;case 22:case 23:uc()}n=n.return}if(pe=t,ce=t=on(t.current,null),ye=$e=e,he=0,ji=null,ac=Co=Tn=0,Re=ti=null,_n!==null){for(e=0;e<_n.length;e++)if(n=_n[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}_n=null}return t}function pm(t,e){do{var n=ce;try{if(Gl(),Nr.current=eo,Jr){for(var s=se.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Jr=!1}if(Dn=0,me=ue=se=null,Js=!1,bi=0,oc.current=null,n===null||n.return===null){he=1,ji=e,ce=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pu(o);if(p!==null){p.flags&=-257,Eu(p,o,a,r,e),p.mode&1&&Mu(r,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var m=new Set;m.add(c),e.updateQueue=m}else x.add(c);break e}else{if(!(e&1)){Mu(r,u,e),dc();break e}c=Error(M(426))}}else if(te&&a.mode&1){var v=Pu(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Eu(v,o,a,r,e),Ul(ms(c,a));break e}}r=c=ms(c,a),he!==4&&(he=2),ti===null?ti=[r]:ti.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=Zf(r,c,e);_u(r,g);break e;case 1:a=c;var y=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sn===null||!sn.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Jf(r,a,e);_u(r,w);break e}}r=r.return}while(r!==null)}ym(n)}catch(_){e=_,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function gm(){var t=to.current;return to.current=eo,t===null?eo:t}function dc(){(he===0||he===3||he===2)&&(he=4),pe===null||!(Tn&268435455)&&!(Co&268435455)||Ut(pe,ye)}function io(t,e){var n=$;$|=2;var s=gm();(pe!==t||ye!==e)&&(Ct=null,Sn(t,e));do try{R0();break}catch(i){pm(t,i)}while(!0);if(Gl(),$=n,to.current=s,ce!==null)throw Error(M(261));return pe=null,ye=0,he}function R0(){for(;ce!==null;)xm(ce)}function O0(){for(;ce!==null&&!ag();)xm(ce)}function xm(t){var e=bm(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?ym(t):ce=e,oc.current=null}function ym(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P0(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ce=null;return}}else if(n=M0(n,e,$e),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);he===0&&(he=5)}function yn(t,e,n){var s=G,i=Je.transition;try{Je.transition=null,G=1,I0(t,e,n,s)}finally{Je.transition=i,G=s}return null}function I0(t,e,n,s){do os();while(Gt!==null);if($&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(xg(t,r),t===pe&&(ce=pe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||er||(er=!0,wm(zr,function(){return os(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Je.transition,Je.transition=null;var o=G;G=1;var a=$;$|=4,oc.current=null,D0(t,n),hm(n,t),s0(Ua),$r=!!Va,Ua=Va=null,t.current=n,T0(n),lg(),$=a,G=o,Je.transition=r}else t.current=n;if(er&&(er=!1,Gt=t,so=i),r=t.pendingLanes,r===0&&(sn=null),dg(n.stateNode),Be(t,ae()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(no)throw no=!1,t=dl,dl=null,t;return so&1&&t.tag!==0&&os(),r=t.pendingLanes,r&1?t===hl?ni++:(ni=0,hl=t):ni=0,fn(),null}function os(){if(Gt!==null){var t=qh(so),e=Je.transition,n=G;try{if(Je.transition=null,G=16>t?16:t,Gt===null)var s=!1;else{if(t=Gt,Gt=null,so=0,$&6)throw Error(M(331));var i=$;for($|=4,A=t.current;A!==null;){var r=A,o=r.child;if(A.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:ei(8,d,r)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,p=d.return;if(cm(d),d===u){A=null;break}if(f!==null){f.return=p,A=f;break}A=p}}}var x=r.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}A=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,A=o;else e:for(;A!==null;){if(r=A,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ei(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,A=g;break e}A=r.return}}var y=t.current;for(A=y;A!==null;){o=A;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,A=b;else e:for(o=y;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ko(9,a)}}catch(_){re(a,a.return,_)}if(a===o){A=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,A=w;break e}A=a.return}}if($=i,fn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(yo,t)}catch{}s=!0}return s}finally{G=n,Je.transition=e}}return!1}function Wu(t,e,n){e=ms(n,e),e=Zf(t,e,1),t=nn(t,e,1),e=De(),t!==null&&(Ai(t,1,e),Be(t,e))}function re(t,e,n){if(t.tag===3)Wu(t,t,n);else for(;e!==null;){if(e.tag===3){Wu(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){t=ms(n,t),t=Jf(e,t,1),e=nn(e,t,1),t=De(),e!==null&&(Ai(e,1,t),Be(e,t));break}}e=e.return}}function L0(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(ye&n)===n&&(he===4||he===3&&(ye&130023424)===ye&&500>ae()-lc?Sn(t,0):ac|=n),Be(t,e)}function vm(t,e){e===0&&(t.mode&1?(e=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):e=1);var n=De();t=Ot(t,e),t!==null&&(Ai(t,e,n),Be(t,n))}function z0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vm(t,n)}function B0(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(e),vm(t,n)}var bm;bm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,C0(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,te&&e.flags&1048576&&Nf(e,Xr,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;kr(t,e),t=e.pendingProps;var i=us(e,Ce.current);rs(e,n),i=tc(null,e,s,t,i,n);var r=nc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(s)?(r=!0,Yr(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ql(e),i.updater=So,e.stateNode=i,i._reactInternals=e,el(e,s,t,n),e=sl(null,e,s,!0,r,n)):(e.tag=0,te&&r&&Wl(e),Ee(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(kr(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=H0(s),t=rt(s,t),i){case 0:e=nl(null,e,s,t,n);break e;case 1:e=Au(null,e,s,t,n);break e;case 11:e=Du(null,e,s,t,n);break e;case 14:e=Tu(null,e,s,rt(s.type,t),n);break e}throw Error(M(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:rt(s,i),nl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:rt(s,i),Au(t,e,s,i,n);case 3:e:{if(sm(e),t===null)throw Error(M(387));s=e.pendingProps,r=e.memoizedState,i=r.element,Ef(t,e),qr(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ms(Error(M(423)),e),e=Fu(t,e,s,n,i);break e}else if(s!==i){i=ms(Error(M(424)),e),e=Fu(t,e,s,n,i);break e}else for(He=tn(e.stateNode.containerInfo.firstChild),We=e,te=!0,lt=null,n=Mf(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),s===i){e=It(t,e,n);break e}Ee(t,e,s,n)}e=e.child}return e;case 5:return Df(e),t===null&&qa(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Ya(s,i)?o=null:r!==null&&Ya(s,r)&&(e.flags|=32),nm(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&qa(e),null;case 13:return im(t,e,n);case 4:return ql(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=hs(e,null,s,n):Ee(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:rt(s,i),Du(t,e,s,i,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,K(Kr,s._currentValue),s._currentValue=o,r!==null)if(dt(r.value,o)){if(r.children===i.children&&!Le.current){e=It(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=At(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Za(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Za(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ee(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,rs(e,n),i=et(i),s=s(i),e.flags|=1,Ee(t,e,s,n),e.child;case 14:return s=e.type,i=rt(s,e.pendingProps),i=rt(s.type,i),Tu(t,e,s,i,n);case 15:return em(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:rt(s,i),kr(t,e),e.tag=1,ze(s)?(t=!0,Yr(e)):t=!1,rs(e,n),qf(e,s,i),el(e,s,i,n),sl(null,e,s,!0,t,n);case 19:return rm(t,e,n);case 22:return tm(t,e,n)}throw Error(M(156,e.tag))};function wm(t,e){return Gh(t,e)}function $0(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,s){return new $0(t,e,n,s)}function hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H0(t){if(typeof t=="function")return hc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dl)return 11;if(t===Tl)return 14}return 2}function on(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pr(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")hc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vn:return kn(n.children,i,r,e);case El:o=8,i|=8;break;case Na:return t=qe(12,n,e,i|2),t.elementType=Na,t.lanes=r,t;case Sa:return t=qe(13,n,e,i),t.elementType=Sa,t.lanes=r,t;case ka:return t=qe(19,n,e,i),t.elementType=ka,t.lanes=r,t;case Eh:return Mo(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mh:o=10;break e;case Ph:o=9;break e;case Dl:o=11;break e;case Tl:o=14;break e;case Ht:o=16,s=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=qe(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function kn(t,e,n,s){return t=qe(7,t,s,e),t.lanes=n,t}function Mo(t,e,n,s){return t=qe(22,t,s,e),t.elementType=Eh,t.lanes=n,t.stateNode={isHidden:!1},t}function oa(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function aa(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W0(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fc(t,e,n,s,i,r,o,a,c){return t=new W0(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=qe(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(r),t}function V0(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function _m(t){if(!t)return cn;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(ze(n))return _f(t,n,e)}return e}function jm(t,e,n,s,i,r,o,a,c){return t=fc(n,s,!0,t,i,r,o,a,c),t.context=_m(null),n=t.current,s=De(),i=rn(n),r=At(s,i),r.callback=e??null,nn(n,r,i),t.current.lanes=i,Ai(t,i,s),Be(t,s),t}function Po(t,e,n,s){var i=e.current,r=De(),o=rn(i);return n=_m(n),e.context===null?e.context=n:e.pendingContext=n,e=At(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=nn(i,e,o),t!==null&&(ut(t,i,o,r),jr(t,i,o)),o}function ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mc(t,e){Vu(t,e),(t=t.alternate)&&Vu(t,e)}function U0(){return null}var Nm=typeof reportError=="function"?reportError:function(t){console.error(t)};function pc(t){this._internalRoot=t}Eo.prototype.render=pc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Po(t,e,null,null)};Eo.prototype.unmount=pc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){Po(null,t,null,null)}),e[Rt]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var e=ef();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vt.length&&e!==0&&e<Vt[n].priority;n++);Vt.splice(n,0,t),n===0&&nf(t)}};function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Do(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function Y0(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=ro(o);r.call(u)}}var o=jm(e,s,t,0,null,!1,!1,"",Uu);return t._reactRootContainer=o,t[Rt]=o.current,pi(t.nodeType===8?t.parentNode:t),An(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=ro(c);a.call(u)}}var c=fc(t,0,!1,null,null,!1,!1,"",Uu);return t._reactRootContainer=c,t[Rt]=c.current,pi(t.nodeType===8?t.parentNode:t),An(function(){Po(e,c,n,s)}),c}function To(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=ro(o);a.call(c)}}Po(e,o,t,i)}else o=Y0(n,e,t,i,s);return ro(o)}Zh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bs(e.pendingLanes);n!==0&&(Rl(e,n|1),Be(e,ae()),!($&6)&&(ps=ae()+500,fn()))}break;case 13:An(function(){var s=Ot(t,1);if(s!==null){var i=De();ut(s,t,1,i)}}),mc(t,1)}};Ol=function(t){if(t.tag===13){var e=Ot(t,134217728);if(e!==null){var n=De();ut(e,t,134217728,n)}mc(t,134217728)}};Jh=function(t){if(t.tag===13){var e=rn(t),n=Ot(t,e);if(n!==null){var s=De();ut(n,t,e,s)}mc(t,e)}};ef=function(){return G};tf=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Oa=function(t,e,n){switch(e){case"input":if(Pa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=_o(s);if(!i)throw Error(M(90));Th(s),Pa(s,i)}}}break;case"textarea":Fh(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};$h=cc;Hh=An;var G0={usingClientEntryPoint:!1,Events:[Ri,Xn,_o,zh,Bh,cc]},Es={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uh(t),t===null?null:t.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{yo=tr.inject(X0),bt=tr}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G0;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(e))throw Error(M(200));return V0(t,e,null,n)};Ue.createRoot=function(t,e){if(!gc(t))throw Error(M(299));var n=!1,s="",i=Nm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fc(t,1,!1,null,null,n,!1,s,i),t[Rt]=e.current,pi(t.nodeType===8?t.parentNode:t),new pc(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Uh(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return An(t)};Ue.hydrate=function(t,e,n){if(!Do(e))throw Error(M(200));return To(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!gc(t))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=Nm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jm(e,null,t,1,n??null,i,!1,r,o),t[Rt]=e.current,pi(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eo(e)};Ue.render=function(t,e,n){if(!Do(e))throw Error(M(200));return To(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Do(t))throw Error(M(40));return t._reactRootContainer?(An(function(){To(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};Ue.unstable_batchedUpdates=cc;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Do(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return To(t,e,n,!1,s)};Ue.version="18.3.1-next-f1338f8080-20240426";function Sm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sm)}catch(t){console.error(t)}}Sm(),Nh.exports=Ue;var K0=Nh.exports,Yu=K0;_a.createRoot=Yu.createRoot,_a.hydrateRoot=Yu.hydrateRoot;const Ge={save(t,e){try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(n){return console.error("Error guardando en localStorage:",n),!1}},load(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Error cargando desde localStorage:",n),e}},remove(t){try{localStorage.removeItem(t)}catch(e){console.error("Error eliminando de localStorage:",e)}},clear(){try{localStorage.clear()}catch(t){console.error("Error limpiando localStorage:",t)}}},km=[{id:"v1",name:"Alquiler/Hipoteca",group:" Vivienda",budget:1200,spent:1200,currency:"EUR"},{id:"v2",name:"Electricidad",group:" Vivienda",budget:80,spent:65,currency:"EUR"},{id:"v3",name:"Agua",group:" Vivienda",budget:40,spent:38,currency:"EUR"},{id:"a1",name:"Supermercado",group:" Alimentacin",budget:400,spent:380,currency:"EUR"},{id:"a2",name:"Restaurantes",group:" Alimentacin",budget:150,spent:145,currency:"EUR"},{id:"t1",name:"Combustible",group:" Transporte",budget:150,spent:125,currency:"EUR"},{id:"s1",name:"Seguro mdico",group:" Salud",budget:120,spent:120,currency:"EUR"},{id:"e1",name:"Streaming",group:" Entretenimiento",budget:40,spent:38,currency:"EUR"}];function Q0(){const t=[],e=km,n=new Date;for(let s=0;s<6;s++){const i=new Date(n.getFullYear(),n.getMonth()-s,15);e.forEach(r=>{const o=Math.floor(Math.random()*3)+1;for(let a=0;a<o;a++){const c=r.spent/o*(.8+Math.random()*.4);t.push({id:Date.now()+Math.random()*1e6,date:new Date(i.getTime()+Math.random()*24*60*60*1e3).toISOString(),description:`Gasto en ${r.name}`,comment:"",amount:c,currency:r.currency,categoryId:r.id,paymentMethod:["Tarjeta","Efectivo","Transferencia"][Math.floor(Math.random()*3)],user:["Usuario 1","Usuario 2"][Math.floor(Math.random()*2)]})}})}return t.sort((s,i)=>new Date(i.date)-new Date(s.date))}const q0=Q0(),Z0=[{id:"d1",name:"Hipoteca Casa",type:"Hipoteca",originalAmount:25e4,currentBalance:185e3,interestRate:3.5,monthlyPayment:1200,currency:"EUR",startDate:"2020-01-01",paymentsMade:48,paymentHistory:[]},{id:"d2",name:"Tarjeta de Crdito",type:"Tarjeta de Crdito",originalAmount:5e3,currentBalance:3200,interestRate:18.5,monthlyPayment:250,currency:"EUR",startDate:"2023-06-01",paymentsMade:17,paymentHistory:[]}],J0=[{id:"sg1",name:"Fondo de Emergencia",description:"6 meses de gastos",targetAmount:15e3,currentAmount:8500,currency:"EUR",deadline:"2025-12-31",priority:"Alta",contributionHistory:[]},{id:"sg2",name:"Vacaciones 2025",description:"Viaje a Japn",targetAmount:5e3,currentAmount:2300,currency:"EUR",deadline:"2025-08-01",priority:"Media",contributionHistory:[]}],ex=[{id:"inv1",type:"Stock",symbol:"AAPL",name:"Apple Inc.",quantity:10,purchasePrice:150.5,currentPrice:175.3,currency:"USD",lastUpdated:new Date().toISOString(),purchaseHistory:[{id:Date.now()-1e7,date:"2024-01-15T10:00:00.000Z",type:"buy",quantity:10,price:150.5,total:1505,user:"Usuario 1"}]},{id:"inv2",type:"Crypto",symbol:"BTC",name:"Bitcoin",quantity:.15,purchasePrice:35e3,currentPrice:43e3,currency:"USD",lastUpdated:new Date().toISOString(),purchaseHistory:[{id:Date.now()-2e7,date:"2024-02-20T14:00:00.000Z",type:"buy",quantity:.15,price:35e3,total:5250,user:"Usuario 1"}]}],Cm=D.createContext(),be=()=>{const t=D.useContext(Cm);if(!t)throw new Error("useApp debe usarse dentro de AppProvider");return t};function tx({children:t}){const[e,n]=D.useState(()=>Ge.load("categories_v5",km)),[s,i]=D.useState(()=>Ge.load("transactions_v5",q0)),[r,o]=D.useState(()=>Ge.load("debts_v5",Z0)),[a,c]=D.useState(()=>Ge.load("savingsGoals_v5",J0)),[u,d]=D.useState(()=>Ge.load("investments_v5",ex)),[h,f]=D.useState(()=>Ge.load("ynabConfig_v5",{monthlyIncome:3500})),[p,x]=D.useState("Usuario 1"),[m,v]=D.useState("EUR");D.useEffect(()=>{Ge.save("categories_v5",e)},[e]),D.useEffect(()=>{Ge.save("transactions_v5",s)},[s]),D.useEffect(()=>{Ge.save("debts_v5",r)},[r]),D.useEffect(()=>{Ge.save("savingsGoals_v5",a)},[a]),D.useEffect(()=>{Ge.save("investments_v5",u)},[u]),D.useEffect(()=>{Ge.save("ynabConfig_v5",h)},[h]);const W={categories:e,setCategories:n,transactions:s,setTransactions:i,debts:r,setDebts:o,savingsGoals:a,setSavingsGoals:c,investments:u,setInvestments:d,ynabConfig:h,setYnabConfig:f,currentUser:p,setCurrentUser:x,displayCurrency:m,setDisplayCurrency:v,addTransaction:T=>{const F={...T,id:Date.now(),user:p};i([F,...s]),n(e.map(k=>k.id===T.categoryId?{...k,spent:k.spent+parseFloat(T.amount)}:k))},updateTransaction:(T,F)=>{const k=s.find(C=>C.id===T);i(s.map(C=>C.id===T?{...C,...F,user:p}:C)),k&&(F.categoryId||F.amount)&&n(e.map(C=>C.id===k.categoryId?{...C,spent:C.spent-k.amount}:C.id===(F.categoryId||k.categoryId)?{...C,spent:C.spent+(F.amount||k.amount)}:C))},deleteTransaction:T=>{const F=s.find(k=>k.id===T);F&&(i(s.filter(k=>k.id!==T)),n(e.map(k=>k.id===F.categoryId?{...k,spent:Math.max(0,k.spent-F.amount)}:k)))},addDebt:T=>{const F={...T,id:Date.now(),paymentsMade:0,paymentHistory:[]};o([...r,F])},updateDebt:(T,F)=>{o(r.map(k=>k.id===T?{...k,...F}:k))},deleteDebt:T=>{o(r.filter(F=>F.id!==T))},registerDebtPayment:(T,F,k=0)=>{o(r.map(C=>{if(C.id===T){const I=F+k,X={id:Date.now(),date:new Date().toISOString(),amount:F,extraPayment:k,balanceBefore:C.currentBalance,balanceAfter:Math.max(0,C.currentBalance-I),user:p};return{...C,currentBalance:Math.max(0,C.currentBalance-I),paymentsMade:C.paymentsMade+1,paymentHistory:[...C.paymentHistory||[],X]}}return C}))},addSavingsGoal:T=>{const F={...T,id:Date.now(),currentAmount:T.currentAmount||0,contributionHistory:[]};c([...a,F])},updateSavingsGoal:(T,F)=>{c(a.map(k=>k.id===T?{...k,...F}:k))},deleteSavingsGoal:T=>{c(a.filter(F=>F.id!==T))},registerSavingsContribution:(T,F)=>{c(a.map(k=>{if(k.id===T){const C={id:Date.now(),date:new Date().toISOString(),amount:F,balanceBefore:k.currentAmount,balanceAfter:Math.min(k.targetAmount,k.currentAmount+F),user:p};return{...k,currentAmount:Math.min(k.targetAmount,k.currentAmount+F),contributionHistory:[...k.contributionHistory||[],C]}}return k}))},addInvestment:T=>{const F={...T,id:Date.now(),lastUpdated:new Date().toISOString(),purchaseHistory:[{id:Date.now(),date:new Date().toISOString(),type:"buy",quantity:T.quantity,price:T.purchasePrice,total:T.quantity*T.purchasePrice,user:p}]};d([...u,F])},transferBetweenCategories:(T,F,k)=>{n(e.map(C=>C.id===T?{...C,budget:Math.max(0,C.budget-k)}:C.id===F?{...C,budget:C.budget+k}:C))},convertCurrency:(T,F,k)=>{if(F===k)return T;const C={EUR:1,CLP:1050,USD:1.09,UF:36e3};return T/C[F]*C[k]}};return l.jsx(Cm.Provider,{value:W,children:t})}const nx=["Usuario 1","Usuario 2"],sx=[{value:"EUR",label:"EUR "},{value:"CLP",label:"CLP $"},{value:"USD",label:"USD $"},{value:"UF",label:"UF"}];function ix(){const{displayCurrency:t,setDisplayCurrency:e,currentUser:n,setCurrentUser:s}=be();return l.jsx("header",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white shadow-2xl",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"fas fa-rocket text-3xl"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Finanzas PRO"}),l.jsx("p",{className:"text-sm text-purple-100",children:"v5.0 - Proyecto Base"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-2",children:[l.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"bg-purple-500 text-white px-3 py-2 rounded-lg border-2 border-purple-400 focus:outline-none focus:border-white",children:sx.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))}),l.jsx("select",{value:n,onChange:i=>s(i.target.value),className:"bg-purple-500 text-white px-3 py-2 rounded-lg border-2 border-purple-400 focus:outline-none focus:border-white",children:nx.map(i=>l.jsx("option",{value:i,children:i},i))})]})]})})})}function Bt({icon:t,text:e,view:n,currentView:s,setCurrentView:i}){return l.jsxs("button",{onClick:()=>i(n),className:`px-4 py-3 font-medium transition-colors whitespace-nowrap ${s===n?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-purple-600"}`,children:[l.jsx("i",{className:`fas ${t} mr-2`}),e]})}function rx({currentView:t,setCurrentView:e}){return l.jsx("nav",{className:"bg-white shadow-md overflow-x-auto",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Bt,{icon:"fa-chart-line",text:"Dashboard",view:"dashboard",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-calculator",text:"Presupuesto",view:"budget",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-receipt",text:"Transacciones",view:"transactions",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-credit-card",text:"Deudas",view:"debts",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-piggy-bank",text:"Ahorros",view:"savings",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-chart-pie",text:"Inversiones",view:"investments",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-calendar-alt",text:"Cashflow",view:"cashflow",currentView:t,setCurrentView:e}),l.jsx(Bt,{icon:"fa-brain",text:"Anlisis",view:"analysis",currentView:t,setCurrentView:e})]})})})}const nr={calculateNautaIndex(t){const{categories:e,debts:n,savingsGoals:s,ynabConfig:i}=t;let r=0;const o={emergencyFund:{score:0,max:20,details:{}},savingsRate:{score:0,max:20,details:{}},toxicDebts:{score:0,max:10,details:{}},insurance:{score:0,max:10,details:{}},retirement:{score:0,max:10,details:{}}},a=e.reduce((j,N)=>j+N.budget,0),c=(i==null?void 0:i.monthlyIncome)||0,u=s.find(j=>j.name.toLowerCase().includes("emergencia")||j.name.toLowerCase().includes("emergency"));if(u&&a>0){const j=u.currentAmount/a,N=6,P=Math.min(j/N*20,20);o.emergencyFund.score=P,o.emergencyFund.details={currentAmount:u.currentAmount,monthsCovered:j,objective:N,monthlyExpenses:a,status:j>=6?"Excelente":j>=3?"Bueno":j>=1?"Regular":"Insuficiente"},r+=P}else o.emergencyFund.details={currentAmount:0,monthsCovered:0,objective:6,monthlyExpenses:a,status:"Sin fondo de emergencia"};if(c>0){const j=c-a,N=j/c,P=N*100,E=Math.min(Math.max(N,0)*(20/.2),20);o.savingsRate.score=E,o.savingsRate.details={monthlyIncome:c,monthlyExpenses:a,savingsAmount:j,savingsRatePercent:P,objective:20,status:P>=20?"Excelente":P>=10?"Bueno":P>=5?"Regular":"Insuficiente"},r+=E}else o.savingsRate.details={monthlyIncome:0,monthlyExpenses:a,savingsAmount:0,savingsRatePercent:0,objective:20,status:"Sin ingreso configurado"};const d=["Prstamo Automotriz","Prstamo de Consumo","Tarjeta de Crdito"],h=n.filter(j=>d.includes(j.type)),f=h.length,p=h.reduce((j,N)=>j+N.currentBalance,0),x=Math.max(10-f*2.5,0);o.toxicDebts.score=x,o.toxicDebts.details={count:f,totalAmount:p,types:h.map(j=>({name:j.name,type:j.type,balance:j.currentBalance})),status:f===0?"Excelente - Sin deudas txicas":f<=2?"Mejorable":"Crtico"},r+=x;const m=e.some(j=>j.name.toLowerCase().includes("seguro")&&(j.name.toLowerCase().includes("mdico")||j.name.toLowerCase().includes("salud")||j.name.toLowerCase().includes("complementario"))),v=e.some(j=>j.name.toLowerCase().includes("seguro")&&j.name.toLowerCase().includes("vida")),g=e.some(j=>j.name.toLowerCase().includes("seguro")&&j.name.toLowerCase().includes("catastrf"));let y=0;m&&(y+=4),g&&(y+=3),v&&(y+=3),o.insurance.score=Math.min(y,10),o.insurance.details={hasHealthInsurance:m,hasLifeInsurance:v,hasCatastrophicInsurance:g,status:y>=7?"Buena proteccin":y>=4?"Proteccin bsica":"Sin proteccin"},r+=Math.min(y,10);const b=e.some(j=>j.name.toLowerCase().includes("apv")||j.name.toLowerCase().includes("pensin")||j.name.toLowerCase().includes("pension")||j.name.toLowerCase().includes("jubilacin")),w=s.find(j=>j.name.toLowerCase().includes("retiro")||j.name.toLowerCase().includes("pensin")||j.name.toLowerCase().includes("jubilacin"));let _=0;b&&(_+=5),w&&(_+=5),o.retirement.score=_,o.retirement.details={hasRetirementCategory:b,hasRetirementGoal:!!w,status:_>=8?"Excelente planificacin":_>=5?"Planificacin bsica":"Sin planificacin"},r+=_;const S=Math.round(r/70*100);return{score:S,breakdown:o,interpretation:this.interpretNautaScore(S),totalPossible:70,totalAchieved:r}},interpretNautaScore(t){return t>=80?{level:"Excelente",color:"green",icon:"",message:"Tu salud financiera es excelente. Sigue as!"}:t>=60?{level:"Bueno",color:"blue",icon:"",message:"Tu salud financiera es buena, pero hay espacio para mejorar."}:t>=40?{level:"Regular",color:"yellow",icon:"",message:"Tu salud financiera necesita atencin. Revisa los componentes."}:{level:"Crtico",color:"red",icon:"",message:"Tu salud financiera requiere accin inmediata."}},calculateNetWorth(t,e,n,s){const i=t.reduce((o,a)=>o+n(a.value,a.currency,s),0),r=e.reduce((o,a)=>o+n(a.value,a.currency,s),0);return i-r},calculateDebtToIncomeRatio(t,e){return!e||e===0?0:t.reduce((s,i)=>s+i.currentBalance,0)/(e*12)*100},calculateDebtServiceRatio(t,e){return!e||e===0?0:t.reduce((s,i)=>s+i.monthlyPayment,0)/e*100},calculateEmergencyFundMonths(t,e){const n=t.find(i=>i.name.toLowerCase().includes("emergencia")||i.name.toLowerCase().includes("emergency"));if(!n)return 0;const s=e.reduce((i,r)=>i+r.budget,0);return s===0?0:n.currentAmount/s},generateInsights(t){const e=[],{categories:n,totals:s,debts:i,savingsGoals:r}=t;n.forEach(u=>{const d=u.spent/u.budget*100;d>100&&e.push({type:"warning",icon:"fa-exclamation-triangle",title:`Sobrepasaste el presupuesto en ${u.name}`,message:`Has gastado ${d.toFixed(0)}% del presupuesto asignado.`,priority:"high"})});const o=s.available/s.budgeted;o<.1?e.push({type:"warning",icon:"fa-piggy-bank",title:"Tasa de ahorro baja",message:`Solo ests ahorrando ${(o*100).toFixed(1)}% de tus ingresos. Se recomienda al menos 20%.`,priority:"high"}):o>.3&&e.push({type:"success",icon:"fa-trophy",title:"Excelente tasa de ahorro!",message:`Ests ahorrando ${(o*100).toFixed(1)}% de tus ingresos. Sigue as!`,priority:"low"});const c=i.reduce((u,d)=>u+d.currentBalance,0)/(s.budgeted*12);return c>3&&e.push({type:"danger",icon:"fa-exclamation-circle",title:"Nivel de deuda alto",message:`Tu deuda total representa ${c.toFixed(1)} aos de ingresos.`,priority:"high"}),e.sort((u,d)=>{const h={high:0,medium:1,low:2};return h[u.priority]-h[d.priority]})}};function Mm(){const{categories:t,debts:e,savingsGoals:n,investments:s,ynabConfig:i,displayCurrency:r,convertCurrency:o}=be(),a=D.useMemo(()=>nr.calculateNautaIndex({categories:t,debts:e,savingsGoals:n,ynabConfig:i}),[t,e,n,i]),c=D.useMemo(()=>nr.calculateDebtToIncomeRatio(e,(i==null?void 0:i.monthlyIncome)||0),[e,i]),u=D.useMemo(()=>{const p=t.reduce((m,v)=>m+v.budget,0),x=(i==null?void 0:i.monthlyIncome)||0;return x===0?0:(x-p)/x*100},[t,i]),d=D.useMemo(()=>nr.calculateDebtServiceRatio(e,(i==null?void 0:i.monthlyIncome)||0),[e,i]),h=D.useMemo(()=>nr.calculateEmergencyFundMonths(n,t),[n,t]),f=D.useMemo(()=>{const p=n.reduce((v,g)=>v+o(g.currentAmount,g.currency,r),0),x=s.reduce((v,g)=>{const y=g.quantity*g.currentPrice;return v+o(y,g.currency,r)},0),m=e.reduce((v,g)=>v+o(g.currentBalance,g.currency,r),0);return p+x-m},[n,s,e,r,o]);return{nautaIndex:a,debtToIncomeRatio:c,savingsRate:u,debtServiceRatio:d,emergencyFundMonths:h,netWorth:f}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ii(t){return t+.5|0}const Xt=(t,e,n)=>Math.max(Math.min(t,n),e);function Hs(t){return Xt(Ii(t*2.55),0,255)}function an(t){return Xt(Ii(t*255),0,255)}function Pt(t){return Xt(Ii(t/2.55)/100,0,1)}function Gu(t){return Xt(Ii(t*100),0,100)}const Xe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pl=[..."0123456789ABCDEF"],ox=t=>pl[t&15],ax=t=>pl[(t&240)>>4]+pl[t&15],sr=t=>(t&240)>>4===(t&15),lx=t=>sr(t.r)&&sr(t.g)&&sr(t.b)&&sr(t.a);function cx(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Xe[t[1]]*17,g:255&Xe[t[2]]*17,b:255&Xe[t[3]]*17,a:e===5?Xe[t[4]]*17:255}:(e===7||e===9)&&(n={r:Xe[t[1]]<<4|Xe[t[2]],g:Xe[t[3]]<<4|Xe[t[4]],b:Xe[t[5]]<<4|Xe[t[6]],a:e===9?Xe[t[7]]<<4|Xe[t[8]]:255})),n}const ux=(t,e)=>t<255?e(t):"";function dx(t){var e=lx(t)?ox:ax;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ux(t.a,e):void 0}const hx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Pm(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function fx(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function mx(t,e,n){const s=Pm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function px(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function xc(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=px(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function yc(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(an)}function vc(t,e,n){return yc(Pm,t,e,n)}function gx(t,e,n){return yc(mx,t,e,n)}function xx(t,e,n){return yc(fx,t,e,n)}function Em(t){return(t%360+360)%360}function yx(t){const e=hx.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Hs(+e[5]):an(+e[5]));const i=Em(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=gx(i,r,o):e[1]==="hsv"?s=xx(i,r,o):s=vc(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function vx(t,e){var n=xc(t);n[0]=Em(n[0]+e),n=vc(n),t.r=n[0],t.g=n[1],t.b=n[2]}function bx(t){if(!t)return;const e=xc(t),n=e[0],s=Gu(e[1]),i=Gu(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Pt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Xu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ku={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wx(){const t={},e=Object.keys(Ku),n=Object.keys(Xu);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Xu[r]);r=parseInt(Ku[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let ir;function _x(t){ir||(ir=wx(),ir.transparent=[0,0,0,0]);const e=ir[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nx(t){const e=jx.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Hs(o):Xt(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Hs(s):Xt(s,0,255)),i=255&(e[4]?Hs(i):Xt(i,0,255)),r=255&(e[6]?Hs(r):Xt(r,0,255)),{r:s,g:i,b:r,a:n}}}function Sx(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Pt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const la=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Bn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function kx(t,e,n){const s=Bn(Pt(t.r)),i=Bn(Pt(t.g)),r=Bn(Pt(t.b));return{r:an(la(s+n*(Bn(Pt(e.r))-s))),g:an(la(i+n*(Bn(Pt(e.g))-i))),b:an(la(r+n*(Bn(Pt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function rr(t,e,n){if(t){let s=xc(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=vc(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Dm(t,e){return t&&Object.assign(e||{},t)}function Qu(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=an(t[3]))):(e=Dm(t,{r:0,g:0,b:0,a:1}),e.a=an(e.a)),e}function Cx(t){return t.charAt(0)==="r"?Nx(t):yx(t)}class Ni{constructor(e){if(e instanceof Ni)return e;const n=typeof e;let s;n==="object"?s=Qu(e):n==="string"&&(s=cx(e)||_x(e)||Cx(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Dm(this._rgb);return e&&(e.a=Pt(e.a)),e}set rgb(e){this._rgb=Qu(e)}rgbString(){return this._valid?Sx(this._rgb):void 0}hexString(){return this._valid?dx(this._rgb):void 0}hslString(){return this._valid?bx(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=kx(this._rgb,e._rgb,n)),this}clone(){return new Ni(this.rgb)}alpha(e){return this._rgb.a=an(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ii(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rr(this._rgb,2,e),this}darken(e){return rr(this._rgb,2,-e),this}saturate(e){return rr(this._rgb,1,e),this}desaturate(e){return rr(this._rgb,1,-e),this}rotate(e){return vx(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Nt(){}const Mx=(()=>{let t=0;return()=>t++})();function V(t){return t==null}function de(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function H(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function nt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pt(t,e){return nt(t)?t:e}function z(t,e){return typeof t>"u"?e:t}const Px=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Tm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Z(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function U(t,e,n,s){let i,r,o;if(de(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(H(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function oo(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ao(t){if(de(t))return t.map(ao);if(H(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=ao(t[n[i]]);return e}return t}function Am(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ex(t,e,n,s){if(!Am(t))return;const i=e[t],r=n[t];H(i)&&H(r)?Si(i,r,s):e[t]=ao(r)}function Si(t,e,n){const s=de(e)?e:[e],i=s.length;if(!H(t))return t;n=n||{};const r=n.merger||Ex;let o;for(let a=0;a<i;++a){if(o=s[a],!H(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function si(t,e){return Si(t,e,{merger:Dx})}function Dx(t,e,n){if(!Am(t))return;const s=e[t],i=n[t];H(s)&&H(i)?si(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ao(i))}const qu={"":t=>t,x:t=>t.x,y:t=>t.y};function Tx(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Ax(t){const e=Tx(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Fn(t,e){return(qu[e]||(qu[e]=Ax(e)))(t)}function bc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ki=t=>typeof t<"u",un=t=>typeof t=="function",Zu=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Fx(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Y=Math.PI,oe=2*Y,Rx=oe+Y,lo=Number.POSITIVE_INFINITY,Ox=Y/180,fe=Y/2,mn=Y/4,Ju=Y*2/3,Fm=Math.log10,_t=Math.sign;function ii(t,e,n){return Math.abs(t-e)<n}function ed(t){const e=Math.round(t);t=ii(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fm(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Ix(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Lx(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ci(t){return!Lx(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function zx(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Bx(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Tt(t){return t*(Y/180)}function $x(t){return t*(180/Y)}function td(t){if(!nt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Rm(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*Y&&(r+=oe),{angle:r,distance:i}}function gl(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Hx(t,e){return(t-e+Rx)%oe-Y}function at(t){return(t%oe+oe)%oe}function Mi(t,e,n,s){const i=at(t),r=at(e),o=at(n),a=at(r-i),c=at(o-i),u=at(i-r),d=at(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function Se(t,e,n){return Math.max(e,Math.min(n,t))}function Wx(t){return Se(t,-32768,32767)}function Kt(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function wc(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Nn=(t,e,n,s)=>wc(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Vx=(t,e,n)=>wc(t,n,s=>t[s][e]>=n);function Ux(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Om=["push","pop","shift","splice","unshift"];function Yx(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Om.forEach(n=>{const s="_onData"+bc(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function nd(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Om.forEach(r=>{delete t[r]}),delete t._chartjs)}function Im(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Lm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function zm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Lm.call(window,()=>{s=!1,t.apply(e,n)}))}}function Gx(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const _c=t=>t==="start"?"left":t==="end"?"right":"center",je=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Xx=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Kx(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:f,minDefined:p,maxDefined:x}=o.getUserBounds();if(p){if(i=Math.min(Nn(c,d,h).lo,n?s:Nn(e,d,o.getPixelForValue(h)).lo),u){const m=c.slice(0,i+1).reverse().findIndex(v=>!V(v[a.axis]));i-=Math.max(0,m)}i=Se(i,0,s-1)}if(x){let m=Math.max(Nn(c,o.axis,f,!0).hi+1,n?0:Nn(e,d,o.getPixelForValue(f),!0).hi+1);if(u){const v=c.slice(m-1).findIndex(g=>!V(g[a.axis]));m+=Math.max(0,v)}r=Se(m,i,s)-i}else r=s-i}return{start:i,count:r}}function Qx(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const or=t=>t===0||t===1,sd=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*oe/n)),id=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*oe/n)+1,ri={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fe)+1,easeOutSine:t=>Math.sin(t*fe),easeInOutSine:t=>-.5*(Math.cos(Y*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>or(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>or(t)?t:sd(t,.075,.3),easeOutElastic:t=>or(t)?t:id(t,.075,.3),easeInOutElastic(t){return or(t)?t:t<.5?.5*sd(t*2,.1125,.45):.5+.5*id(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ri.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ri.easeInBounce(t*2)*.5:ri.easeOutBounce(t*2-1)*.5+.5};function jc(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function rd(t){return jc(t)?t:new Ni(t)}function ca(t){return jc(t)?t:new Ni(t).saturate(.5).darken(.1).hexString()}const qx=["x","y","borderWidth","radius","tension"],Zx=["color","borderColor","backgroundColor"];function Jx(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Zx},numbers:{type:"number",properties:qx}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ey(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const od=new Map;function ty(t,e){e=e||{};const n=t+JSON.stringify(e);let s=od.get(n);return s||(s=new Intl.NumberFormat(t,e),od.set(n,s)),s}function Nc(t,e,n){return ty(e,n).format(t)}const ny={values(t){return de(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=sy(t,n)}const o=Fm(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Nc(t,s,c)}};function sy(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Bm={formatters:ny};function iy(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rn=Object.create(null),xl=Object.create(null);function oi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function ua(t,e,n){return typeof e=="string"?Si(oi(t,e),n):Si(oi(t,""),e)}class ry{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ca(i.backgroundColor),this.hoverBorderColor=(s,i)=>ca(i.borderColor),this.hoverColor=(s,i)=>ca(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ua(this,e,n)}get(e){return oi(this,e)}describe(e,n){return ua(xl,e,n)}override(e,n){return ua(Rn,e,n)}route(e,n,s,i){const r=oi(this,e),o=oi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return H(c)?Object.assign({},u,c):z(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var le=new ry({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jx,ey,iy]);function oy(t){return!t||V(t.size)||V(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ad(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function pn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function ld(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function yl(t,e,n,s){$m(t,e,n,s,null)}function $m(t,e,n,s,i){let r,o,a,c,u,d,h,f;const p=e.pointStyle,x=e.rotation,m=e.radius;let v=(x||0)*Ox;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,m,0,0,oe):t.arc(n,s,m,0,oe),t.closePath();break;case"triangle":d=i?i/2:m,t.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*m),v+=Ju,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*m),v+=Ju,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*m),t.closePath();break;case"rectRounded":u=m*.516,c=m-u,o=Math.cos(v+mn)*c,h=Math.cos(v+mn)*(i?i/2-u:c),a=Math.sin(v+mn)*c,f=Math.sin(v+mn)*(i?i/2-u:c),t.arc(n-h,s-a,u,v-Y,v-fe),t.arc(n+f,s-o,u,v-fe,v),t.arc(n+h,s+a,u,v,v+fe),t.arc(n-f,s+o,u,v+fe,v+Y),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*m,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}v+=mn;case"rectRot":h=Math.cos(v)*(i?i/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":v+=mn;case"cross":h=Math.cos(v)*(i?i/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(v)*(i?i/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),v+=mn,h=Math.cos(v)*(i?i/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(v)*m,a=Math.sin(v)*m,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(i?i/2:m),s+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Sc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kc(t){t.restore()}function ay(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function ly(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function cy(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),V(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uy(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function dy(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ei(t,e,n,s,i,r={}){const o=de(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,cy(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&dy(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),V(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),uy(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function co(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Y,Y,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,Y,fe,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,fe,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-fe,!0),t.lineTo(n+o.topLeft,s)}const hy=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fy=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function my(t,e){const n=(""+t).match(hy);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const py=t=>+t||0;function Cc(t,e){const n={},s=H(e),i=s?Object.keys(e):e,r=H(t)?s?o=>z(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=py(r(o));return n}function Hm(t){return Cc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function as(t){return Cc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function st(t){const e=Hm(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ke(t,e){t=t||{},e=e||le.font;let n=z(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=z(t.style,e.style);s&&!(""+s).match(fy)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:z(t.family,e.family),lineHeight:my(z(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:z(t.weight,e.weight),string:""};return i.string=oy(i),i}function ar(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function gy(t,e,n){const{min:s,max:i}=t,r=Tm(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Ln(t,e){return Object.assign(Object.create(t),e)}function Mc(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Ym("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Mc([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Vm(a,c,()=>Ny(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return ud(a).includes(c)},ownKeys(a){return ud(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function gs(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Wm(t,s),setContext:r=>gs(t,r,n,s),override:r=>gs(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Vm(r,o,()=>yy(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Wm(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:un(n)?n:()=>n,isIndexable:un(s)?s:()=>s}}const xy=(t,e)=>t?t+bc(e):e,Pc=(t,e)=>H(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vm(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function yy(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return un(a)&&o.isScriptable(e)&&(a=vy(e,a,t,n)),de(a)&&a.length&&(a=by(e,a,t,o.isIndexable)),Pc(e,a)&&(a=gs(a,i,r&&r[e],o)),a}function vy(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),Pc(t,c)&&(c=Ec(i._scopes,i,t,c)),c}function by(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(H(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Ec(u,i,t,d);e.push(gs(h,r,o&&o[t],a))}}return e}function Um(t,e,n){return un(t)?t(e,n):t}const wy=(t,e)=>t===!0?e:typeof t=="string"?Fn(e,t):void 0;function _y(t,e,n,s,i){for(const r of e){const o=wy(n,r);if(o){t.add(o);const a=Um(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Ec(t,e,n,s){const i=e._rootScopes,r=Um(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=cd(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=cd(a,o,r,c,s),c===null)?!1:Mc(Array.from(a),[""],i,r,()=>jy(e,n,s))}function cd(t,e,n,s,i){for(;n;)n=_y(t,e,n,s,i);return n}function jy(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return de(i)&&H(n)?n:i||{}}function Ny(t,e,n,s){let i;for(const r of e)if(i=Ym(xy(r,t),n),typeof i<"u")return Pc(t,i)?Ec(n,s,t,i):i}function Ym(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function ud(t){let e=t._keys;return e||(e=t._keys=Sy(t._scopes)),e}function Sy(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const ky=Number.EPSILON||1e-14,xs=(t,e)=>e<t.length&&!t[e].skip&&t[e],Gm=t=>t==="x"?"y":"x";function Cy(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=gl(r,i),c=gl(o,r);let u=a/(a+c),d=c/(a+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=s*u,f=s*d;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function My(t,e,n){const s=t.length;let i,r,o,a,c,u=xs(t,0);for(let d=0;d<s-1;++d)if(c=u,u=xs(t,d+1),!(!c||!u)){if(ii(e[d],0,ky)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],r=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=r*o*e[d])}}function Py(t,e,n="x"){const s=Gm(n),i=t.length;let r,o,a,c=xs(t,0);for(let u=0;u<i;++u){if(o=a,a=c,c=xs(t,u+1),!a)continue;const d=a[n],h=a[s];o&&(r=(d-o[n])/3,a[`cp1${n}`]=d-r,a[`cp1${s}`]=h-r*e[u]),c&&(r=(c[n]-d)/3,a[`cp2${n}`]=d+r,a[`cp2${s}`]=h+r*e[u])}}function Ey(t,e="x"){const n=Gm(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,c,u=xs(t,0);for(o=0;o<s;++o)if(a=c,c=u,u=xs(t,o+1),!!c){if(u){const d=u[e]-c[e];i[o]=d!==0?(u[n]-c[n])/d:0}r[o]=a?u?_t(i[o-1])!==_t(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}My(t,i,r),Py(t,r,e)}function lr(t,e,n){return Math.max(Math.min(t,n),e)}function Dy(t,e){let n,s,i,r,o,a=Pi(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Pi(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=lr(i.cp1x,e.left,e.right),i.cp1y=lr(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=lr(i.cp2x,e.left,e.right),i.cp2y=lr(i.cp2y,e.top,e.bottom)))}function Ty(t,e,n,s,i){let r,o,a,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Ey(t,i);else{let u=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],c=Cy(u,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}e.capBezierPoints&&Dy(t,n)}function Dc(){return typeof window<"u"&&typeof document<"u"}function Tc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function uo(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Ao=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ay(t,e){return Ao(t).getPropertyValue(e)}const Fy=["top","right","bottom","left"];function Cn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=Fy[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Ry=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Oy(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(Ry(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function vn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Ao(n),r=i.boxSizing==="border-box",o=Cn(i,"padding"),a=Cn(i,"border","width"),{x:c,y:u,box:d}=Oy(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:x}=e;return r&&(p-=o.width+a.width,x-=o.height+a.height),{x:Math.round((c-h)/p*n.width/s),y:Math.round((u-f)/x*n.height/s)}}function Iy(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Tc(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Ao(r),c=Cn(a,"border","width"),u=Cn(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=uo(a.maxWidth,r,"clientWidth"),i=uo(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||lo,maxHeight:i||lo}}const Qt=t=>Math.round(t*10)/10;function Ly(t,e,n,s){const i=Ao(t),r=Cn(i,"margin"),o=uo(i.maxWidth,t,"clientWidth")||lo,a=uo(i.maxHeight,t,"clientHeight")||lo,c=Iy(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=Cn(i,"border","width"),p=Cn(i,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=Qt(Math.min(u,o,c.maxWidth)),d=Qt(Math.min(d,a,c.maxHeight)),u&&!d&&(d=Qt(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=Qt(Math.floor(d*s))),{width:u,height:d}}function dd(t,e,n){const s=e||1,i=Qt(t.height*s),r=Qt(t.width*s);t.height=Qt(t.height),t.width=Qt(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const zy=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Dc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function hd(t,e){const n=Ay(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function bn(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function By(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function $y(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=bn(t,i,n),a=bn(i,r,n),c=bn(r,e,n),u=bn(o,a,n),d=bn(a,c,n);return bn(u,d,n)}const Hy=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Wy=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ls(t,e,n){return t?Hy(e,n):Wy()}function Xm(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Km(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qm(t){return t==="angle"?{between:Mi,compare:Hx,normalize:at}:{between:Kt,compare:(e,n)=>e-n,normalize:e=>e}}function fd({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function Vy(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=Qm(s),c=e.length;let{start:u,end:d,loop:h}=t,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&o(a(e[u%c][s]),i,r);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:t.style}}function Uy(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:c,normalize:u}=Qm(s),{start:d,end:h,loop:f,style:p}=Vy(t,e,n),x=[];let m=!1,v=null,g,y,b;const w=()=>c(i,b,g)&&a(i,b)!==0,_=()=>a(r,g)===0||c(r,b,g),S=()=>m||w(),j=()=>!m||_();for(let N=d,P=d;N<=h;++N)y=e[N%o],!y.skip&&(g=u(y[s]),g!==b&&(m=c(g,i,r),v===null&&S()&&(v=a(g,i)===0?N:P),v!==null&&j()&&(x.push(fd({start:v,end:N,loop:f,count:o,style:p})),v=null),P=N,b=g));return v!==null&&x.push(fd({start:v,end:h,loop:f,count:o,style:p})),x}function Yy(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=Uy(s[i],t.points,e);r.length&&n.push(...r)}return n}function Gy(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function Xy(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%i];u.skip||u.stop?a.skip||(s=!1,r.push({start:e%i,end:(c-1)%i,loop:s}),e=o=u.stop?c:null):(o=c,a.skip&&(e=c)),a=u}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function Ky(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=Gy(n,i,r,s);if(s===!0)return md(t,[{start:o,end:a,loop:r}],n,e);const c=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return md(t,Xy(n,o,c,u),n,e)}function md(t,e,n,s){return!s||!s.setContext||!n?e:Qy(t,e,n,s)}function Qy(t,e,n,s){const i=t._chart.getContext(),r=pd(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,u=[];let d=r,h=e[0].start,f=h;function p(x,m,v,g){const y=a?-1:1;if(x!==m){for(x+=c;n[x%c].skip;)x-=y;for(;n[m%c].skip;)m+=y;x%c!==m%c&&(u.push({start:x%c,end:m%c,loop:v,style:g}),d=g,h=m%c)}}for(const x of e){h=a?h:x.start;let m=n[h%c],v;for(f=h+1;f<=x.end;f++){const g=n[f%c];v=pd(s.setContext(Ln(i,{type:"segment",p0:m,p1:g,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),qy(v,d)&&p(h,f-1,x.loop,d),m=g,d=v}h<f-1&&p(h,f-1,x.loop,d)}return u}function pd(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qy(t,e){if(!e)return!1;const n=[],s=function(i,r){return jc(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function cr(t,e,n){return t.options.clip?t[n]:e[n]}function Zy(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:cr(n,e,"left"),right:cr(n,e,"right"),top:cr(s,e,"top"),bottom:cr(s,e,"bottom")}:e}function Jy(t,e){const n=e._clip;if(n.disabled)return!1;const s=Zy(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ev{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Lm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var St=new ev;const gd="transparent",tv={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=rd(t||gd),i=s.valid&&rd(e||gd);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nv{constructor(e,n,s,i){const r=n[s];i=ar([e.to,i,r,e.from]);const o=ar([e.from,r,i]);this._active=!0,this._fn=e.fn||tv[e.type||typeof o],this._easing=ri[e.easing]||ri.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ar([e.to,n,i,e.from]),this._from=ar([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class qm{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!H(e))return;const n=Object.keys(le.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!H(r))return;const o={};for(const a of n)o[a]=r[a];(de(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=iv(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&sv(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new nv(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return St.add(this._chart,s),!0}}function sv(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function iv(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xd(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function rv(t,e,n){if(n===!1)return!1;const s=xd(t,n),i=xd(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function ov(t){let e,n,s,i;return H(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Zm(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function yd(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],nt(u)&&(r||e===0||_t(e)===_t(u))&&(e+=u)}return!d&&!s.all?0:e}function av(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function da(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function lv(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function cv(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function uv(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function vd(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function bd(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=lv(r,o,s),h=e.length;let f;for(let p=0;p<h;++p){const x=e[p],{[c]:m,[u]:v}=x,g=x._stacks||(x._stacks={});f=g[u]=uv(i,d,m),f[a]=v,f._top=vd(f,o,!0,s.type),f._bottom=vd(f,o,!1,s.type);const y=f._visualValues||(f._visualValues={});y[a]=v}}function ha(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function dv(t,e){return Ln(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hv(t,e,n){return Ln(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ds(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const fa=t=>t==="reset"||t==="none",wd=(t,e)=>e?t:Object.assign({},t),fv=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Zm(n,!0),values:null};class Mn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=da(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ds(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,p,x)=>h==="x"?f:h==="r"?x:p,r=n.xAxisID=z(s.xAxisID,ha(e,"x")),o=n.yAxisID=z(s.yAxisID,ha(e,"y")),a=n.rAxisID=z(s.rAxisID,ha(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nd(this._data,this),e._stacked&&Ds(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(H(n)){const i=this._cachedMeta;this._data=av(n,i)}else if(s!==n){if(s){nd(s,this);const i=this._cachedMeta;Ds(i),i._parsed=[]}n&&Object.isExtensible(n)&&Yx(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=da(n.vScale,n),n.stack!==s.stack&&(i=!0,Ds(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(bd(this,n._parsed),n._stacked=da(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{de(i[e])?f=this.parseArrayData(s,i,e,n):H(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const p=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(p()&&(c=!1),u=h);s._sorted=c}o&&bd(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,p,x;for(f=0,p=i;f<p;++f)x=f+s,h[f]={[a]:d||r.parse(u[x],x),[c]:o.parse(n[x],x)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+s,h=n[d],a[c]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+s,p=n[f],u[d]={x:r.parse(Fn(p,a),f),y:o.parse(Fn(p,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Zm(i,!0),values:n._stacks[e.axis]._visualValues};return yd(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=yd(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=fv(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=cv(a);let f,p;function x(){p=i[f];const m=p[a.axis];return!nt(p[e.axis])||d>m||h<m}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(u,e,p,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],nt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ov(z(this.options.clip,rv(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=hv(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=dv(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&ki(s);if(a)return wd(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(le.elements[e]),x=()=>this.getContext(s,i,n),m=u.resolveNamedOptions(f,p,x,h);return m.$shared&&(m.$shared=c,r[o]=Object.freeze(wd(m,c))),m}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new qm(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||fa(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){fa(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!fa(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Ds(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}R(Mn,"defaults",{}),R(Mn,"datasetElementType",null),R(Mn,"dataElementType",null);function mv(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Im(s.sort((i,r)=>i-r))}return t._cache.$bar}function pv(t){const e=t.iScale,n=mv(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(ki(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function gv(t,e,n,s){const i=n.barThickness;let r,o;return V(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function xv(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function yv(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function Jm(t,e,n,s){return de(t)?yv(t,e,n,s):e[n.axis]=n.parse(t,s),e}function _d(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(Jm(f,h,r,u));return c}function ma(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function vv(t,e,n){return t!==0?_t(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function bv(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function wv(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=bv(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[jd(d,o,a,c)]=!0,i=u)),r[jd(i,o,a,c)]=!0,t.borderSkipped=r}function jd(t,e,n,s){return s?(t=_v(t,e,n),t=Nd(t,n,e)):t=Nd(t,e,n),t}function _v(t,e,n){return t===e?n:t===n?e:t}function Nd(t,e,n){return t==="start"?e:t==="end"?n:t}function jv(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Er extends Mn{parsePrimitiveData(e,n,s,i){return _d(e,n,s,i)}parseArrayData(e,n,s,i){return _d(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,p,x,m;for(f=s,p=s+i;f<p;++f)m=n[f],x={},x[r.axis]=r.parse(Fn(m,u),f),h.push(Jm(Fn(m,d),x,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=ma(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const x=this.getParsed(p),m=r||V(x[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,d),g=(x._stacks||{})[a.axis],y={horizontal:u,base:m.base,enableBorderRadius:!g||ma(x._custom)||o===g._top||o===g._bottom,x:u?m.head:v.center,y:u?v.center:m.head,height:u?v.size:Math.abs(m.size),width:u?Math.abs(m.size):v.size};f&&(y.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const b=y.options||e[p].options;wv(y,b,g,o),jv(y,b,d.ratio),this.updateElement(e[p],p,y,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(p=>p[s.axis]===c),f=h&&h[d.vScale.axis];if(V(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[z(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||pv(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=ma(u);let h=c[n.axis],f=0,p=s?this.applyStack(n,c,s):h,x,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&_t(h)!==_t(u.barEnd)&&(f=0),f+=h);const v=!V(r)&&!d?r:f;let g=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(f+p):x=g,m=x-g,Math.abs(m)<o){m=vv(m,n,a)*o,h===a&&(g-=m/2);const y=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),w=Math.min(y,b),_=Math.max(y,b);g=Math.max(Math.min(g,_),w),x=g+m,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(x)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const y=_t(m)*n.getLineWidthForValue(a)/2;g+=y,m-=y}return{size:m,base:g,head:x,center:x+m/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=z(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?xv(e,n,i,d*u):gv(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(z(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+p;a=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}R(Er,"id","bar"),R(Er,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),R(Er,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Nv(t,e,n){let s=1,i=1,r=0,o=0;if(e<oe){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),p=(b,w,_)=>Mi(b,a,c,!0)?1:Math.max(w,w*n,_,_*n),x=(b,w,_)=>Mi(b,a,c,!0)?-1:Math.min(w,w*n,_,_*n),m=p(0,u,h),v=p(fe,d,f),g=x(Y,u,h),y=x(Y+fe,d,f);s=(m-g)/2,i=(v-y)/2,r=-(m+g)/2,o=-(v+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Ws extends Mn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(H(s[e])){const{key:c="value"}=this._parsing;r=u=>+Fn(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Tt(this.options.rotation-90)}_getCircumference(){return Tt(this.options.circumference)}_getRotationExtents(){let e=oe,n=-oe;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(Px(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:x,offsetY:m}=Nv(h,d,c),v=(s.width-o)/f,g=(s.height-o)/p,y=Math.max(Math.min(v,g)/2,0),b=Tm(this.options.radius,y),w=Math.max(b*c,0),_=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=x*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/oe)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,p=f?0:this.innerRadius,x=f?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,i);let g=this._getRotation(),y;for(y=0;y<n;++y)g+=this._circumference(y,r);for(y=n;y<n+s;++y){const b=this._circumference(y,r),w=e[y],_={x:d+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+b,circumference:b,outerRadius:x,innerRadius:p};v&&(_.options=m||this.resolveDataElementOptions(y,w.active?"active":i)),g+=b,this.updateElement(w,y,_,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?oe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Nc(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}R(Ws,"id","doughnut"),R(Ws,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),R(Ws,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),R(Ws,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Dr extends Mn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=Kx(n,i,o);this._drawStart=a,this._drawCount=c,Qx(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(i,a,c,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:x,segment:m}=this.options,v=Ci(x)?x:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||i==="none",y=n+s,b=e.length;let w=n>0&&this.getParsed(n-1);for(let _=0;_<b;++_){const S=e[_],j=g?S:{};if(_<n||_>=y){j.skip=!0;continue}const N=this.getParsed(_),P=V(N[p]),E=j[f]=o.getPixelForValue(N[f],_),O=j[p]=r||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,N,c):N[p],_);j.skip=isNaN(E)||isNaN(O)||P,j.stop=_>0&&Math.abs(N[f]-w[f])>v,m&&(j.parsed=N,j.raw=u.data[_]),h&&(j.options=d||this.resolveDataElementOptions(_,S.active?"active":i)),g||this.updateElement(S,_,j,i),w=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}R(Dr,"id","line"),R(Dr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),R(Dr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function gn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ac{constructor(e){R(this,"options");this.options=e||{}}static override(e){Object.assign(Ac.prototype,e)}init(){}formats(){return gn()}parse(){return gn()}format(){return gn()}add(){return gn()}diff(){return gn()}startOf(){return gn()}endOf(){return gn()}}var Sv={_date:Ac};function kv(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?Vx:Nn;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),p=u(r,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,d.lo+1).reverse().findIndex(m=>!V(m[h.axis]));d.lo-=Math.max(0,p);const x=f.slice(d.hi).findIndex(m=>!V(m[h.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:r.length-1}}function Fo(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=kv(r[a],e,o,i);for(let p=h;p<=f;++p){const x=d[p];x.skip||s(x,u,p)}}}function Cv(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function pa(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Fo(t,n,e,function(a,c,u){!i&&!Pi(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function Mv(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Rm(o,{x:e.x,y:e.y});Mi(h,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return Fo(t,n,e,r),i}function Pv(t,e,n,s,i,r){let o=[];const a=Cv(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,i);if(s&&!p)return;const x=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(x))&&!p)return;const v=a(e,x);v<c?(o=[{element:d,datasetIndex:h,index:f}],c=v):v===c&&o.push({element:d,datasetIndex:h,index:f})}return Fo(t,n,e,u),o}function ga(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?Mv(t,e,n,i):Pv(t,e,n,s,i,r)}function Sd(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Fo(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var Ev={modes:{index(t,e,n,s){const i=vn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?pa(t,i,r,s,o):ga(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?pa(t,i,r,s,o):ga(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return pa(t,i,r,s,o)},nearest(t,e,n,s){const i=vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return ga(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=vn(e,t);return Sd(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=vn(e,t);return Sd(t,i,"y",n.intersect,s)}}};const ep=["left","top","right","bottom"];function Ts(t,e){return t.filter(n=>n.pos===e)}function kd(t,e){return t.filter(n=>ep.indexOf(n.pos)===-1&&n.box.axis===e)}function As(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Dv(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function Tv(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!ep.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function Av(t,e){const n=Tv(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function Fv(t){const e=Dv(t),n=As(e.filter(u=>u.box.fullSize),!0),s=As(Ts(e,"left"),!0),i=As(Ts(e,"right")),r=As(Ts(e,"top"),!0),o=As(Ts(e,"bottom")),a=kd(e,"x"),c=kd(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Ts(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function Cd(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function tp(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Rv(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!H(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&tp(o,r.getPadding());const a=Math.max(0,e.outerWidth-Cd(o,t,"left","right")),c=Math.max(0,e.outerHeight-Cd(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function Ov(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Iv(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Vs(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,Iv(a.horizontal,e));const{same:h,other:f}=Rv(e,n,a,s);u|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&Vs(i,e,n,s)||d}function ur(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Md(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;ki(u.start)&&(o=u.start),c.fullSize?ur(c,i.left,o,n.outerWidth-i.right-i.left,f):ur(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;ki(u.start)&&(r=u.start),c.fullSize?ur(c,r,i.top,f,n.outerHeight-i.bottom-i.top):ur(c,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=o}var Ze={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=st(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Fv(t.boxes),c=a.vertical,u=a.horizontal;U(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const d=c.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);tp(f,st(s));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),x=Av(c.concat(u),h);Vs(a.fullSize,p,h,x),Vs(c,p,h,x),Vs(u,p,h,x)&&Vs(c,p,h,x),Ov(p),Md(a.leftAndTop,p,h,x),p.x+=p.w,p.y+=p.h,Md(a.rightAndBottom,p,h,x),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},U(a.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class np{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class Lv extends np{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tr="$chartjs",zv={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pd=t=>t===null||t==="";function Bv(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Tr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Pd(i)){const r=hd(t,"width");r!==void 0&&(t.width=r)}if(Pd(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=hd(t,"height");r!==void 0&&(t.height=r)}return t}const sp=zy?{passive:!0}:!1;function $v(t,e,n){t&&t.addEventListener(e,n,sp)}function Hv(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,sp)}function Wv(t,e){const n=zv[t.type]||t.type,{x:s,y:i}=vn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function ho(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Vv(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ho(a.addedNodes,s),o=o&&!ho(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Uv(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ho(a.removedNodes,s),o=o&&!ho(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Di=new Map;let Ed=0;function ip(){const t=window.devicePixelRatio;t!==Ed&&(Ed=t,Di.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Yv(t,e){Di.size||window.addEventListener("resize",ip),Di.set(t,e)}function Gv(t){Di.delete(t),Di.size||window.removeEventListener("resize",ip)}function Xv(t,e,n){const s=t.canvas,i=s&&Tc(s);if(!i)return;const r=zm((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),Yv(t,r),o}function xa(t,e,n){n&&n.disconnect(),e==="resize"&&Gv(t)}function Kv(t,e,n){const s=t.canvas,i=zm(r=>{t.ctx!==null&&n(Wv(r,t))},t);return $v(s,e,i),i}class Qv extends np{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Bv(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Tr])return!1;const s=n[Tr].initial;["height","width"].forEach(r=>{const o=s[r];V(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Tr],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Vv,detach:Uv,resize:Xv}[n]||Kv;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:xa,detach:xa,resize:xa}[n]||Hv)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return Ly(e,n,s,i)}isAttached(e){const n=e&&Tc(e);return!!(n&&n.isConnected)}}function qv(t){return!Dc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Lv:Qv}class ht{constructor(){R(this,"x");R(this,"y");R(this,"active",!1);R(this,"options");R(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Ci(this.x)&&Ci(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}R(ht,"defaults",{}),R(ht,"defaultRoutes");function Zv(t,e){const n=t.options.ticks,s=Jv(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?tb(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return nb(e,u,r,o/i),u;const d=eb(r,e,i);if(o>0){let h,f;const p=o>1?Math.round((c-a)/(o-1)):null;for(dr(e,u,d,V(p)?0:a-p,a),h=0,f=o-1;h<f;h++)dr(e,u,d,r[h],r[h+1]);return dr(e,u,d,c,V(p)?e.length:c+p),u}return dr(e,u,d),u}function Jv(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function eb(t,e,n){const s=sb(t),i=e.length/n;if(!s)return Math.max(i,1);const r=Ix(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function tb(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function nb(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function dr(t,e,n,s,i){const r=z(s,0),o=Math.min(z(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function sb(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const ib=t=>t==="left"?"right":t==="right"?"left":t,Dd=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Td=(t,e)=>Math.min(e||t,t);function Ad(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function rb(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function ob(t,e){U(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Fs(t){return t.drawTicks?t.tickLength:0}function Fd(t,e){if(!t.display)return 0;const n=ke(t.font,e),s=st(t.padding);return(de(t.text)?t.text.length:1)*n.lineHeight+s.height}function ab(t,e){return Ln(t,{scale:e,type:"scale"})}function lb(t,e,n){return Ln(t,{tick:n,index:e,type:"tick"})}function cb(t,e,n){let s=_c(t);return(n&&e!=="right"||!n&&e==="right")&&(s=ib(s)),s}function ub(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,p,x;const m=o-i,v=a-r;if(t.isHorizontal()){if(p=je(s,r,a),H(n)){const g=Object.keys(n)[0],y=n[g];x=d[g].getPixelForValue(y)+m-e}else n==="center"?x=(u.bottom+u.top)/2+m-e:x=Dd(t,n,e);f=a-r}else{if(H(n)){const g=Object.keys(n)[0],y=n[g];p=d[g].getPixelForValue(y)-v+e}else n==="center"?p=(u.left+u.right)/2-v+e:p=Dd(t,n,e);x=je(s,o,i),h=n==="left"?-fe:fe}return{titleX:p,titleY:x,maxWidth:f,rotation:h}}class ws extends ht{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=pt(e,Number.POSITIVE_INFINITY),n=pt(n,Number.NEGATIVE_INFINITY),s=pt(s,Number.POSITIVE_INFINITY),i=pt(i,Number.NEGATIVE_INFINITY),{min:pt(e,s),max:pt(n,i),minDefined:nt(e),maxDefined:nt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:pt(n,pt(s,n)),max:pt(s,pt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Z(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gy(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Ad(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Zv(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Z(this.options.afterUpdate,[this])}beforeSetDimensions(){Z(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Z(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Z(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Z(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Z(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Z(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Z(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Td(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Se(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),c=this.maxHeight-Fs(e.grid)-n.padding-Fd(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=$x(Math.min(Math.asin(Se((d.highest.height+6)/a,-1,1)),Math.asin(Se(c/u,-1,1))-Math.asin(Se(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Z(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Z(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Fd(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Fs(r)+c):(e.height=this.maxHeight,e.width=Fs(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,x=Tt(this.labelRotation),m=Math.cos(x),v=Math.sin(x);if(a){const g=s.mirror?0:v*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=s.mirror?0:m*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(u,d,v,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=i*e.width,p=s*n.height):(f=s*e.height,p=i*n.width):r==="start"?p=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Z(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)V(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Ad(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/Td(n,s));let u=0,d=0,h,f,p,x,m,v,g,y,b,w,_;for(h=0;h<n;h+=c){if(x=e[h].label,m=this._resolveTickFontOptions(h),i.font=v=m.string,g=r[v]=r[v]||{data:{},gc:[]},y=m.lineHeight,b=w=0,!V(x)&&!de(x))b=ad(i,g.data,g.gc,b,x),w=y;else if(de(x))for(f=0,p=x.length;f<p;++f)_=x[f],!V(_)&&!de(_)&&(b=ad(i,g.data,g.gc,b,_),w+=y);o.push(b),a.push(w),u=Math.max(b,u),d=Math.max(w,d)}ob(r,n);const S=o.indexOf(u),j=a.indexOf(d),N=P=>({width:o[P]||0,height:a[P]||0});return{first:N(0),last:N(n-1),widest:N(S),highest:N(j),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Wx(this._alignToPixels?pn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=lb(this.getContext(),e,s))}return this.$context||(this.$context=ab(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Tt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Fs(r),p=[],x=a.setContext(this.getContext()),m=x.display?x.width:0,v=m/2,g=function(T){return pn(s,T,m)};let y,b,w,_,S,j,N,P,E,O,L,ee;if(o==="top")y=g(this.bottom),j=this.bottom-f,P=y-v,O=g(e.top)+v,ee=e.bottom;else if(o==="bottom")y=g(this.top),O=e.top,ee=g(e.bottom)-v,j=y+v,P=this.top+f;else if(o==="left")y=g(this.right),S=this.right-f,N=y-v,E=g(e.left)+v,L=e.right;else if(o==="right")y=g(this.left),E=e.left,L=g(e.right)-v,S=y+v,N=this.left+f;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(H(o)){const T=Object.keys(o)[0],F=o[T];y=g(this.chart.scales[T].getPixelForValue(F))}O=e.top,ee=e.bottom,j=y+v,P=j+f}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(H(o)){const T=Object.keys(o)[0],F=o[T];y=g(this.chart.scales[T].getPixelForValue(F))}S=y-v,N=S-f,E=e.left,L=e.right}const ge=z(i.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/ge));for(b=0;b<h;b+=W){const T=this.getContext(b),F=r.setContext(T),k=a.setContext(T),C=F.lineWidth,I=F.color,X=k.dash||[],Q=k.dashOffset,ft=F.tickWidth,Me=F.tickColor,jt=F.tickBorderDash||[],Pe=F.tickBorderDashOffset;w=rb(this,b,c),w!==void 0&&(_=pn(s,w,C),u?S=N=E=L=_:j=P=O=ee=_,p.push({tx1:S,ty1:j,tx2:N,ty2:P,x1:E,y1:O,x2:L,y2:ee,width:C,color:I,borderDash:X,borderDashOffset:Q,tickWidth:ft,tickColor:Me,tickBorderDash:jt,tickBorderDashOffset:Pe}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=r,f=Fs(s.grid),p=f+d,x=h?-d:p,m=-Tt(this.labelRotation),v=[];let g,y,b,w,_,S,j,N,P,E,O,L,ee="middle";if(i==="top")S=this.bottom-x,j=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+x,j=this._getXAxisLabelAlignment();else if(i==="left"){const W=this._getYAxisLabelAlignment(f);j=W.textAlign,_=W.x}else if(i==="right"){const W=this._getYAxisLabelAlignment(f);j=W.textAlign,_=W.x}else if(n==="x"){if(i==="center")S=(e.top+e.bottom)/2+p;else if(H(i)){const W=Object.keys(i)[0],T=i[W];S=this.chart.scales[W].getPixelForValue(T)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")_=(e.left+e.right)/2-p;else if(H(i)){const W=Object.keys(i)[0],T=i[W];_=this.chart.scales[W].getPixelForValue(T)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?ee="top":c==="end"&&(ee="bottom"));const ge=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){b=a[g],w=b.label;const W=r.setContext(this.getContext(g));N=this.getPixelForTick(g)+r.labelOffset,P=this._resolveTickFontOptions(g),E=P.lineHeight,O=de(w)?w.length:1;const T=O/2,F=W.color,k=W.textStrokeColor,C=W.textStrokeWidth;let I=j;o?(_=N,j==="inner"&&(g===y-1?I=this.options.reverse?"left":"right":g===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?u==="near"||m!==0?L=-O*E+E/2:u==="center"?L=-ge.highest.height/2-T*E+E:L=-ge.highest.height+E/2:u==="near"||m!==0?L=E/2:u==="center"?L=ge.highest.height/2-T*E:L=ge.highest.height-O*E,h&&(L*=-1),m!==0&&!W.showLabelBackdrop&&(_+=E/2*Math.sin(m))):(S=N,L=(1-O)*E/2);let X;if(W.showLabelBackdrop){const Q=st(W.backdropPadding),ft=ge.heights[g],Me=ge.widths[g];let jt=L-Q.top,Pe=0-Q.left;switch(ee){case"middle":jt-=ft/2;break;case"bottom":jt-=ft;break}switch(j){case"center":Pe-=Me/2;break;case"right":Pe-=Me;break;case"inner":g===y-1?Pe-=Me:g>0&&(Pe-=Me/2);break}X={left:Pe,top:jt,width:Me+Q.width,height:ft+Q.height,color:W.backdropColor}}v.push({label:w,font:P,textOffset:L,options:{rotation:m,color:F,strokeColor:k,strokeWidth:C,textAlign:I,textBaseline:ee,translation:[_,S],backdrop:X}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Tt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=pn(e,this.left,o)-o/2,d=pn(e,this.right,a)+a/2,h=f=c):(h=pn(e,this.top,o)-o/2,f=pn(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Sc(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;Ei(s,u,0,d,c,a)}i&&kc(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ke(s.font),o=st(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||H(n)?(c+=o.bottom,de(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=ub(this,c,n,a);Ei(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:cb(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=z(e.grid&&e.grid.z,-1),i=z(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ws.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ke(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hr{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;fb(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,db(e,o,s),this.override&&le.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in le[i]&&(delete le[i][s],this.override&&delete Rn[s])}}function db(t,e,n){const s=Si(Object.create(null),[n?le.get(n):{},le.get(e),t.defaults]);le.set(e,s),t.defaultRoutes&&hb(e,t.defaultRoutes),t.descriptors&&le.describe(e,t.descriptors)}function hb(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");le.route(r,i,c,a)})}function fb(t){return"id"in t&&"defaults"in t}class mb{constructor(){this.controllers=new hr(Mn,"datasets",!0),this.elements=new hr(ht,"elements"),this.plugins=new hr(Object,"plugins"),this.scales=new hr(ws,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):U(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=bc(e);Z(s["before"+i],[],s),n[e](s),Z(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var yt=new mb;class pb{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(Z(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){V(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=z(s.options&&s.options.plugins,{}),r=gb(s);return i===!1&&!n?[]:yb(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function gb(t){const e={},n=[],s=Object.keys(yt.plugins.items);for(let r=0;r<s.length;r++)n.push(yt.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xb(t,e){return!e&&t===!1?null:t===!0?{}:t}function yb(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=xb(s[c],i);u!==null&&r.push({plugin:a,options:vb(t.config,{plugin:a,local:n[c]},u,o)})}return r}function vb(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vl(t,e){const n=le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function bb(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function wb(t,e){return t===e?"_index_":"_value_"}function Rd(t){if(t==="x"||t==="y"||t==="r")return t}function _b(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function bl(t,...e){if(Rd(t))return t;for(const n of e){const s=n.axis||_b(n.position)||t.length>1&&Rd(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Od(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function jb(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Od(t,"x",n[0])||Od(t,"y",n[0])}return{}}function Nb(t,e){const n=Rn[t.type]||{scales:{}},s=e.scales||{},i=vl(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!H(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=bl(o,a,jb(o,t),le.scales[a.type]),u=wb(c,i),d=n.scales||{};r[o]=si(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||vl(a,e),d=(Rn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=bb(h,c),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),si(r[p],[{axis:f},s[p],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];si(a,[le.scales[a.type],le.scale])}),r}function rp(t){const e=t.options||(t.options={});e.plugins=z(e.plugins,{}),e.scales=Nb(t,e)}function op(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Sb(t){return t=t||{},t.data=op(t.data),rp(t),t}const Id=new Map,ap=new Set;function fr(t,e){let n=Id.get(t);return n||(n=e(),Id.set(t,n),ap.add(n)),n}const Rs=(t,e,n)=>{const s=Fn(e,n);s!==void 0&&t.add(s)};class kb{constructor(e){this._config=Sb(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=op(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),rp(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return fr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return fr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return fr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>Rs(c,e,h))),d.forEach(h=>Rs(c,i,h)),d.forEach(h=>Rs(c,Rn[r]||{},h)),d.forEach(h=>Rs(c,le,h)),d.forEach(h=>Rs(c,xl,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),ap.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Rn[n]||{},le.datasets[n]||{},{type:n},le,xl]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ld(this._resolverCache,e,i);let c=o;if(Mb(o,n)){r.$shared=!1,s=un(s)?s():s;const u=this.createResolver(e,s,a);c=gs(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Ld(this._resolverCache,e,s);return H(n)?gs(r,n,void 0,i):r}}function Ld(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Mc(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const Cb=t=>H(t)&&Object.getOwnPropertyNames(t).some(e=>un(t[e]));function Mb(t,e){const{isScriptable:n,isIndexable:s}=Wm(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(un(a)||Cb(a))||o&&de(a))return!0}return!1}var Pb="4.5.1";const Eb=["top","bottom","left","right","chartArea"];function zd(t,e){return t==="top"||t==="bottom"||Eb.indexOf(t)===-1&&e==="x"}function Bd(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function $d(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Z(n&&n.onComplete,[t],e)}function Db(t){const e=t.chart,n=e.options.animation;Z(n&&n.onProgress,[t],e)}function lp(t){return Dc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ar={},Hd=t=>{const e=lp(t);return Object.values(Ar).filter(n=>n.canvas===e).pop()};function Tb(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function Ab(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var $t;let _s=($t=class{static register(...e){yt.add(...e),Wd()}static unregister(...e){yt.remove(...e),Wd()}constructor(e,n){const s=this.config=new kb(n),i=lp(e),r=Hd(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||qv(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Mx(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gx(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ar[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}St.listen(this,"complete",$d),St.listen(this,"progress",Db),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return V(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ld(this.canvas,this.ctx),this}stop(){return St.stop(this),this}resize(e,n){St.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,dd(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Z(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};U(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=bl(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),U(r,o=>{const a=o.options,c=a.id,u=bl(c,a),d=z(a.type,o.dtype);(a.position===void 0||zd(a.position,u)!==zd(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=yt.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),U(i,(o,a)=>{o||delete s[a]}),U(s,o=>{Ze.configure(this,o,o.options),Ze.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Bd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||vl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=yt.getController(a),{datasetElementType:u,dataElementType:d}=le.datasets[a];Object.assign(c,{dataElementType:yt.getElement(d),datasetElementType:u&&yt.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){U(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||U(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Bd("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){U(this.scales,e=>{Ze.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Zu(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;Tb(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Zu(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ze.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],U(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,un(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(St.has(this)?this.attached&&!St.running(this)&&St.start(this):(this.draw(),$d({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Jy(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Sc(n,i),e.controller.draw(),i&&kc(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Pi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=Ev.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ln(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);ki(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),St.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ld(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ar[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};U(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){U(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},U(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!oo(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=Fx(e),u=Ab(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Z(r.onHover,[e,a,this],this),c&&Z(r.onClick,[e,a,this],this));const d=!oo(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},R($t,"defaults",le),R($t,"instances",Ar),R($t,"overrides",Rn),R($t,"registry",yt),R($t,"version",Pb),R($t,"getChart",Hd),$t);function Wd(){return U(_s.instances,t=>t._plugins.invalidate())}function Fb(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,at(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,at(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*at(s-n));if(d==="round")t.arc(i,r,f,n-Y/2,s+Y/2,!0);else if(d==="bevel"){const p=2*f*f,x=-p*Math.cos(n+Y/2)+i,m=-p*Math.sin(n+Y/2)+r,v=p*Math.cos(s+Y/2)+i,g=p*Math.sin(s+Y/2)+r;t.lineTo(x,m),t.lineTo(v,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Rb(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+fe,s-fe),t.closePath(),t.clip()}function Ob(t){return Cc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Ib(t,e,n,s){const i=Ob(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return Se(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Se(i.innerStart,0,o),innerEnd:Se(i.innerEnd,0,o)}}function $n(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function fo(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let p=0;const x=i-c;if(s){const W=d>0?d-s:0,T=h>0?h-s:0,F=(W+T)/2,k=F!==0?x*F/(F+s):x;p=(x-k)/2}const m=Math.max(.001,x*h-n/Y)/h,v=(x-m)/2,g=c+v+p,y=i-v-p,{outerStart:b,outerEnd:w,innerStart:_,innerEnd:S}=Ib(e,f,h,y-g),j=h-b,N=h-w,P=g+b/j,E=y-w/N,O=f+_,L=f+S,ee=g+_/O,ge=y-S/L;if(t.beginPath(),r){const W=(P+E)/2;if(t.arc(o,a,h,P,W),t.arc(o,a,h,W,E),w>0){const C=$n(N,E,o,a);t.arc(C.x,C.y,w,E,y+fe)}const T=$n(L,y,o,a);if(t.lineTo(T.x,T.y),S>0){const C=$n(L,ge,o,a);t.arc(C.x,C.y,S,y+fe,ge+Math.PI)}const F=(y-S/f+(g+_/f))/2;if(t.arc(o,a,f,y-S/f,F,!0),t.arc(o,a,f,F,g+_/f,!0),_>0){const C=$n(O,ee,o,a);t.arc(C.x,C.y,_,ee+Math.PI,g-fe)}const k=$n(j,g,o,a);if(t.lineTo(k.x,k.y),b>0){const C=$n(j,P,o,a);t.arc(C.x,C.y,b,g-fe,P)}}else{t.moveTo(o,a);const W=Math.cos(P)*h+o,T=Math.sin(P)*h+a;t.lineTo(W,T);const F=Math.cos(E)*h+o,k=Math.sin(E)*h+a;t.lineTo(F,k)}t.closePath()}function Lb(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){fo(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%oe||oe))}return fo(t,e,n,s,c,i),t.fill(),c}function zb(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:p}=c,x=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let m=e.endAngle;if(r){fo(t,e,n,s,m,i);for(let v=0;v<r;++v)t.stroke();isNaN(a)||(m=o+(a%oe||oe))}x&&Rb(t,e,m),c.selfJoin&&m-o>=Y&&p===0&&d!=="miter"&&Fb(t,e,m),r||(fo(t,e,n,s,m,i),t.stroke())}class Us extends ht{constructor(n){super();R(this,"circumference");R(this,"endAngle");R(this,"fullCircles");R(this,"innerRadius");R(this,"outerRadius");R(this,"pixelMargin");R(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Rm(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,x=z(f,u-c),m=Mi(o,c,u)&&c!==u,v=x>=oe||m,g=Kt(a,d+p,h+p);return v&&g}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>oe?Math.floor(i/oe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(Y,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,Lb(n,this,d,o,a),zb(n,this,d,o,a),n.restore()}}R(Us,"id","arc"),R(Us,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),R(Us,"defaultRoutes",{backgroundColor:"backgroundColor"}),R(Us,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function cp(t,e,n=e){t.lineCap=z(n.borderCapStyle,e.borderCapStyle),t.setLineDash(z(n.borderDash,e.borderDash)),t.lineDashOffset=z(n.borderDashOffset,e.borderDashOffset),t.lineJoin=z(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=z(n.borderWidth,e.borderWidth),t.strokeStyle=z(n.borderColor,e.borderColor)}function Bb(t,e,n){t.lineTo(n.x,n.y)}function $b(t){return t.stepped?ay:t.tension||t.cubicInterpolationMode==="monotone"?ly:Bb}function up(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,c=Math.max(i,o),u=Math.min(r,a),d=i<o&&r<o||i>a&&r>a;return{count:s,start:c,loop:e.loop,ilen:u<c&&!d?s+u-c:u-c}}function Hb(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:c,ilen:u}=up(i,n,s),d=$b(r);let{move:h=!0,reverse:f}=s||{},p,x,m;for(p=0;p<=u;++p)x=i[(a+(f?u-p:p))%o],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):d(t,m,x,f,r.stepped),m=x);return c&&(x=i[(a+(f?u:0))%o],d(t,m,x,f,r.stepped)),!!c}function Wb(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=up(i,n,s),{move:c=!0,reverse:u}=s||{};let d=0,h=0,f,p,x,m,v,g;const y=w=>(o+(u?a-w:w))%r,b=()=>{m!==v&&(t.lineTo(d,v),t.lineTo(d,m),t.lineTo(d,g))};for(c&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[y(f)],p.skip)continue;const w=p.x,_=p.y,S=w|0;S===x?(_<m?m=_:_>v&&(v=_),d=(h*d+w)/++h):(b(),t.lineTo(w,_),x=S,h=0,m=v=_),g=_}b()}function wl(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Wb:Hb}function Vb(t){return t.stepped?By:t.tension||t.cubicInterpolationMode==="monotone"?$y:bn}function Ub(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),cp(t,e.options),t.stroke(i)}function Yb(t,e,n,s){const{segments:i,options:r}=e,o=wl(e);for(const a of i)cp(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const Gb=typeof Path2D=="function";function Xb(t,e,n,s){Gb&&!e.options.segment?Ub(t,e,n,s):Yb(t,e,n,s)}class Ys extends ht{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;Ty(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ky(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=Yy(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],c=Vb(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:h,end:f}=o[u],p=r[h],x=r[f];if(p===x){a.push(p);continue}const m=Math.abs((i-p[n])/(x[n]-p[n])),v=c(p,x,m,s.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,s){return wl(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=wl(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Xb(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}R(Ys,"id","line"),R(Ys,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),R(Ys,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),R(Ys,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Vd(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Fr extends ht{constructor(n){super();R(this,"parsed");R(this,"skip");R(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Vd(this,n,"x",s)}inYRange(n,s){return Vd(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Pi(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,yl(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}R(Fr,"id","point"),R(Fr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),R(Fr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function dp(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,c=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function qt(t,e,n,s){return t?0:Se(e,n,s)}function Kb(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Hm(s);return{t:qt(i.top,r.top,0,n),r:qt(i.right,r.right,0,e),b:qt(i.bottom,r.bottom,0,n),l:qt(i.left,r.left,0,e)}}function Qb(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=as(i),o=Math.min(e,n),a=t.borderSkipped,c=s||H(i);return{topLeft:qt(!c||a.top||a.left,r.topLeft,0,o),topRight:qt(!c||a.top||a.right,r.topRight,0,o),bottomLeft:qt(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:qt(!c||a.bottom||a.right,r.bottomRight,0,o)}}function qb(t){const e=dp(t),n=e.right-e.left,s=e.bottom-e.top,i=Kb(t,n/2,s/2),r=Qb(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ya(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&dp(t,s);return a&&(i||Kt(e,a.left,a.right))&&(r||Kt(n,a.top,a.bottom))}function Zb(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Jb(t,e){t.rect(e.x,e.y,e.w,e.h)}function va(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Rr extends ht{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=qb(this),a=Zb(o.radius)?co:Jb;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,va(o,n,r)),e.clip(),a(e,va(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,va(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return ya(this,e,n,s)}inXRange(e,n){return ya(this,e,null,n)}inYRange(e,n){return ya(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}R(Rr,"id","bar"),R(Rr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),R(Rr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ud=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},e1=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Yd extends ht{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Z(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=ke(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Ud(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((x,m)=>{const v=s+n/2+r.measureText(x.text).width;(m===0||u[u.length-1]+v+2*a>o)&&(h+=d,u[u.length-(m>0?0:1)]=0,p+=d,f++),c[m]={left:0,top:p,row:f,width:v,height:i},u[u.length-1]+=v+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,p=0,x=0,m=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:y,itemHeight:b}=t1(s,n,r,v,i);g>0&&p+b+2*a>d&&(h+=f+a,u.push({width:f,height:p}),x+=f+a,m++,f=p=0),c[g]={left:x,top:p,col:m,width:y,height:b},f=Math.max(f,y),p+=b+a}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=ls(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=je(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=je(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=je(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=je(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Sc(e,this),this._draw(),kc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=le.color,c=ls(e.rtl,this.left,this.width),u=ke(o.font),{padding:d}=o,h=u.size,f=h/2;let p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:x,boxHeight:m,itemHeight:v}=Ud(o,h),g=function(S,j,N){if(isNaN(x)||x<=0||isNaN(m)||m<0)return;i.save();const P=z(N.lineWidth,1);if(i.fillStyle=z(N.fillStyle,a),i.lineCap=z(N.lineCap,"butt"),i.lineDashOffset=z(N.lineDashOffset,0),i.lineJoin=z(N.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=z(N.strokeStyle,a),i.setLineDash(z(N.lineDash,[])),o.usePointStyle){const E={radius:m*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:P},O=c.xPlus(S,x/2),L=j+f;$m(i,E,O,L,o.pointStyleWidth&&x)}else{const E=j+Math.max((h-m)/2,0),O=c.leftForLtr(S,x),L=as(N.borderRadius);i.beginPath(),Object.values(L).some(ee=>ee!==0)?co(i,{x:O,y:E,w:x,h:m,radius:L}):i.rect(O,E,x,m),i.fill(),P!==0&&i.stroke()}i.restore()},y=function(S,j,N){Ei(i,N.text,S,j+v/2,u,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?p={x:je(r,this.left+d,this.right-s[0]),y:this.top+d+w,line:0}:p={x:this.left+d,y:je(r,this.top+w+d,this.bottom-n[0].height),line:0},Xm(this.ctx,e.textDirection);const _=v+d;this.legendItems.forEach((S,j)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const N=i.measureText(S.text).width,P=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),E=x+f+N;let O=p.x,L=p.y;c.setWidth(this.width),b?j>0&&O+E+d>this.right&&(L=p.y+=_,p.line++,O=p.x=je(r,this.left+d,this.right-s[p.line])):j>0&&L+_>this.bottom&&(O=p.x=O+n[p.line].width+d,p.line++,L=p.y=je(r,this.top+w+d,this.bottom-n[p.line].height));const ee=c.x(O);if(g(ee,L,S),O=Xx(P,O+x+f,b?O+E:this.right,e.rtl),y(c.x(O),L,S),b)p.x+=E+d;else if(typeof S.text!="string"){const ge=u.lineHeight;p.y+=hp(S,ge)+d}else p.y+=_}),Km(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ke(n.font),i=st(n.padding);if(!n.display)return;const r=ls(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=je(e.align,h,this.right-f);else{const x=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);d=u+je(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const p=je(a,h,h+f);o.textAlign=r.textAlign(_c(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Ei(o,n.text,p,d,s)}_computeTitleHeight(){const e=this.options.title,n=ke(e.font),s=st(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Kt(e,this.left,this.right)&&Kt(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Kt(e,i.left,i.left+i.width)&&Kt(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!i1(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=e1(i,s);i&&!r&&Z(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Z(n.onHover,[e,s,this],this)}else s&&Z(n.onClick,[e,s,this],this)}}function t1(t,e,n,s,i){const r=n1(s,t,e,n),o=s1(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function n1(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function s1(t,e,n){let s=t;return typeof e.text!="string"&&(s=hp(e,n)),s}function hp(t,e){const n=t.text?t.text.length:0;return e*n}function i1(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Fc={id:"legend",_element:Yd,start(t,e,n){const s=t.legend=new Yd({ctx:t.ctx,options:n,chart:t});Ze.configure(t,s,n),Ze.addBox(t,s)},stop(t){Ze.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ze.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=st(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fp extends ht{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=de(s.text)?s.text.length:1;this._padding=st(s.padding);const r=i*ke(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=je(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=je(a,i,n),c=Y*-.5):(d=r-e,h=je(a,n,i),c=Y*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ke(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);Ei(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:_c(n.align),textBaseline:"middle",translation:[o,a]})}}function r1(t,e){const n=new fp({ctx:t.ctx,options:e,chart:t});Ze.configure(t,n,e),Ze.addBox(t,n),t.titleBlock=n}var mp={id:"title",_element:fp,start(t,e,n){r1(t,n)},stop(t){const e=t.titleBlock;Ze.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ze.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gs={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=gl(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function gt(t,e){return e&&(de(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function kt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function o1(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Gd(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=ke(e.bodyFont),u=ke(e.titleFont),d=ke(e.footerFont),h=r.length,f=i.length,p=s.length,x=st(e.padding);let m=x.height,v=0,g=s.reduce((w,_)=>w+_.before.length+_.lines.length+_.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;m+=p*w+(g-p)*c.lineHeight+(g-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let y=0;const b=function(w){v=Math.max(v,n.measureText(w).width+y)};return n.save(),n.font=u.string,U(t.title,b),n.font=c.string,U(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,U(s,w=>{U(w.before,b),U(w.lines,b),U(w.after,b)}),y=0,n.font=d.string,U(t.footer,b),n.restore(),v+=x.width,{width:v,height:m}}function a1(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function l1(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function c1(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),l1(u,t,e,n)&&(u="center"),u}function Xd(t,e,n){const s=n.yAlign||e.yAlign||a1(t,n);return{xAlign:n.xAlign||e.xAlign||c1(t,e,n,s),yAlign:s}}function u1(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function d1(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Kd(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=as(o);let x=u1(e,a);const m=d1(e,c,u);return c==="center"?a==="left"?x+=u:a==="right"&&(x-=u):a==="left"?x-=Math.max(d,f)+i:a==="right"&&(x+=Math.max(h,p)+i),{x:Se(x,0,s.width-e.width),y:Se(m,0,s.height-e.height)}}function mr(t,e,n){const s=st(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Qd(t){return gt([],kt(t))}function h1(t,e,n){return Ln(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function qd(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const pp={beforeTitle:Nt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Nt,beforeBody:Nt,beforeLabel:Nt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return V(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Nt,afterBody:Nt,beforeFooter:Nt,footer:Nt,afterFooter:Nt};function Fe(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?pp[e].call(n,s):i}class _l extends ht{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new qm(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=h1(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Fe(s,"beforeTitle",this,e),r=Fe(s,"title",this,e),o=Fe(s,"afterTitle",this,e);let a=[];return a=gt(a,kt(i)),a=gt(a,kt(r)),a=gt(a,kt(o)),a}getBeforeBody(e,n){return Qd(Fe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return U(e,r=>{const o={before:[],lines:[],after:[]},a=qd(s,r);gt(o.before,kt(Fe(a,"beforeLabel",this,r))),gt(o.lines,Fe(a,"label",this,r)),gt(o.after,kt(Fe(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Qd(Fe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Fe(s,"beforeFooter",this,e),r=Fe(s,"footer",this,e),o=Fe(s,"afterFooter",this,e);let a=[];return a=gt(a,kt(i)),a=gt(a,kt(r)),a=gt(a,kt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(o1(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),U(a,d=>{const h=qd(e.callbacks,d);i.push(Fe(h,"labelColor",this,d)),r.push(Fe(h,"labelPointStyle",this,d)),o.push(Fe(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Gs[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Gd(this,s),u=Object.assign({},a,c),d=Xd(this.chart,s,u),h=Kd(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=as(a),{x:f,y:p}=e,{width:x,height:m}=n;let v,g,y,b,w,_;return r==="center"?(w=p+m/2,i==="left"?(v=f,g=v-o,b=w+o,_=w-o):(v=f+x,g=v+o,b=w-o,_=w+o),y=v):(i==="left"?g=f+Math.max(c,d)+o:i==="right"?g=f+x-Math.max(u,h)-o:g=this.caretX,r==="top"?(b=p,w=b-o,v=g-o,y=g+o):(b=p+m,w=b+o,v=g+o,y=g-o),_=b),{x1:v,x2:g,x3:y,y1:b,y2:w,y3:_}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=ls(s.rtl,this.x,this.width);for(e.x=mr(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=ke(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=ke(r.bodyFont),h=mr(this,"left",r),f=i.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+p;if(r.usePointStyle){const m={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(f,u)+u/2,g=x+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,yl(e,m,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,yl(e,m,v,g)}else{e.lineWidth=H(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,u),v=i.leftForLtr(i.xPlus(f,1),u-2),g=as(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,co(e,{x:m,y:x,w:u,h:c,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),co(e,{x:v,y:x+1,w:u-2,h:c-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,x,u,c),e.strokeRect(m,x,u,c),e.fillStyle=o.backgroundColor,e.fillRect(v,x+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=ke(s.bodyFont);let f=h.lineHeight,p=0;const x=ls(s.rtl,this.x,this.width),m=function(N){n.fillText(N,x.x(e.x+p),e.y+f/2),e.y+=f+r},v=x.textAlign(o);let g,y,b,w,_,S,j;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=mr(this,v,s),n.fillStyle=s.bodyColor,U(this.beforeBody,m),p=a&&v!=="right"?o==="center"?u/2+d:u+2+d:0,w=0,S=i.length;w<S;++w){for(g=i[w],y=this.labelTextColors[w],n.fillStyle=y,U(g.before,m),b=g.lines,a&&b.length&&(this._drawColorBox(n,e,w,x,s),f=Math.max(h.lineHeight,c)),_=0,j=b.length;_<j;++_)m(b[_]),f=h.lineHeight;U(g.after,m)}p=0,f=h.lineHeight,U(this.afterBody,m),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=ls(s.rtl,this.x,this.width);for(e.x=mr(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=ke(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=as(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-x),n.quadraticCurveTo(a+u,c+d,a+u-x,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,c+d),n.quadraticCurveTo(a,c+d,a,c+d-p),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Gs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Gd(this,e),c=Object.assign({},o,this._size),u=Xd(n,e,c),d=Kd(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=st(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Xm(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Km(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!oo(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!oo(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Gs[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}R(_l,"positioners",Gs);var Rc={id:"tooltip",_element:_l,positioners:Gs,afterInit(t,e,n){n&&(t.tooltip=new _l({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const f1=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function m1(t,e,n,s){const i=t.indexOf(e);if(i===-1)return f1(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const p1=(t,e)=>t===null?null:Se(Math.round(t),0,e);function Zd(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class mo extends ws{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(V(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:m1(s,e,z(n,e),this._addedLabels),p1(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Zd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}R(mo,"id","category"),R(mo,"defaults",{ticks:{callback:Zd}});function g1(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=r||1,x=d-1,{min:m,max:v}=e,g=!V(o),y=!V(a),b=!V(u),w=(v-m)/(h+1);let _=ed((v-m)/x/p)*p,S,j,N,P;if(_<1e-14&&!g&&!y)return[{value:m},{value:v}];P=Math.ceil(v/_)-Math.floor(m/_),P>x&&(_=ed(P*_/x/p)*p),V(c)||(S=Math.pow(10,c),_=Math.ceil(_*S)/S),i==="ticks"?(j=Math.floor(m/_)*_,N=Math.ceil(v/_)*_):(j=m,N=v),g&&y&&r&&zx((a-o)/r,_/1e3)?(P=Math.round(Math.min((a-o)/_,d)),_=(a-o)/P,j=o,N=a):b?(j=g?o:j,N=y?a:N,P=u-1,_=(N-j)/P):(P=(N-j)/_,ii(P,Math.round(P),_/1e3)?P=Math.round(P):P=Math.ceil(P));const E=Math.max(td(_),td(j));S=Math.pow(10,V(c)?E:c),j=Math.round(j*S)/S,N=Math.round(N*S)/S;let O=0;for(g&&(f&&j!==o?(n.push({value:o}),j<o&&O++,ii(Math.round((j+O*_)*S)/S,o,Jd(o,w,t))&&O++):j<o&&O++);O<P;++O){const L=Math.round((j+O*_)*S)/S;if(y&&L>a)break;n.push({value:L})}return y&&f&&N!==a?n.length&&ii(n[n.length-1].value,a,Jd(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||N===a)&&n.push({value:N}),n}function Jd(t,e,{horizontal:n,minRotation:s}){const i=Tt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class x1 extends ws{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return V(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=_t(i),u=_t(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=g1(i,r);return e.bounds==="ticks"&&Bx(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Nc(e,this.chart.options.locale,this.options.ticks.format)}}class po extends x1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=nt(e)?e:0,this.max=nt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Tt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}R(po,"id","linear"),R(po,"defaults",{ticks:{callback:Bm.formatters.numeric}});const Ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oe=Object.keys(Ro);function eh(t,e){return t-e}function th(t,e){if(V(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),nt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ci(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function nh(t,e,n,s){const i=Oe.length;for(let r=Oe.indexOf(t);r<i-1;++r){const o=Ro[Oe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Oe[r]}return Oe[i-1]}function y1(t,e,n,s,i){for(let r=Oe.length-1;r>=Oe.indexOf(n);r--){const o=Oe[r];if(Ro[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Oe[n?Oe.indexOf(n):0]}function v1(t){for(let e=Oe.indexOf(t)+1,n=Oe.length;e<n;++e)if(Ro[Oe[e]].common)return Oe[e]}function sh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=wc(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function b1(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function ih(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:b1(t,s,i,n)}class go extends ws{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Sv._date(e.adapters.date);i.init(n),si(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:th(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=nt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=nt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Ux(i,r,o);return this._unit=n.unit||(s.autoSkip?nh(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):y1(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:v1(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ih(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Se(n,0,o),s=Se(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||nh(r.minUnit,n,s,this._getLabelCapacity(n)),a=z(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=Ci(c)||c===!0,d={};let h=n,f,p;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,a,o),p++)sh(d,f,x);return(f===s||i.bounds==="ticks"||p===1)&&sh(d,f,x),Object.keys(d).sort(eh).map(m=>+m)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Z(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],p=u&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Tt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,ih(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(th(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Im(e.sort(eh))}}R(go,"id","time"),R(go,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pr(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Nn(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Nn(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class rh extends go{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=pr(n,this.min),this._tableRange=pr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(pr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return pr(this._table,s*this._tableRange+this._minPos,!0)}}R(rh,"id","timeseries"),R(rh,"defaults",go.defaults);const gp="label";function oh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function w1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function xp(t,e){t.labels=e}function yp(t,e,n=gp){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function _1(t,e=gp){const n={labels:[],datasets:[]};return xp(n,t.labels),yp(n,t.datasets,e),n}function j1(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,p=D.useRef(null),x=D.useRef(null),m=()=>{p.current&&(x.current=new _s(p.current,{type:o,data:_1(a,r),options:c&&{...c},plugins:u}),oh(e,x.current))},v=()=>{oh(e,null),x.current&&(x.current.destroy(),x.current=null)};return D.useEffect(()=>{!i&&x.current&&c&&w1(x.current,c)},[i,c]),D.useEffect(()=>{!i&&x.current&&xp(x.current.config.data,a.labels)},[i,a.labels]),D.useEffect(()=>{!i&&x.current&&a.datasets&&yp(x.current.config.data,a.datasets,r)},[i,a.datasets]),D.useEffect(()=>{x.current&&(i?(v(),setTimeout(m)):x.current.update(h))},[i,c,a.labels,a.datasets,h]),D.useEffect(()=>{x.current&&(v(),setTimeout(m))},[o]),D.useEffect(()=>(m(),()=>v()),[]),l.jsx("canvas",{ref:p,role:"img",height:n,width:s,...f,children:d})}const N1=D.forwardRef(j1);function Oc(t,e){return _s.register(e),D.forwardRef((n,s)=>l.jsx(N1,{...n,ref:s,type:t}))}const S1=Oc("line",Dr),k1=Oc("bar",Er),C1=Oc("doughnut",Ws);_s.register(mo,po,Rr,mp,Rc,Fc);function M1({data:t,options:e={},height:n=300}){const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:i=>`${i.dataset.label}: ${i.parsed.y.toFixed(2)}`}}},scales:{y:{beginAtZero:!0}}};return l.jsx("div",{style:{height:`${n}px`,position:"relative"},children:l.jsx(k1,{data:t,options:{...s,...e}})})}_s.register(mo,po,Fr,Ys,mp,Rc,Fc);function vp({data:t,options:e={},height:n=300}){const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:i=>{var r;return`${i.dataset.label}: ${((r=i.parsed.y)==null?void 0:r.toFixed(2))||"N/A"}`}}}},scales:{y:{beginAtZero:!0}}};return l.jsx("div",{style:{height:`${n}px`,position:"relative"},children:l.jsx(S1,{data:t,options:{...s,...e}})})}_s.register(Us,Rc,Fc);function P1({data:t,options:e={},height:n=300}){const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right",labels:{boxWidth:15,padding:10,font:{size:11}}},tooltip:{callbacks:{label:i=>{const r=i.label||"",o=i.parsed||0,a=i.dataset.data.reduce((u,d)=>u+d,0),c=(o/a*100).toFixed(1);return`${r}: ${o.toFixed(2)} (${c}%)`}}}}};return l.jsx("div",{style:{height:`${n}px`,position:"relative"},children:l.jsx(C1,{data:t,options:{...s,...e}})})}function ah(){const{categories:t,displayCurrency:e,debts:n,savingsGoals:s,investments:i}=be(),{nautaIndex:r,netWorth:o,savingsRate:a,emergencyFundMonths:c}=Mm(),u=D.useMemo(()=>{const m=t.reduce((y,b)=>y+b.budget,0),v=t.reduce((y,b)=>y+b.spent,0),g=m-v;return{budgeted:m,spent:v,available:g}},[t]),d=D.useMemo(()=>{const m=new Date,v=m.getDate(),g=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),y=u.spent/v*g;return{currentDay:v,daysInMonth:g,projectedSpent:y,remainingDays:g-v}},[u.spent]),h=D.useMemo(()=>({labels:["Presupuestado","Gastado","Disponible"],datasets:[{label:"Monto",data:[u.budgeted,u.spent,u.available],backgroundColor:["rgba(59, 130, 246, 0.6)","rgba(239, 68, 68, 0.6)","rgba(34, 197, 94, 0.6)"],borderColor:["rgb(59, 130, 246)","rgb(239, 68, 68)","rgb(34, 197, 94)"],borderWidth:2}]}),[u]),f=D.useMemo(()=>({labels:["Inicio Mes","Hoy","Proyeccin Fin Mes"],datasets:[{label:"Gasto Real",data:[0,u.spent,null],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:3,tension:.1,spanGaps:!1},{label:"Proyeccin",data:[0,u.spent,d.projectedSpent],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.05)",borderWidth:2,borderDash:[5,5],tension:.1}]}),[u.spent,d.projectedSpent]),p=D.useMemo(()=>({labels:t.map(m=>m.name),datasets:[{label:"Gastado",data:t.map(m=>m.spent),backgroundColor:t.map((m,v)=>`hsla(${v*360/t.length}, 70%, 60%, 0.8)`),borderColor:t.map((m,v)=>`hsla(${v*360/t.length}, 70%, 50%, 1)`),borderWidth:2}]}),[t]),x={green:{bg:"from-green-500 to-green-600",light:"bg-green-50",border:"border-green-500",text:"text-green-600"},blue:{bg:"from-blue-500 to-blue-600",light:"bg-blue-50",border:"border-blue-500",text:"text-blue-600"},yellow:{bg:"from-yellow-500 to-yellow-600",light:"bg-yellow-50",border:"border-yellow-500",text:"text-yellow-600"},red:{bg:"from-red-500 to-red-600",light:"bg-red-50",border:"border-red-500",text:"text-red-600"}};return x[r.interpretation.color]||x.blue,l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl p-8 text-white shadow-2xl",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Dashboard Financiero"}),l.jsx("p",{className:"text-purple-100 text-lg",children:"Visin completa de tus finanzas en tiempo real"})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-lg rounded-xl p-6 min-w-[280px]",children:[l.jsx("p",{className:"text-sm text-purple-100 mb-2",children:"ndice de Tranquilidad"}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-5xl font-bold",children:r.score}),l.jsx("p",{className:"text-sm opacity-90",children:"de 100 puntos"})]}),l.jsx("span",{className:"text-5xl",children:r.interpretation.icon})]}),l.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-2.5 mb-2",children:l.jsx("div",{className:"h-2.5 rounded-full bg-white transition-all duration-1000",style:{width:`${r.score}%`}})}),l.jsx("p",{className:"text-sm font-semibold",children:r.interpretation.level})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(gr,{title:"Presupuestado",value:u.budgeted.toFixed(0),currency:e,icon:"fa-wallet",color:"blue"}),l.jsx(gr,{title:"Gastado",value:u.spent.toFixed(0),currency:e,icon:"fa-credit-card",color:"red",subtitle:`${(u.spent/u.budgeted*100).toFixed(1)}% usado`}),l.jsx(gr,{title:"Disponible",value:u.available.toFixed(0),currency:e,icon:"fa-piggy-bank",color:"green",subtitle:`${(u.available/u.budgeted*100).toFixed(1)}% libre`}),l.jsx(gr,{title:"Patrimonio Neto",value:o.toFixed(0),currency:e,icon:"fa-chart-line",color:o>=0?"green":"red",subtitle:"Activos - Pasivos"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(xr,{label:"Tasa Ahorro",value:`${a.toFixed(1)}%`,icon:"fa-percentage",status:a>=20?"good":a>=10?"warning":"danger"}),l.jsx(xr,{label:"Fondo Emergencia",value:`${c.toFixed(1)}m`,icon:"fa-life-ring",status:c>=6?"good":c>=3?"warning":"danger"}),l.jsx(xr,{label:"Deudas Activas",value:n.length,icon:"fa-credit-card",status:n.length===0?"good":n.length<=2?"warning":"danger"}),l.jsx(xr,{label:"Objetivos Ahorro",value:s.length,icon:"fa-bullseye",status:s.length>0?"good":"warning"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-bar mr-2 text-indigo-600"}),"Presupuesto vs Gastado"]}),l.jsx(M1,{data:h,height:300})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-line mr-2 text-red-600"}),"Proyeccin Fin de Mes"]}),l.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("i",{className:"fas fa-calendar-day mr-1"}),"Da ",d.currentDay," de ",d.daysInMonth,l.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:[d.remainingDays," das restantes"]})]}),l.jsxs("p",{className:"text-sm font-semibold text-red-600 mt-2",children:[l.jsx("i",{className:"fas fa-arrow-trend-up mr-1"}),"Proyeccin: ",d.projectedSpent.toFixed(2)," ",e,d.projectedSpent>u.budgeted&&l.jsx("span",{className:"ml-2 text-xs bg-red-100 px-2 py-1 rounded",children:" Sobre presupuesto"})]})]}),l.jsx(vp,{data:f,height:260})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-pie mr-2 text-purple-600"}),"Distribucin de Gastos por Categora"]}),l.jsx(P1,{data:p,height:350})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(ba,{title:"Deudas",icon:"fa-credit-card",iconColor:"text-red-600",iconBg:"bg-red-100",items:n.slice(0,3),emptyMessage:"Sin deudas activas",renderItem:m=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-700",children:m.name}),l.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[m.currentBalance.toFixed(0)," ",m.currency]})]})}),l.jsx(ba,{title:"Objetivos de Ahorro",icon:"fa-bullseye",iconColor:"text-green-600",iconBg:"bg-green-100",items:s.slice(0,3),emptyMessage:"Sin objetivos creados",renderItem:m=>{const v=m.currentAmount/m.targetAmount*100;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-sm text-gray-700",children:m.name}),l.jsxs("span",{className:"text-xs font-semibold text-green-600",children:[v.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"h-1.5 rounded-full bg-green-500",style:{width:`${Math.min(v,100)}%`}})})]})}}),l.jsx(ba,{title:"Inversiones",icon:"fa-chart-line",iconColor:"text-purple-600",iconBg:"bg-purple-100",items:i.slice(0,3),emptyMessage:"Sin inversiones registradas",renderItem:m=>{const v=(m.currentPrice-m.purchasePrice)/m.purchasePrice*100;return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-700",children:m.symbol}),l.jsxs("span",{className:`text-sm font-semibold ${v>=0?"text-green-600":"text-red-600"}`,children:[v>=0?"+":"",v.toFixed(1),"%"]})]})}})]})]})}function gr({title:t,value:e,currency:n,icon:s,color:i,subtitle:r}){const o={blue:{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-500"},red:{bg:"bg-red-100",text:"text-red-600",border:"border-red-500"},green:{bg:"bg-green-100",text:"text-green-600",border:"border-green-500"},purple:{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-500"},orange:{bg:"bg-orange-100",text:"text-orange-600",border:"border-orange-500"}},a=o[i]||o.blue;return l.jsx("div",{className:`bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all border-l-4 ${a.border}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:t}),l.jsx("p",{className:`text-3xl font-bold ${a.text}`,children:e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n}),r&&l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r})]}),l.jsx("div",{className:`${a.bg} p-4 rounded-full`,children:l.jsx("i",{className:`fas ${s} text-2xl ${a.text}`})})]})})}function xr({label:t,value:e,icon:n,status:s}){const r={good:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:"text-green-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-600"},danger:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:"text-red-600"}}[s];return l.jsxs("div",{className:`${r.bg} border-2 ${r.border} rounded-lg p-4 text-center hover:shadow-md transition-shadow`,children:[l.jsx("i",{className:`fas ${n} text-2xl ${r.icon} mb-2`}),l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:t}),l.jsx("p",{className:`text-2xl font-bold ${r.text}`,children:e})]})}function ba({title:t,icon:e,iconColor:n,iconBg:s,items:i,emptyMessage:r,renderItem:o}){return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:`${s} p-3 rounded-lg mr-3`,children:l.jsx("i",{className:`fas ${e} ${n} text-xl`})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:t})]}),i.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:r}):l.jsxs("div",{className:"space-y-3",children:[i.map((a,c)=>l.jsx("div",{children:o(a)},a.id||c)),i.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 text-center pt-2",children:["+",i.length-3," ms"]})]})]})}function E1({onConfigureIncome:t}){const{categories:e,ynabConfig:n,displayCurrency:s}=be(),i=D.useMemo(()=>e.reduce((c,u)=>c+u.budget,0),[e]),r=D.useMemo(()=>n.monthlyIncome-i,[n.monthlyIncome,i]),o=r===0,a=r<0;return!n.monthlyIncome||n.monthlyIncome===0?l.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-xl p-6 shadow-lg mb-6",children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-600 text-2xl mr-3"}),l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Configura tu Ingreso Mensual!"})]}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Para usar el mtodo YNAB y saber cunto dinero te queda por asignar, primero debes configurar tu ingreso mensual."})]}),l.jsxs("button",{onClick:t,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-md",children:[l.jsx("i",{className:"fas fa-cog mr-2"}),"Configurar Ingreso"]})]})}):l.jsxs("div",{className:`rounded-xl p-6 shadow-lg mb-6 border-2 transition-all ${a?"bg-gradient-to-r from-red-50 to-pink-50 border-red-300":o?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300":"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300"}`,children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-[250px]",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("i",{className:`fas fa-wallet text-2xl mr-3 ${a?"text-red-600":o?"text-blue-600":"text-green-600"}`}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Dinero Sin Asignar (YNAB)"})]}),l.jsx("div",{className:"mb-3",children:l.jsxs("p",{className:`text-4xl font-bold ${a?"text-red-600":o?"text-blue-600":"text-green-600"}`,children:[r>=0?"+":"",r.toFixed(2)," ",s]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Ingreso Mensual:"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[n.monthlyIncome.toFixed(2)," ",s]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Total Presupuestado:"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[i.toFixed(2)," ",s]})]})]}),l.jsx("div",{className:"mt-3",children:a?l.jsxs("p",{className:"text-sm text-red-700 font-medium",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),"Atencin! Has presupuestado ms de lo que ganas. Ajusta tus categoras."]}):o?l.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:[l.jsx("i",{className:"fas fa-check-circle mr-1"}),"Perfecto! Has asignado todo tu ingreso a categoras."]}):l.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),"Tienes dinero disponible para asignar a ms categoras."]})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:t,className:`px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-md ${a?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[l.jsx("i",{className:"fas fa-cog mr-2"}),"Ajustar Ingreso"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Presupuestado"}),l.jsxs("p",{className:`text-lg font-bold ${a?"text-red-600":o?"text-blue-600":"text-green-600"}`,children:[n.monthlyIncome>0?(i/n.monthlyIncome*100).toFixed(1):0,"%"]})]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${a?"bg-red-500":o?"bg-blue-500":"bg-green-500"}`,style:{width:`${Math.min(i/n.monthlyIncome*100,100)}%`}})})})]})}function Ic({isOpen:t,onClose:e,title:n,children:s,size:i="md"}){if(!t)return null;const r={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-in",children:l.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl w-full ${r[i]} transform transition-all`,onClick:o=>o.stopPropagation(),children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 rounded-t-2xl",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:n}),l.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 text-3xl font-light leading-none transition-colors","aria-label":"Cerrar",children:""})]})}),l.jsx("div",{className:"p-6",children:s})]})})}function D1({isOpen:t,onClose:e}){const{ynabConfig:n,setYnabConfig:s,displayCurrency:i}=be(),[r,o]=D.useState(n.monthlyIncome||""),[a,c]=D.useState(""),u=h=>{h.preventDefault();const f=parseFloat(r);if(isNaN(f)){c("Por favor ingresa un nmero vlido");return}if(f<0){c("El ingreso no puede ser negativo");return}s({...n,monthlyIncome:f}),e()},d=h=>{o(h.target.value),c("")};return l.jsx(Ic,{isOpen:t,onClose:e,title:"Configurar Ingreso Mensual",size:"md",children:l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("i",{className:"fas fa-info-circle mr-2"}),"Tu ingreso mensual se usa para calcular cunto dinero te queda por asignar a categoras (mtodo YNAB)."]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"monthlyIncome",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingreso Mensual"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"monthlyIncome",type:"number",step:"0.01",value:r,onChange:d,placeholder:"Ej: 3500",className:`w-full px-4 py-3 border rounded-lg text-lg focus:outline-none focus:ring-2 transition-all ${a?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0,autoFocus:!0}),l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium",children:i})]}),a&&l.jsxs("p",{className:"mt-2 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),a]})]}),r&&!isNaN(parseFloat(r))&&parseFloat(r)>0&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-green-800 font-medium mb-1",children:"Vista previa:"}),l.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[parseFloat(r).toFixed(2)," ",i,l.jsx("span",{className:"text-sm font-normal text-green-600 ml-2",children:"por mes"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[l.jsx("i",{className:"fas fa-save mr-2"}),"Guardar"]})]})]})})}function T1(){const{categories:t,setCategories:e,displayCurrency:n}=be(),[s,i]=D.useState(!1),r=D.useMemo(()=>{const u={};return t.forEach(d=>{u[d.group]||(u[d.group]=[]),u[d.group].push(d)}),u},[t]),o=(u,d)=>d===0?0:Math.min(u/d*100,100),a=(u,d)=>{const h=o(u,d);return h>=100?"bg-red-500":h>=80?"bg-yellow-500":"bg-green-500"},c=(u,d)=>{e(t.map(h=>h.id===u?{...h,budget:d}:h))};return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:[l.jsx("i",{className:"fas fa-calculator mr-3 text-blue-600"}),"Gestin de Presupuesto"]})}),l.jsx(E1,{onConfigureIncome:()=>i(!0)}),Object.entries(r).map(([u,d])=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4",children:l.jsx("h3",{className:"text-xl font-bold text-white",children:u})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(h=>{const f=o(h.spent,h.budget),p=h.budget-h.spent;return l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:h.name}),l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${f>=100?"bg-red-100 text-red-800":f>=80?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[f.toFixed(0),"%"]})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Presupuesto:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"number",step:"0.01",value:h.budget,onChange:x=>c(h.id,parseFloat(x.target.value)||0),className:"w-24 text-right font-medium px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-500 text-xs",children:h.currency})]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Gastado:"}),l.jsxs("span",{className:"font-medium text-red-600",children:[h.spent.toFixed(2)," ",h.currency]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Disponible:"}),l.jsxs("span",{className:`font-medium ${p>=0?"text-green-600":"text-red-600"}`,children:[p.toFixed(2)," ",h.currency]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${a(h.spent,h.budget)}`,style:{width:`${Math.min(f,100)}%`}})})]},h.id)})})})]},u)),l.jsx(D1,{isOpen:s,onClose:()=>i(!1)})]})}function lh({isOpen:t,onClose:e,transaction:n=null}){var p,x;const{addTransaction:s,updateTransaction:i,categories:r}=be(),[o,a]=D.useState({date:((p=n==null?void 0:n.date)==null?void 0:p.slice(0,10))||new Date().toISOString().slice(0,10),description:(n==null?void 0:n.description)||"",comment:(n==null?void 0:n.comment)||"",amount:(n==null?void 0:n.amount)||"",currency:(n==null?void 0:n.currency)||"EUR",categoryId:(n==null?void 0:n.categoryId)||((x=r[0])==null?void 0:x.id)||"",paymentMethod:(n==null?void 0:n.paymentMethod)||"Tarjeta"}),[c,u]=D.useState({}),d=()=>{const m={};o.description.trim()||(m.description="La descripcin es obligatoria");const v=parseFloat(o.amount);return(isNaN(v)||v<=0)&&(m.amount="El monto debe ser mayor a 0"),new Date(o.date)>new Date&&(m.date="La fecha no puede ser futura"),o.categoryId||(m.categoryId="Debes seleccionar una categora"),u(m),Object.keys(m).length===0},h=m=>{if(m.preventDefault(),!d())return;const v={...o,amount:parseFloat(o.amount),date:new Date(o.date).toISOString()};n?i(n.id,v):s(v),e()},f=(m,v)=>{a({...o,[m]:v}),c[m]&&u({...c,[m]:null})};return l.jsx(Ic,{isOpen:t,onClose:e,title:n?"Editar Transaccin":"Nueva Transaccin",size:"lg",children:l.jsxs("form",{onSubmit:h,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-calendar mr-2 text-blue-600"}),"Fecha del gasto *"]}),l.jsx("input",{id:"date",type:"date",value:o.date,onChange:m=>f("date",m.target.value),max:new Date().toISOString().slice(0,10),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.date?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.date&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.date]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-tag mr-2 text-blue-600"}),"Descripcin *"]}),l.jsx("input",{id:"description",type:"text",value:o.description,onChange:m=>f("description",m.target.value),placeholder:"Ej: Compra supermercado Da",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.description?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,maxLength:100,required:!0}),c.description&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.description]}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[o.description.length,"/100 caracteres"]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-comment mr-2 text-blue-600"}),"Comentario (opcional)"]}),l.jsx("textarea",{id:"comment",value:o.comment,onChange:m=>f("comment",m.target.value),placeholder:"Notas adicionales sobre este gasto...",rows:3,maxLength:200,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[o.comment.length,"/200 caracteres"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-dollar-sign mr-2 text-blue-600"}),"Monto *"]}),l.jsx("input",{id:"amount",type:"number",step:"0.01",value:o.amount,onChange:m=>f("amount",m.target.value),placeholder:"0.00",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.amount?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.amount&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.amount]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-coins mr-2 text-blue-600"}),"Moneda"]}),l.jsxs("select",{id:"currency",value:o.currency,onChange:m=>f("currency",m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"EUR",children:"EUR "}),l.jsx("option",{value:"CLP",children:"CLP $"}),l.jsx("option",{value:"USD",children:"USD $"}),l.jsx("option",{value:"UF",children:"UF"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-folder mr-2 text-blue-600"}),"Categora *"]}),l.jsxs("select",{id:"category",value:o.categoryId,onChange:m=>f("categoryId",m.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.categoryId?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0,children:[l.jsx("option",{value:"",children:"Selecciona una categora"}),r.map(m=>l.jsxs("option",{value:m.id,children:[m.group," - ",m.name]},m.id))]}),c.categoryId&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.categoryId]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-credit-card mr-2 text-blue-600"}),"Mtodo de Pago"]}),l.jsxs("select",{id:"paymentMethod",value:o.paymentMethod,onChange:m=>f("paymentMethod",m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"Efectivo",children:" Efectivo"}),l.jsx("option",{value:"Tarjeta",children:" Tarjeta"}),l.jsx("option",{value:"Transferencia",children:" Transferencia"})]})]}),o.description&&o.amount&&!isNaN(parseFloat(o.amount))&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Vista previa:"}),l.jsx("p",{className:"text-lg font-bold text-blue-900",children:o.description}),l.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:["-",parseFloat(o.amount).toFixed(2)," ",o.currency]}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:new Date(o.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[l.jsx("i",{className:`fas ${n?"fa-save":"fa-plus"} mr-2`}),n?"Actualizar":"Guardar"]})]})]})})}function A1({filters:t,setFilters:e,availableMonths:n,resultCount:s}){const i=()=>{e({search:"",month:""})},r=t.search||t.month;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[l.jsx("i",{className:"fas fa-filter mr-2 text-blue-600"}),"Filtros"]}),r&&l.jsxs("button",{onClick:i,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:[l.jsx("i",{className:"fas fa-times-circle mr-1"}),"Limpiar filtros"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-search mr-2 text-gray-500"}),"Buscar por descripcin o comentario"]}),l.jsx("input",{id:"search",type:"text",value:t.search,onChange:o=>e({...t,search:o.target.value}),placeholder:"Escribe para buscar...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),t.search&&l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),'Mostrando resultados para "',t.search,'"']})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"monthFilter",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-calendar-alt mr-2 text-gray-500"}),"Filtrar por mes"]}),l.jsxs("select",{id:"monthFilter",value:t.month,onChange:o=>e({...t,month:o.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:[l.jsx("option",{value:"",children:"Todos los meses"}),n.map(o=>{const[a,c]=o.split("-"),d=new Date(a,parseInt(c)-1).toLocaleDateString("es-ES",{month:"long",year:"numeric"});return l.jsx("option",{value:o,children:d.charAt(0).toUpperCase()+d.slice(1)},o)})]}),t.month&&l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),"Filtrando por mes seleccionado"]})]})]}),r&&l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("i",{className:"fas fa-check-circle text-green-600 mr-2"}),"Se encontraron ",l.jsx("span",{className:"font-bold text-gray-800",children:s})," transacciones"]})})]})}function F1(){const{transactions:t,categories:e,deleteTransaction:n}=be(),[s,i]=D.useState(!1),[r,o]=D.useState(null),[a,c]=D.useState({search:"",month:""}),u=D.useMemo(()=>t.filter(x=>{var g,y;const m=!a.search||((g=x.description)==null?void 0:g.toLowerCase().includes(a.search.toLowerCase()))||((y=x.comment)==null?void 0:y.toLowerCase().includes(a.search.toLowerCase())),v=!a.month||new Date(x.date).toISOString().slice(0,7)===a.month;return m&&v}),[t,a]),d=D.useMemo(()=>{const x=new Set;return t.forEach(m=>{x.add(new Date(m.date).toISOString().slice(0,7))}),Array.from(x).sort().reverse()},[t]),h=x=>{window.confirm("Ests seguro de eliminar esta transaccin?")&&n(x)},f=x=>e.find(m=>m.id===x),p=x=>({Efectivo:"",Tarjeta:"",Transferencia:""})[x]||"";return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:[l.jsx("i",{className:"fas fa-receipt mr-3 text-blue-600"}),"Transacciones"]}),l.jsxs("p",{className:"text-gray-600 mt-1",children:["Mostrando ",u.length," de ",t.length," transacciones"]})]}),l.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-md",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Nueva Transaccin"]})]}),l.jsx(A1,{filters:a,setFilters:c,availableMonths:d,resultCount:u.length}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[u.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx("i",{className:"fas fa-inbox text-6xl text-gray-300 mb-4"}),l.jsx("p",{className:"text-xl text-gray-500 mb-2",children:a.search||a.month?"No se encontraron transacciones con estos filtros":"No hay transacciones registradas"}),(a.search||a.month)&&l.jsx("button",{onClick:()=>c({search:"",month:""}),className:"text-blue-600 hover:text-blue-700 font-medium mt-2",children:"Limpiar filtros"})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:u.slice(0,50).map(x=>{const m=f(x.categoryId),v=new Date(x.date);return l.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors group",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full flex-shrink-0",children:l.jsx("i",{className:"fas fa-shopping-bag text-blue-600 text-xl"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-semibold text-gray-800 text-lg mb-1",children:x.description}),x.comment&&l.jsxs("p",{className:"text-sm text-gray-600 mb-2 italic",children:[l.jsx("i",{className:"fas fa-comment text-gray-400 mr-1"}),x.comment]}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-folder text-gray-400 mr-1"}),(m==null?void 0:m.name)||"Sin categora"]}),l.jsxs("span",{children:[p(x.paymentMethod)," ",x.paymentMethod]}),l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-user text-gray-400 mr-1"}),x.user]}),l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-calendar text-gray-400 mr-1"}),v.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short",year:"numeric"})]})]})]})]}),l.jsxs("div",{className:"flex items-start space-x-4 ml-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",x.amount.toFixed(2)]}),l.jsx("p",{className:"text-sm text-gray-500",children:x.currency})]}),l.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>o(x),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar",children:l.jsx("i",{className:"fas fa-edit"})}),l.jsx("button",{onClick:()=>h(x.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar",children:l.jsx("i",{className:"fas fa-trash"})})]})]})]})},x.id)})}),u.length>50&&l.jsx("div",{className:"p-4 bg-gray-50 border-t text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando las primeras 50 transacciones de ",u.length]})})]}),l.jsx(lh,{isOpen:s,onClose:()=>i(!1)}),r&&l.jsx(lh,{isOpen:!!r,onClose:()=>o(null),transaction:r})]})}function ch({isOpen:t,onClose:e,debt:n=null}){const{addDebt:s,updateDebt:i}=be(),r=["Hipoteca","Prstamo Personal","Prstamo Automotriz","Prstamo de Consumo","Tarjeta de Crdito","Prstamo Estudiantil","Otro"],[o,a]=D.useState({name:(n==null?void 0:n.name)||"",type:(n==null?void 0:n.type)||"Prstamo Personal",originalAmount:(n==null?void 0:n.originalAmount)||"",currentBalance:(n==null?void 0:n.currentBalance)||"",interestRate:(n==null?void 0:n.interestRate)||"",monthlyPayment:(n==null?void 0:n.monthlyPayment)||"",currency:(n==null?void 0:n.currency)||"EUR",startDate:(n==null?void 0:n.startDate)||new Date().toISOString().slice(0,10)}),[c,u]=D.useState({}),d=()=>{const m={};o.name.trim()||(m.name="El nombre es obligatorio");const v=parseFloat(o.originalAmount);(isNaN(v)||v<=0)&&(m.originalAmount="El monto original debe ser mayor a 0");const g=parseFloat(o.currentBalance);(isNaN(g)||g<0)&&(m.currentBalance="El saldo actual no puede ser negativo"),g>v&&(m.currentBalance="El saldo actual no puede ser mayor al monto original");const y=parseFloat(o.interestRate);(isNaN(y)||y<0)&&(m.interestRate="La tasa de inters no puede ser negativa");const b=parseFloat(o.monthlyPayment);return(isNaN(b)||b<=0)&&(m.monthlyPayment="La cuota mensual debe ser mayor a 0"),u(m),Object.keys(m).length===0},h=m=>{if(m.preventDefault(),!d())return;const v={name:o.name.trim(),type:o.type,originalAmount:parseFloat(o.originalAmount),currentBalance:parseFloat(o.currentBalance),interestRate:parseFloat(o.interestRate),monthlyPayment:parseFloat(o.monthlyPayment),currency:o.currency,startDate:o.startDate};n?i(n.id,v):s({...v,paymentsMade:0,paymentHistory:[]}),e()},f=(m,v)=>{a({...o,[m]:v}),c[m]&&u({...c,[m]:null})},x=(()=>{const m=parseFloat(o.originalAmount)||0,v=parseFloat(o.currentBalance)||0;return m===0?0:(m-v)/m*100})();return l.jsx(Ic,{isOpen:t,onClose:e,title:n?"Editar Deuda":"Agregar Nueva Deuda",size:"lg",children:l.jsxs("form",{onSubmit:h,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-signature mr-2 text-red-600"}),"Nombre de la deuda *"]}),l.jsx("input",{id:"name",type:"text",value:o.name,onChange:m=>f("name",m.target.value),placeholder:"Ej: Hipoteca Casa Principal",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.name?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,maxLength:50,required:!0}),c.name&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.name]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-tags mr-2 text-red-600"}),"Tipo de deuda *"]}),l.jsx("select",{id:"type",value:o.type,onChange:m=>f("type",m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(m=>l.jsx("option",{value:m,children:m},m))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"originalAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-dollar-sign mr-2 text-red-600"}),"Monto original *"]}),l.jsx("input",{id:"originalAmount",type:"number",step:"0.01",value:o.originalAmount,onChange:m=>f("originalAmount",m.target.value),placeholder:"0.00",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.originalAmount?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.originalAmount&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.originalAmount]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"currentBalance",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-balance-scale mr-2 text-red-600"}),"Saldo actual *"]}),l.jsx("input",{id:"currentBalance",type:"number",step:"0.01",value:o.currentBalance,onChange:m=>f("currentBalance",m.target.value),placeholder:"0.00",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.currentBalance?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.currentBalance&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.currentBalance]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"interestRate",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-percentage mr-2 text-red-600"}),"Tasa de inters anual *"]}),l.jsx("input",{id:"interestRate",type:"number",step:"0.01",value:o.interestRate,onChange:m=>f("interestRate",m.target.value),placeholder:"0.00",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.interestRate?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.interestRate&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.interestRate]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ejemplo: 3.5 para 3.5% anual"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"monthlyPayment",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-calendar-check mr-2 text-red-600"}),"Cuota mensual *"]}),l.jsx("input",{id:"monthlyPayment",type:"number",step:"0.01",value:o.monthlyPayment,onChange:m=>f("monthlyPayment",m.target.value),placeholder:"0.00",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${c.monthlyPayment?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),c.monthlyPayment&&l.jsxs("p",{className:"mt-1 text-sm text-red-600",children:[l.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),c.monthlyPayment]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-coins mr-2 text-red-600"}),"Moneda"]}),l.jsxs("select",{id:"currency",value:o.currency,onChange:m=>f("currency",m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"EUR",children:"EUR "}),l.jsx("option",{value:"CLP",children:"CLP $"}),l.jsx("option",{value:"USD",children:"USD $"}),l.jsx("option",{value:"UF",children:"UF"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-calendar-alt mr-2 text-red-600"}),"Fecha de inicio"]}),l.jsx("input",{id:"startDate",type:"date",value:o.startDate,onChange:m=>f("startDate",m.target.value),max:new Date().toISOString().slice(0,10),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.originalAmount&&o.currentBalance&&l.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Vista previa:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-red-600",children:"Pagado hasta ahora:"}),l.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[(parseFloat(o.originalAmount)-parseFloat(o.currentBalance)).toFixed(2)," ",o.currency]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-red-600",children:"Progreso:"}),l.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[x.toFixed(1),"%"]})]})]}),l.jsx("div",{className:"w-full bg-red-200 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:"h-3 bg-gradient-to-r from-red-500 to-red-600 rounded-full transition-all duration-500",style:{width:`${Math.min(x,100)}%`}})})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:[l.jsx("i",{className:`fas ${n?"fa-save":"fa-plus"} mr-2`}),n?"Actualizar":"Agregar Deuda"]})]})]})})}function R1(){const{debts:t,deleteDebt:e,registerDebtPayment:n,displayCurrency:s,convertCurrency:i}=be(),[r,o]=D.useState(!1),[a,c]=D.useState(null),u=D.useMemo(()=>t.reduce((v,g)=>v+i(g.currentBalance,g.currency,s),0),[t,s]),d=D.useMemo(()=>t.reduce((v,g)=>v+i(g.monthlyPayment,g.currency,s),0),[t,s]),h=v=>{const g=t.find(y=>y.id===v);window.confirm(`Ests seguro de eliminar la deuda "${g.name}"? Esta accin no se puede deshacer.`)&&e(v)},f=v=>{const g=document.getElementById(`payment-${v}`),y=parseFloat(g.value);if(isNaN(y)||y<=0){alert("Por favor ingresa un monto vlido mayor a 0");return}const b=t.find(w=>w.id===v);if(y>b.currentBalance){alert("El pago no puede ser mayor al saldo actual de la deuda");return}n(v,0,y),g.value=""},p=v=>({Hipoteca:"","Prstamo Personal":"","Prstamo Automotriz":"","Prstamo de Consumo":"","Tarjeta de Crdito":"","Prstamo Estudiantil":"",Otro:""})[v]||"",x=v=>v.originalAmount===0?0:(v.originalAmount-v.currentBalance)/v.originalAmount*100,m=v=>v.monthlyPayment===0||v.currentBalance===0?0:Math.ceil(v.currentBalance/v.monthlyPayment);return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:[l.jsx("i",{className:"fas fa-credit-card mr-3 text-red-600"}),"Gestin de Deudas"]}),l.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," ",t.length===1?"deuda registrada":"deudas registradas"]})]}),l.jsxs("button",{onClick:()=>o(!0),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-md",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Agregar Deuda"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-red-100 text-sm mb-1",children:"Deuda Total"}),l.jsx("p",{className:"text-4xl font-bold",children:u.toFixed(2)}),l.jsx("p",{className:"text-red-100 text-sm mt-1",children:s})]}),l.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-exclamation-triangle text-4xl"})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm mb-1",children:"Pago Mensual Total"}),l.jsx("p",{className:"text-4xl font-bold",children:d.toFixed(2)}),l.jsx("p",{className:"text-orange-100 text-sm mt-1",children:s})]}),l.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-calendar-check text-4xl"})})]})})]}),t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[l.jsx("i",{className:"fas fa-smile text-6xl text-green-500 mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sin deudas!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"No tienes deudas registradas. Mantn tu salud financiera en ptimas condiciones!"}),l.jsxs("button",{onClick:()=>o(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Agregar tu primera deuda (si es necesario)"]})]}):l.jsx("div",{className:"space-y-4",children:t.map(v=>{const g=x(v),y=m(v),b=v.originalAmount-v.currentBalance;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-4 text-white",children:l.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-3xl",children:p(v.type)}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:v.name}),l.jsx("p",{className:"text-sm text-red-100",children:v.type})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>c(v),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-all",title:"Editar",children:l.jsx("i",{className:"fas fa-edit"})}),l.jsx("button",{onClick:()=>h(v.id),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-all",title:"Eliminar",children:l.jsx("i",{className:"fas fa-trash"})})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Saldo Actual"}),l.jsx("p",{className:"text-xl font-bold text-red-600",children:v.currentBalance.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500",children:v.currency})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Cuota Mensual"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:v.monthlyPayment.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500",children:v.currency})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tasa Inters"}),l.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[v.interestRate.toFixed(2),"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"anual"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Progreso"}),l.jsxs("p",{className:"text-xl font-bold text-green-600",children:[g.toFixed(0),"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"pagado"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6 text-sm",children:[l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-gray-600 mb-1",children:"Monto Original"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[v.originalAmount.toFixed(2)," ",v.currency]})]}),l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-gray-600 mb-1",children:"Ya Pagado"}),l.jsxs("p",{className:"font-semibold text-green-700",children:[b.toFixed(2)," ",v.currency]})]}),l.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-gray-600 mb-1",children:"Meses Restantes"}),l.jsxs("p",{className:"font-semibold text-blue-700",children:["~",y," meses"]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-600",children:"Progreso de pago"}),l.jsxs("span",{className:"font-medium text-gray-800",children:[g.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:"h-4 bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all duration-500",style:{width:`${g}%`}})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("i",{className:"fas fa-hand-holding-usd mr-2 text-green-600"}),"Registrar pago extra"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"Monto del pago",id:`payment-${v.id}`,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),l.jsxs("button",{onClick:()=>f(v.id),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Registrar"]})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),"Los pagos extra reducen el saldo actual de la deuda"]})]})]})]},v.id)})}),l.jsx(ch,{isOpen:r,onClose:()=>o(!1)}),a&&l.jsx(ch,{isOpen:!!a,onClose:()=>c(null),debt:a})]})}function uh({onClose:t,goal:e=null}){var c;const{addSavingsGoal:n,updateSavingsGoal:s}=be(),[i,r]=D.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",targetAmount:(e==null?void 0:e.targetAmount)||"",currentAmount:(e==null?void 0:e.currentAmount)||"",currency:(e==null?void 0:e.currency)||"EUR",deadline:(e==null?void 0:e.deadline)||"",priority:(e==null?void 0:e.priority)||"Media"}),o=u=>{if(u.preventDefault(),!i.name.trim()){alert("El nombre del objetivo es obligatorio");return}if(!i.targetAmount||parseFloat(i.targetAmount)<=0){alert("La meta debe ser mayor a 0");return}if(i.currentAmount&&parseFloat(i.currentAmount)<0){alert("El monto actual no puede ser negativo");return}if(!i.deadline){alert("La fecha lmite es obligatoria");return}const d={name:i.name.trim(),description:i.description.trim(),targetAmount:parseFloat(i.targetAmount),currentAmount:parseFloat(i.currentAmount)||0,currency:i.currency,deadline:i.deadline,priority:i.priority};e?s(e.id,{...d,currentAmount:e.currentAmount}):n(d),t()},a=(u,d)=>{r(h=>({...h,[u]:d}))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-6 rounded-t-2xl sticky top-0 z-10",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:e?"Editar Objetivo de Ahorro":"Nuevo Objetivo de Ahorro"}),l.jsx("p",{className:"text-green-100 text-sm mt-1",children:e?"Modifica los datos del objetivo":"Crea un nuevo objetivo de ahorro"})]}),l.jsx("button",{onClick:t,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",title:"Cerrar",children:l.jsx("i",{className:"fas fa-times text-2xl"})})]})}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Objetivo *"}),l.jsx("input",{type:"text",value:i.name,onChange:u=>a("name",u.target.value),placeholder:"Ej: Vacaciones 2025, Fondo de Emergencia",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:i.description,onChange:u=>a("description",u.target.value),placeholder:"Ej: Viaje a Japn, 6 meses de gastos",rows:"2",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta (Objetivo) *"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:i.targetAmount,onChange:u=>a("targetAmount",u.target.value),placeholder:"15000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e?"Ahorrado Actual (no editable)":"Monto Inicial (opcional)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:e?e.currentAmount:i.currentAmount,onChange:u=>!e&&a("currentAmount",u.target.value),placeholder:"0",className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${e?"bg-gray-100 cursor-not-allowed":""}`,disabled:!!e}),e&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),"Cambia con aportes, no aqu"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda *"}),l.jsxs("select",{value:i.currency,onChange:u=>a("currency",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[l.jsx("option",{value:"EUR",children:"EUR "}),l.jsx("option",{value:"CLP",children:"CLP $"}),l.jsx("option",{value:"USD",children:"USD $"}),l.jsx("option",{value:"UF",children:"UF"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad *"}),l.jsxs("select",{value:i.priority,onChange:u=>a("priority",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[l.jsx("option",{value:"Alta",children:" Alta"}),l.jsx("option",{value:"Media",children:" Media"}),l.jsx("option",{value:"Baja",children:" Baja"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Lmite *"}),l.jsx("input",{type:"date",value:i.deadline,onChange:u=>a("deadline",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),e&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-semibold text-green-800 mb-2 flex items-center",children:[l.jsx("i",{className:"fas fa-info-circle mr-2"}),"Informacin del Objetivo"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Creado:"}),l.jsx("span",{className:"ml-2",children:new Date(e.id).toLocaleDateString("es-ES")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Aportes:"}),l.jsx("span",{className:"ml-2",children:((c=e.contributionHistory)==null?void 0:c.length)||0})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Progreso:"}),l.jsxs("span",{className:"ml-2",children:[(e.currentAmount/e.targetAmount*100).toFixed(1),"%"]})]})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all font-medium shadow-lg hover:shadow-xl",children:[l.jsx("i",{className:`fas ${e?"fa-save":"fa-plus"} mr-2`}),e?"Guardar Cambios":"Crear Objetivo"]})]})]})]})})}function O1(){const{savingsGoals:t,registerSavingsContribution:e,deleteSavingsGoal:n,displayCurrency:s,convertCurrency:i}=be(),[r,o]=D.useState(!1),[a,c]=D.useState(null),u=t.reduce((p,x)=>p+i(x.targetAmount,x.currency,s),0),d=t.reduce((p,x)=>p+i(x.currentAmount,x.currency,s),0),h=p=>{const x=document.getElementById(`contribution-${p}`),m=parseFloat(x.value);if(isNaN(m)||m<=0){alert("Ingresa un monto vlido mayor a 0");return}e(p,m),x.value=""},f=p=>{window.confirm(`Ests seguro de eliminar "${p.name}"?

Meta: ${p.targetAmount} ${p.currency}
Ahorrado: ${p.currentAmount} ${p.currency}

Esta accin no se puede deshacer.`)&&n(p.id)};return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-piggy-bank mr-3 text-green-600"}),"Objetivos de Ahorro"]}),l.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," objetivo",t.length!==1?"s":""," activo",t.length!==1?"s":""]})]}),l.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-lg hover:shadow-xl font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Nuevo Objetivo"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Meta Total"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s})]}),l.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-bullseye text-2xl text-green-600"})})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ahorrado Total"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s})]}),l.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-coins text-2xl text-blue-600"})})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Progreso General"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[u>0?(d/u*100).toFixed(1):0,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Faltan ",Math.max(0,u-d).toFixed(0)," ",s]})]}),l.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-chart-line text-2xl text-purple-600"})})]})})]}),t.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"bg-green-100 p-8 rounded-full mb-6",children:l.jsx("i",{className:"fas fa-piggy-bank text-6xl text-green-600"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No tienes objetivos de ahorro"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Crea tu primer objetivo de ahorro para empezar a construir tu futuro financiero"}),l.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-lg font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Crear Primer Objetivo"]})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(p=>{const x=p.currentAmount/p.targetAmount*100,m=p.targetAmount-p.currentAmount,v=Math.ceil((new Date(p.deadline)-new Date)/(1e3*60*60*24)),g={Alta:{color:"red",icon:"",bgColor:"bg-red-50",borderColor:"border-red-200"},Media:{color:"yellow",icon:"",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},Baja:{color:"green",icon:"",bgColor:"bg-green-50",borderColor:"border-green-200"}},y=g[p.priority]||g.Media;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white relative",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center",children:[l.jsx("span",{className:"mr-2",children:y.icon}),p.name]}),l.jsx("p",{className:"text-green-100 text-sm",children:p.description||"Sin descripcin"})]}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>c(p),className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors",title:"Editar objetivo",children:l.jsx("i",{className:"fas fa-edit"})}),l.jsx("button",{onClick:()=>f(p),className:"bg-white bg-opacity-20 hover:bg-opacity-30 hover:bg-red-500 p-2 rounded-lg transition-colors",title:"Eliminar objetivo",children:l.jsx("i",{className:"fas fa-trash"})})]})]}),l.jsxs("div",{className:"absolute top-4 right-16 bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-medium",children:["Prioridad: ",p.priority]})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Meta"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:p.targetAmount.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500",children:p.currency})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Ahorrado"}),l.jsx("p",{className:"text-xl font-bold text-green-600",children:p.currentAmount.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500",children:p.currency})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Falta"}),l.jsx("p",{className:"text-xl font-bold text-orange-600",children:m.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500",children:p.currency})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Das restantes"}),l.jsx("p",{className:`text-xl font-bold ${v<30?"text-red-600":"text-gray-800"}`,children:v>0?v:0}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(p.deadline).toLocaleDateString("es-ES")})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progreso"}),l.jsxs("span",{className:`text-sm font-bold ${x>=100?"text-green-600":x>=75?"text-blue-600":x>=50?"text-yellow-600":"text-orange-600"}`,children:[x.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 overflow-hidden",children:l.jsx("div",{className:`h-6 rounded-full transition-all duration-500 ${x>=100?"bg-gradient-to-r from-green-400 to-green-600":x>=75?"bg-gradient-to-r from-blue-400 to-blue-600":x>=50?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-orange-400 to-orange-600"}`,style:{width:`${Math.min(x,100)}%`},children:l.jsx("div",{className:"h-full flex items-center justify-center text-white text-xs font-bold",children:x>=10&&`${x.toFixed(0)}%`})})})]}),p.contributionHistory&&p.contributionHistory.length>0&&l.jsx("div",{className:"mb-6",children:l.jsxs("details",{className:"group",children:[l.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-green-600 transition-colors flex items-center justify-between",children:[l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-history mr-2"}),"Historial de Aportes (",p.contributionHistory.length,")"]}),l.jsx("i",{className:"fas fa-chevron-down group-open:rotate-180 transition-transform"})]}),l.jsx("div",{className:"mt-3 space-y-2 max-h-40 overflow-y-auto",children:p.contributionHistory.slice().reverse().slice(0,5).map((b,w)=>l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center text-sm",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-gray-800",children:["+",b.amount.toFixed(2)," ",p.currency]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(b.date).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),"  ",b.user]})]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Balance: ",b.balanceAfter.toFixed(0)]})]},b.id))})]})}),x<100&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Monto a aportar",id:`contribution-${p.id}`,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),l.jsxs("button",{onClick:()=>h(p.id),className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-md font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Aportar"]})]}),x>=100&&l.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[l.jsx("i",{className:"fas fa-check-circle text-3xl text-green-600 mb-2"}),l.jsx("p",{className:"font-bold text-green-800",children:"Objetivo Cumplido! "}),l.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Has alcanzado tu meta de ahorro"})]})]})]},p.id)})}),r&&l.jsx(uh,{onClose:()=>o(!1)}),a&&l.jsx(uh,{goal:a,onClose:()=>c(null)})]})}function dh({onClose:t,investment:e=null}){var c;const{addInvestment:n,updateInvestment:s}=be(),[i,r]=D.useState({type:(e==null?void 0:e.type)||"Stock",symbol:(e==null?void 0:e.symbol)||"",name:(e==null?void 0:e.name)||"",platform:(e==null?void 0:e.platform)||"",quantity:(e==null?void 0:e.quantity)||"",purchasePrice:(e==null?void 0:e.purchasePrice)||"",currentPrice:(e==null?void 0:e.currentPrice)||"",currency:(e==null?void 0:e.currency)||"USD"}),o=u=>{if(u.preventDefault(),!i.symbol.trim()){alert("El smbolo es obligatorio");return}if(!i.name.trim()){alert("El nombre es obligatorio");return}if(!i.platform.trim()){alert("La plataforma/broker es obligatoria");return}if(!i.quantity||parseFloat(i.quantity)<=0){alert("La cantidad debe ser mayor a 0");return}if(!i.purchasePrice||parseFloat(i.purchasePrice)<=0){alert("El precio de compra debe ser mayor a 0");return}const d={type:i.type,symbol:i.symbol.trim().toUpperCase(),name:i.name.trim(),platform:i.platform.trim(),quantity:parseFloat(i.quantity),purchasePrice:parseFloat(i.purchasePrice),currentPrice:parseFloat(i.currentPrice||i.purchasePrice),currency:i.currency};e?s(e.id,d):n(d),t()},a=(u,d)=>{r(h=>({...h,[u]:d}))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 rounded-t-2xl sticky top-0 z-10",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:e?"Editar Inversin":"Nueva Inversin"}),l.jsx("p",{className:"text-purple-100 text-sm mt-1",children:e?"Modifica los datos de tu inversin":"Registra una nueva inversin en tu portafolio"})]}),l.jsx("button",{onClick:t,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",title:"Cerrar",children:l.jsx("i",{className:"fas fa-times text-2xl"})})]})}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Inversin *"}),l.jsxs("select",{value:i.type,onChange:u=>a("type",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[l.jsx("option",{value:"Stock",children:" Stock (Accin)"}),l.jsx("option",{value:"ETF",children:" ETF"}),l.jsx("option",{value:"Crypto",children:" Criptomoneda"}),l.jsx("option",{value:"Fondo Mutuo",children:" Fondo Mutuo"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smbolo/Ticker *"}),l.jsx("input",{type:"text",value:i.symbol,onChange:u=>a("symbol",u.target.value),placeholder:"AAPL, BTC, MSFT...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad *"}),l.jsx("input",{type:"number",step:"0.00001",min:"0",value:i.quantity,onChange:u=>a("quantity",u.target.value),placeholder:"10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),l.jsx("input",{type:"text",value:i.name,onChange:u=>a("name",u.target.value),placeholder:"Apple Inc., Bitcoin, Microsoft...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plataforma/Broker *"}),l.jsx("input",{type:"text",value:i.platform,onChange:u=>a("platform",u.target.value),placeholder:"Interactive Brokers, Binance, eToro, Fintual...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),"Ej: Interactive Brokers, Binance, eToro, Robinhood, Fintual, Renta4"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio de Compra *"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:i.purchasePrice,onChange:u=>a("purchasePrice",u.target.value),placeholder:"150.50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Precio Actual ",e?"*":"(opcional)"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:i.currentPrice,onChange:u=>a("currentPrice",u.target.value),placeholder:i.purchasePrice||"175.30",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!!e}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e?"Actualiza el precio actual de la inversin":"Si no lo ingresas, se usar el precio de compra"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda *"}),l.jsxs("select",{value:i.currency,onChange:u=>a("currency",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[l.jsx("option",{value:"USD",children:"USD $ (Dlar)"}),l.jsx("option",{value:"EUR",children:"EUR  (Euro)"}),l.jsx("option",{value:"CLP",children:"CLP $ (Peso Chileno)"})]})]}),i.quantity&&i.purchasePrice&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:" Resumen de la Inversin"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Inversin total:"}),l.jsxs("span",{className:"font-bold",children:[(parseFloat(i.quantity)*parseFloat(i.purchasePrice)).toFixed(2)," ",i.currency]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Valor actual:"}),l.jsxs("span",{className:"font-bold",children:[(parseFloat(i.quantity)*parseFloat(i.currentPrice||i.purchasePrice)).toFixed(2)," ",i.currency]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Ganancia/Prdida:"}),l.jsxs("span",{className:`font-bold ${parseFloat(i.currentPrice||i.purchasePrice)-parseFloat(i.purchasePrice)>=0?"text-green-600":"text-red-600"}`,children:[(parseFloat(i.quantity)*(parseFloat(i.currentPrice||i.purchasePrice)-parseFloat(i.purchasePrice))).toFixed(2)," ",i.currency]})]})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[l.jsx("i",{className:"fas fa-info-circle mr-2"}),"Informacin de la Inversin"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Agregada:"}),l.jsx("span",{className:"ml-2",children:new Date(e.id).toLocaleDateString("es-ES")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Operaciones:"}),l.jsx("span",{className:"ml-2",children:((c=e.purchaseHistory)==null?void 0:c.length)||1})]})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all font-medium shadow-lg hover:shadow-xl",children:[l.jsx("i",{className:`fas ${e?"fa-save":"fa-plus"} mr-2`}),e?"Guardar Cambios":"Agregar Inversin"]})]})]})]})})}function I1(){const{investments:t,updateInvestmentPrice:e,displayCurrency:n,convertCurrency:s}=be(),[i,r]=D.useState(!1),[o,a]=D.useState(null),[c,u]=D.useState({}),d=t.reduce((m,v)=>{const g=v.quantity*v.currentPrice;return m+s(g,v.currency,n)},0),h=t.reduce((m,v)=>{const g=v.quantity*v.purchasePrice;return m+s(g,v.currency,n)},0),f=d-h,p=h>0?f/h*100:0,x=async m=>{u(v=>({...v,[m]:!0})),setTimeout(()=>{e(m),u(v=>({...v,[m]:!1}))},500)};return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-line mr-3 text-purple-600"}),"Portafolio de Inversiones"]}),l.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," inversin",t.length!==1?"es":""," activa",t.length!==1?"s":""]})]}),l.jsxs("button",{onClick:()=>r(!0),className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-lg hover:shadow-xl font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Nueva Inversin"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Valor Total"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),l.jsx("div",{className:"bg-purple-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-wallet text-2xl text-purple-600"})})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Inversin Total"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:h.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),l.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-hand-holding-usd text-2xl text-blue-600"})})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ganancia/Prdida"}),l.jsxs("p",{className:`text-3xl font-bold ${f>=0?"text-green-600":"text-red-600"}`,children:[f>=0?"+":"",f.toFixed(0)]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),l.jsx("div",{className:`${f>=0?"bg-green-100":"bg-red-100"} p-4 rounded-full`,children:l.jsx("i",{className:`fas ${f>=0?"fa-arrow-up":"fa-arrow-down"} text-2xl ${f>=0?"text-green-600":"text-red-600"}`})})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border-l-4 border-orange-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ROI Total"}),l.jsxs("p",{className:`text-3xl font-bold ${p>=0?"text-green-600":"text-red-600"}`,children:[p>=0?"+":"",p.toFixed(1),"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Retorno"})]}),l.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:l.jsx("i",{className:"fas fa-percentage text-2xl text-orange-600"})})]})})]}),t.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"bg-purple-100 p-8 rounded-full mb-6",children:l.jsx("i",{className:"fas fa-chart-line text-6xl text-purple-600"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No tienes inversiones registradas"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Comienza a registrar tus inversiones en acciones, ETFs, criptomonedas y ms"}),l.jsxs("button",{onClick:()=>r(!0),className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-8 py-3 rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-lg font-medium",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Agregar Primera Inversin"]})]})}):l.jsx("div",{className:"space-y-6",children:t.map(m=>{const v=m.quantity*m.currentPrice,g=m.quantity*m.purchasePrice,y=v-g,b=g>0?y/g*100:0,w={Stock:{icon:"fa-chart-line",color:"blue",bgColor:"bg-blue-500"},ETF:{icon:"fa-layer-group",color:"indigo",bgColor:"bg-indigo-500"},Crypto:{icon:"fa-bitcoin",color:"orange",bgColor:"bg-orange-500"},"Fondo Mutuo":{icon:"fa-briefcase",color:"green",bgColor:"bg-green-500"}},_=w[m.type]||w.Stock;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:`bg-gradient-to-r from-${_.color}-500 to-${_.color}-600 ${_.bgColor} p-6 text-white`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("i",{className:`fas ${_.icon} text-2xl`}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:m.symbol}),l.jsx("p",{className:"text-sm opacity-90",children:m.name})]})]}),m.platform&&l.jsxs("div",{className:"mt-3 inline-flex items-center bg-white bg-opacity-20 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[l.jsx("i",{className:"fas fa-building mr-2 text-sm"}),l.jsx("span",{className:"text-sm font-medium",children:m.platform})]}),l.jsx("div",{className:"mt-2 inline-block bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs font-medium",children:m.type})]}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>x(m.id),disabled:c[m.id],className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors disabled:opacity-50",title:"Actualizar precio",children:l.jsx("i",{className:`fas fa-sync-alt ${c[m.id]?"animate-spin":""}`})}),l.jsx("button",{onClick:()=>a(m),className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors",title:"Editar inversin",children:l.jsx("i",{className:"fas fa-edit"})})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Cantidad"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:m.quantity}),l.jsx("p",{className:"text-xs text-gray-500",children:"unidades"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Precio Actual"}),l.jsx("p",{className:"text-xl font-bold text-purple-600",children:m.currentPrice.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500",children:m.currency})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Valor Total"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:v.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500",children:m.currency})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"ROI"}),l.jsxs("p",{className:`text-xl font-bold ${b>=0?"text-green-600":"text-red-600"}`,children:[b>=0?"+":"",b.toFixed(2),"%"]}),l.jsxs("p",{className:`text-xs ${b>=0?"text-green-600":"text-red-600"}`,children:[b>=0?"+":"",y.toFixed(2)," ",m.currency]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Precio Compra"}),l.jsxs("span",{className:"font-semibold text-gray-800",children:[m.purchasePrice.toFixed(2)," ",m.currency]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Inversin Total"}),l.jsxs("span",{className:"font-semibold text-gray-800",children:[g.toFixed(2)," ",m.currency]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Rendimiento"}),l.jsxs("span",{className:`text-sm font-bold ${b>=0?"text-green-600":"text-red-600"}`,children:[b>=0?"":""," ",b>=0?"+":"",b.toFixed(2),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:`h-3 transition-all duration-500 ${b>=20?"bg-gradient-to-r from-green-400 to-green-600":b>=10?"bg-gradient-to-r from-green-300 to-green-500":b>=0?"bg-gradient-to-r from-blue-400 to-blue-600":b>=-10?"bg-gradient-to-r from-orange-400 to-orange-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.abs(b)>100?100:Math.abs(b)}%`,marginLeft:b<0?`${100-Math.abs(b)}%`:"0"}})})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx("i",{className:"fas fa-calendar-alt mr-2 text-gray-400"}),l.jsx("span",{children:"ltima actualizacin:"})]}),l.jsx("div",{className:"text-right font-medium text-gray-800",children:new Date(m.lastUpdated).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),m.purchaseHistory&&m.purchaseHistory.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx("i",{className:"fas fa-history mr-2 text-gray-400"}),l.jsx("span",{children:"Primera compra:"})]}),l.jsx("div",{className:"text-right font-medium text-gray-800",children:new Date(m.purchaseHistory[0].date).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})]})]})})]})]},m.id)})}),i&&l.jsx(dh,{onClose:()=>r(!1)}),o&&l.jsx(dh,{investment:o,onClose:()=>a(null)})]})}const hh={projectCashflow(t,e,n){const s=[],i=t.reduce((c,u)=>c+u.budget,0),r=e.reduce((c,u)=>c+u.monthlyPayment,0),o=n.monthlyIncome||0;let a=0;for(let c=0;c<12;c++){const u=new Date;u.setMonth(u.getMonth()+c);const d=o,h=i,f=r,p=d-h-f;a+=p,s.push({month:u.toLocaleDateString("es-ES",{month:"short",year:"numeric"}),monthIndex:c,income:d,expenses:h,debtPayments:f,netCashflow:p,cumulativeBalance:a})}return s},getProjectionStats(t){const e=t.filter(r=>r.netCashflow<0).length,n=t.reduce((r,o)=>r+o.netCashflow,0)/t.length,s=t[t.length-1].cumulativeBalance,i=Math.min(...t.map(r=>r.cumulativeBalance));return{deficitMonths:e,avgNetCashflow:n,finalBalance:s,minBalance:i,isHealthy:e===0&&s>0}}};function L1(){const{categories:t,debts:e,ynabConfig:n}=be(),s=D.useMemo(()=>hh.projectCashflow(t,e,n),[t,e,n]),i=D.useMemo(()=>hh.getProjectionStats(s),[s]);return{cashflowProjection:s,projectionStats:i}}function z1(){const{displayCurrency:t}=be(),{cashflowProjection:e,projectionStats:n}=L1(),s={labels:e.map(i=>i.month),datasets:[{label:"Ingresos",data:e.map(i=>i.income),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:3,tension:.1,fill:!0},{label:"Gastos",data:e.map(i=>i.expenses),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:3,tension:.1,fill:!0},{label:"Balance Acumulado",data:e.map(i=>i.cumulativeBalance),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.05)",borderWidth:2,borderDash:[5,5],tension:.1}]};return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 rounded-2xl p-8 text-white shadow-2xl",children:[l.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[l.jsx("i",{className:"fas fa-chart-line mr-3"}),"Proyeccin de Cashflow"]}),l.jsx("p",{className:"text-cyan-100",children:"Visualizacin de flujo de efectivo para los prximos 12 meses"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Balance Final (12 meses)"}),l.jsx("p",{className:`text-3xl font-bold ${n.finalBalance>=0?"text-green-600":"text-red-600"}`,children:n.finalBalance.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Cashflow Promedio Mensual"}),l.jsx("p",{className:`text-3xl font-bold ${n.avgNetCashflow>=0?"text-green-600":"text-red-600"}`,children:n.avgNetCashflow.toFixed(2)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Meses con Dficit"}),l.jsx("p",{className:`text-3xl font-bold ${n.deficitMonths===0?"text-green-600":"text-orange-600"}`,children:n.deficitMonths}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"de 12 meses"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Estado Financiero"}),l.jsx("div",{className:"flex items-center mt-2",children:n.isHealthy?l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-check-circle text-3xl text-green-600 mr-2"}),l.jsx("span",{className:"text-xl font-bold text-green-600",children:"Saludable"})]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-exclamation-triangle text-3xl text-orange-600 mr-2"}),l.jsx("span",{className:"text-xl font-bold text-orange-600",children:"Atencin"})]})})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:[l.jsx("i",{className:"fas fa-chart-area mr-2 text-blue-600"}),"Proyeccin Anual de Cashflow"]}),l.jsx(vp,{data:s,height:400})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 p-4",children:l.jsxs("h3",{className:"text-xl font-bold text-white",children:[l.jsx("i",{className:"fas fa-table mr-2"}),"Detalle Mensual"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Mes"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ingresos"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Gastos"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deudas"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Neto"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Balance Acum."})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((i,r)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.month}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600 font-semibold",children:i.income.toFixed(2)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600",children:i.expenses.toFixed(2)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-orange-600",children:i.debtPayments.toFixed(2)}),l.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-semibold ${i.netCashflow>=0?"text-green-600":"text-red-600"}`,children:[i.netCashflow>=0?"+":"",i.netCashflow.toFixed(2)]}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-bold ${i.cumulativeBalance>=0?"text-blue-600":"text-red-600"}`,children:i.cumulativeBalance.toFixed(2)})]},r))})]})})]})]})}function B1({nautaIndex:t}){const{score:e,breakdown:n,interpretation:s}=t,r={green:{bg:"from-green-500 to-green-600",light:"bg-green-50",border:"border-green-200",text:"text-green-800"},blue:{bg:"from-blue-500 to-blue-600",light:"bg-blue-50",border:"border-blue-200",text:"text-blue-800"},yellow:{bg:"from-yellow-500 to-yellow-600",light:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800"},red:{bg:"from-red-500 to-red-600",light:"bg-red-50",border:"border-red-200",text:"text-red-800"}}[s.color];return l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[l.jsx("div",{className:`bg-gradient-to-r ${r.bg} p-8 text-white`,children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-4",children:[l.jsx("span",{className:"text-6xl mr-4",children:s.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"ndice de Tranquilidad Financiera"}),l.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Mtodo Nauta"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"text-8xl font-bold mb-2",children:e}),l.jsx("div",{className:"text-2xl opacity-90",children:"de 100 puntos"}),l.jsx("div",{className:"mt-4 text-xl font-semibold",children:s.level})]}),l.jsx("div",{className:"mt-6",children:l.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-4",children:l.jsx("div",{className:"h-4 rounded-full bg-white transition-all duration-1000",style:{width:`${e}%`}})})}),l.jsx("p",{className:"mt-4 text-lg opacity-95",children:s.message})]})}),l.jsxs("div",{className:"p-8",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-pie mr-3 text-purple-600"}),"Desglose por Componentes"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Os,{icon:"fa-life-ring",iconColor:"text-blue-600",title:"Fondo de Emergencia",score:n.emergencyFund.score,max:n.emergencyFund.max,details:n.emergencyFund.details}),l.jsx(Os,{icon:"fa-piggy-bank",iconColor:"text-green-600",title:"Tasa de Ahorro",score:n.savingsRate.score,max:n.savingsRate.max,details:n.savingsRate.details}),l.jsx(Os,{icon:"fa-exclamation-triangle",iconColor:"text-red-600",title:"Deudas Txicas",score:n.toxicDebts.score,max:n.toxicDebts.max,details:n.toxicDebts.details}),l.jsx(Os,{icon:"fa-shield-alt",iconColor:"text-indigo-600",title:"Seguros y Proteccin",score:n.insurance.score,max:n.insurance.max,details:n.insurance.details}),l.jsx(Os,{icon:"fa-clock",iconColor:"text-purple-600",title:"APV / Ahorro Previsional",score:n.retirement.score,max:n.retirement.max,details:n.retirement.details})]}),l.jsx("div",{className:`mt-8 ${r.light} border-2 ${r.border} rounded-xl p-6`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Puntuacin Total"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[t.totalAchieved.toFixed(1)," / ",t.totalPossible]})]}),l.jsx("div",{className:`text-6xl ${r.text}`,children:s.icon})]})})]})]})}function Os({icon:t,iconColor:e,title:n,score:s,max:i,details:r}){const o=s/i*100;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mr-4",children:l.jsx("i",{className:`fas ${t} ${e} text-xl`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:n}),l.jsx("p",{className:"text-sm text-gray-600",children:r.status})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.toFixed(1)}),l.jsxs("p",{className:"text-xs text-gray-500",children:["de ",i]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${o>=80?"bg-green-500":o>=60?"bg-blue-500":o>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o}%`}})}),l.jsxs("details",{className:"mt-3",children:[l.jsxs("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-purple-600 transition-colors",children:["Ver detalles ",l.jsx("i",{className:"fas fa-chevron-down ml-1"})]}),l.jsx("div",{className:"mt-3 pl-4 border-l-2 border-gray-200 text-sm text-gray-700 space-y-1",children:Object.entries(r).map(([a,c])=>a==="status"?null:Array.isArray(c)?c.length===0?l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"text-gray-600 capitalize",children:[wa(a),":"]}),l.jsx("span",{className:"font-medium",children:"Ninguna"})]},a):l.jsxs("div",{className:"mb-2",children:[l.jsxs("span",{className:"text-gray-600 capitalize block mb-1",children:[wa(a),":"]}),l.jsx("div",{className:"pl-2 space-y-1",children:c.map((u,d)=>{var h;return l.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded",children:typeof u=="object"?l.jsxs(l.Fragment,{children:[l.jsx("div",{children:l.jsx("strong",{children:u.name})}),l.jsxs("div",{children:["Tipo: ",u.type]}),l.jsxs("div",{children:["Saldo: ",(h=u.balance)==null?void 0:h.toFixed(2)]})]}):l.jsx("span",{children:String(u)})},d)})})]},a):l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"text-gray-600 capitalize",children:[wa(a),":"]}),l.jsx("span",{className:"font-medium",children:$1(c)})]},a))})]})]})}function wa(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}function $1(t){return typeof t=="number"?t.toFixed(2):typeof t=="boolean"?t?" S":" No":t==null?"N/A":String(t)}function H1(){const{displayCurrency:t,ynabConfig:e}=be(),{nautaIndex:n,debtToIncomeRatio:s,savingsRate:i,debtServiceRatio:r,emergencyFundMonths:o,netWorth:a}=Mm();return l.jsxs("div",{className:"space-y-6 animate-in",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-brain mr-3 text-purple-600"}),"Anlisis Financiero Completo"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Evaluacin integral de tu salud financiera"})]}),l.jsx(B1,{nautaIndex:n}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"fas fa-chart-bar mr-3 text-indigo-600"}),"Indicadores Clave (KPIs)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(Hn,{title:"Ratio Deuda/Ingreso Anual",value:`${s.toFixed(1)}%`,icon:"fa-balance-scale",status:s<36?"good":s<50?"warning":"danger",description:s<36?"Saludable - Nivel de deuda manejable":s<50?"Moderado - Monitorear de cerca":"Alto - Requiere accin inmediata",benchmark:"Recomendado: < 36%"}),l.jsx(Hn,{title:"Tasa de Ahorro",value:`${i.toFixed(1)}%`,icon:"fa-piggy-bank",status:i>=20?"good":i>=10?"warning":"danger",description:i>=20?"Excelente - Muy por encima del promedio":i>=10?"Bueno - Puede mejorar":"Bajo - Incrementar ahorro",benchmark:"Recomendado:  20%"}),l.jsx(Hn,{title:"Ratio Servicio de Deuda",value:`${r.toFixed(1)}%`,icon:"fa-money-bill-wave",status:r<20?"good":r<36?"warning":"danger",description:r<20?"Saludable - Deuda controlada":r<36?"Moderado - Revisar presupuesto":"Alto - Reducir cuotas urgente",benchmark:"Recomendado: < 20%"}),l.jsx(Hn,{title:"Fondo de Emergencia",value:`${o.toFixed(1)} meses`,icon:"fa-life-ring",status:o>=6?"good":o>=3?"warning":"danger",description:o>=6?"Excelente - Bien protegido":o>=3?"Bsico - Aumentar gradualmente":"Insuficiente - Prioridad alta",benchmark:"Recomendado: 6 meses"}),l.jsx(Hn,{title:"Patrimonio Neto",value:`${a.toFixed(0)} ${t}`,icon:"fa-wallet",status:a>=0?"good":"danger",description:a>=0?"Positivo - Activos superan pasivos":"Negativo - Reducir deudas urgente",benchmark:"Objetivo: Positivo y creciente"}),l.jsx(Hn,{title:"Ingreso Mensual",value:`${((e==null?void 0:e.monthlyIncome)||0).toFixed(0)} ${t}`,icon:"fa-hand-holding-usd",status:(e==null?void 0:e.monthlyIncome)>0?"good":"warning",description:(e==null?void 0:e.monthlyIncome)>0?"Configurado correctamente":"Sin configurar - Ir a Presupuesto",benchmark:"Base para clculos"})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"fas fa-lightbulb mr-3 text-yellow-500"}),"Recomendaciones Personalizadas"]}),l.jsxs("div",{className:"space-y-3",children:[n.score<60&&l.jsx(Is,{icon:"fa-exclamation-circle",color:"text-red-600",text:"Tu ndice de tranquilidad est bajo. Prioriza crear un fondo de emergencia."}),i<10&&l.jsx(Is,{icon:"fa-arrow-up",color:"text-orange-600",text:"Intenta aumentar tu tasa de ahorro al menos al 10% de tus ingresos."}),o<3&&l.jsx(Is,{icon:"fa-shield-alt",color:"text-blue-600",text:"Aumenta tu fondo de emergencia para cubrir al menos 3 meses de gastos."}),s>50&&l.jsx(Is,{icon:"fa-chart-line",color:"text-red-600",text:"Tu nivel de deuda es alto. Considera consolidar o refinanciar."}),n.score>=80&&l.jsx(Is,{icon:"fa-trophy",color:"text-green-600",text:"Excelente trabajo! Mantn estos buenos hbitos financieros."})]})]})]})}function Hn({title:t,value:e,icon:n,status:s,description:i,benchmark:r}){const a={good:{bg:"bg-green-50",border:"border-green-200",icon:"bg-green-100 text-green-600",text:"text-green-800"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"bg-yellow-100 text-yellow-600",text:"text-yellow-800"},danger:{bg:"bg-red-50",border:"border-red-200",icon:"bg-red-100 text-red-600",text:"text-red-800"}}[s];return l.jsxs("div",{className:`${a.bg} border-2 ${a.border} rounded-xl p-6 hover:shadow-lg transition-shadow`,children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsx("div",{className:`${a.icon} p-4 rounded-lg`,children:l.jsx("i",{className:`fas ${n} text-2xl`})})}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:t}),l.jsx("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:e}),l.jsx("p",{className:`text-sm font-medium mb-2 ${a.text}`,children:i}),l.jsxs("p",{className:"text-xs text-gray-600 border-t border-gray-300 pt-2 mt-2",children:[l.jsx("i",{className:"fas fa-info-circle mr-1"}),r]})]})}function Is({icon:t,color:e,text:n}){return l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg",children:[l.jsx("i",{className:`fas ${t} ${e} text-xl mt-1`}),l.jsx("p",{className:"text-gray-700 flex-1",children:n})]})}function W1(){const[t,e]=D.useState(null),[n,s]=D.useState(!1);D.useEffect(()=>{const o=a=>{console.log("PWA: beforeinstallprompt event fired"),a.preventDefault(),e(a),s(!0)};return window.addEventListener("beforeinstallprompt",o),window.matchMedia("(display-mode: standalone)").matches&&(console.log("PWA: App already installed"),s(!1)),()=>window.removeEventListener("beforeinstallprompt",o)},[]);const i=async()=>{if(!t){console.log("PWA: No deferred prompt available");return}t.prompt();const{outcome:o}=await t.userChoice;console.log(`PWA: User response: ${o}`),o==="accepted"&&console.log("PWA: User accepted installation"),e(null),s(!1)},r=()=>{s(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return D.useEffect(()=>{const o=localStorage.getItem("pwa-install-dismissed");o&&Date.now()-parseInt(o)<864e5&&s(!1)},[]),n?l.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50 animate-in",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl shadow-2xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-white bg-opacity-20 p-3 rounded-lg mr-3",children:l.jsx("i",{className:"fas fa-mobile-alt text-2xl"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:"Instalar Finanzas PRO"}),l.jsx("p",{className:"text-sm opacity-90",children:"Acceso rpido desde tu pantalla"})]})]}),l.jsx("button",{onClick:r,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors","aria-label":"Cerrar",children:l.jsx("i",{className:"fas fa-times"})})]}),l.jsxs("ul",{className:"text-sm space-y-2 mb-4 opacity-90",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check-circle mr-2"}),"Funciona sin conexin"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check-circle mr-2"}),"Acceso rpido desde tu inicio"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check-circle mr-2"}),"Actualizaciones automticas"]})]}),l.jsxs("button",{onClick:i,className:"w-full bg-white text-purple-600 font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition-all shadow-lg",children:[l.jsx("i",{className:"fas fa-download mr-2"}),"Instalar Ahora"]})]})}):null}function V1(){const[t,e]=D.useState("dashboard"),n=()=>{switch(t){case"dashboard":return l.jsx(ah,{});case"budget":return l.jsx(T1,{});case"transactions":return l.jsx(F1,{});case"debts":return l.jsx(R1,{});case"savings":return l.jsx(O1,{});case"investments":return l.jsx(I1,{});case"cashflow":return l.jsx(z1,{});case"analysis":return l.jsx(H1,{});default:return l.jsx(ah,{})}};return l.jsx(tx,{children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[l.jsx(ix,{}),l.jsx(rx,{currentView:t,setCurrentView:e}),l.jsx("main",{className:"container mx-auto px-4 py-6",children:n()}),l.jsx("footer",{className:"bg-white border-t mt-12 py-6",children:l.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-600",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("i",{className:"fas fa-rocket mr-2"}),"Finanzas PRO v5.0 - Proyecto Base"]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Listo para implementar mejoras M1-M9"})]})}),l.jsx(W1,{})]})})}_a.createRoot(document.getElementById("root")).render(l.jsx(Lp.StrictMode,{children:l.jsx(V1,{})}));
